{"version":3,"sources":["webpack:///.._src_utils.js","webpack:///.._src_polyfill.js","webpack:///.._src_env.js","webpack:///.._src_interceptor_chain.js","webpack:///.._src_tools.js","webpack:///.._src_index.js","webpack:///.._src_interceptor_index.js","webpack:///.._src_interceptor_interceptors.js","webpack:///D:_Projects_WebstormProjects_vant-taro_node_modules_@tarojs_api_node_modules_@babel_runtime_helpers_classCallCheck.js","webpack:///D:_Projects_WebstormProjects_vant-taro_node_modules_@tarojs_api_node_modules_@babel_runtime_helpers_createClass.js","webpack:///D:_Projects_WebstormProjects_vant-taro_node_modules_@tarojs_api_node_modules_@babel_runtime_helpers_defineProperty.js","webpack:///D:_Projects_WebstormProjects_vant-taro_node_modules_@tarojs_api_node_modules_@babel_runtime_helpers_objectSpread2.js","webpack:///D:_Projects_WebstormProjects_vant-taro_node_modules_@tarojs_api_node_modules_@babel_runtime_helpers_typeof.js","webpack:///D:_Projects_WebstormProjects_vant-taro_node_modules_@tarojs_mini-runner_dist_template_comp.js","webpack:///.._.._src_template_custom-wrapper.ts","webpack:///D:_Projects_WebstormProjects_vant-taro_node_modules_@tarojs_mini-runner_node_modules_regenerator-runtime_runtime-module.js","webpack:///D:_Projects_WebstormProjects_vant-taro_node_modules_@tarojs_mini-runner_node_modules_regenerator-runtime_runtime.js","webpack:///.._src_runtime_utils.ts","webpack:///.._src_runtime_connect.ts","webpack:///.._src_runtime_hooks.ts","webpack:///.._src_runtime_connect-native.ts","webpack:///.._src_runtime_index.ts","webpack:///.._.._taro-components_mini_index.js","webpack:///.._src_apis-list.ts","webpack:///.._src_components.ts","webpack:///.._src_runtime-utils.ts","webpack:///.._src_apis.ts","webpack:///.._src_runtime.ts","webpack:///.._src_polyfill_reflect-metadata.js","webpack:///.._src_constants_index.ts","webpack:///.._src_utils_index.ts","webpack:///.._src_interface_container.ts","webpack:///.._src_constants_identifiers.ts","webpack:///.._src_container_store.ts","webpack:///.._src_dom_event-target.ts","webpack:///.._src_hydrate.ts","webpack:///.._src_dom_event-source.ts","webpack:///.._src_dom-external_mutation-observer_implements.ts","webpack:///.._src_dom-external_mutation-observer_index.ts","webpack:///.._src_dom_node.ts","webpack:///.._src_dom_text.ts","webpack:///.._src_dom_style_properties.ts","webpack:///.._src_dom_style.ts","webpack:///.._src_dom_tree.ts","webpack:///.._src_dom_class-list.ts","webpack:///.._src_dom_element.ts","webpack:///.._src_options.ts","webpack:///.._src_perf.ts","webpack:///.._src_dom_root.ts","webpack:///.._src_dom_form.ts","webpack:///.._src_dom_svg.ts","webpack:///.._src_dom_event.ts","webpack:///.._src_env.ts","webpack:///.._src_dom-external_inner-html_scaner.ts","webpack:///.._src_dom-external_inner-html_tags.ts","webpack:///.._src_dom-external_inner-html_utils.ts","webpack:///.._src_dom-external_inner-html_style.ts","webpack:///.._src_dom-external_inner-html_parser.ts","webpack:///.._src_dom-external_inner-html_html.ts","webpack:///.._src_dom-external_node-impl.ts","webpack:///.._src_dom-external_element-impl.ts","webpack:///.._src_dom_document.ts","webpack:///.._src_constants_events.ts","webpack:///.._src_container_default-hooks.ts","webpack:///.._src_hooks.ts","webpack:///.._src_container_plugin-hooks.ts","webpack:///.._src_container_index.ts","webpack:///.._src_bom_document.ts","webpack:///.._src_bom_raf.ts","webpack:///.._src_bom_navigator.ts","webpack:///.._src_bom_getComputedStyle.ts","webpack:///.._src_bom_window.ts","webpack:///.._src_current.ts","webpack:///.._src_emitter_emitter.ts","webpack:///.._src_dsl_common.ts","webpack:///.._src_next-tick.ts","webpack:///.._src_is.ts","webpack:///.._src_utils.ts","webpack:///.._src_native-apis.ts","webpack:///D:_Projects_WebstormProjects_vant-taro_node_modules_@tarojs_taro_index.js"],"names":["isFunction","x","isUndefined","isObject","isBadObj","throwTypeError","TypeError","Object","target","to","index","arguments","nextSource","obj","properties","d","hasProperty","desc","g","s","keys","descs","i","convertToDescriptor","ENV_TYPE","WEAPP","WEB","RN","SWAN","ALIPAY","TT","QQ","JD","Chain","this","interceptors","Error","p","nextInterceptor","res","err","Promise","defaultDesignRatio","640","750","828","getInitPxTransform","config","designWidth","deviceRatio","taro","Taro","Behavior","getEnv","Link","chain","taroInterceptor","interceptor","requestParams","timeout","setTimeout","reject","clearTimeout","resolve","method","data","url","console","Current","getCurrentInstance","options","nextTick","eventCenter","Events","key","val","current","size","parseInt","module","exports","instance","Constructor","__esModule","_defineProperties","props","length","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","prototype","value","require","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","source","forEach","getOwnPropertyDescriptors","defineProperties","_typeof","Symbol","iterator","constructor","Component","createRecursiveComponentConfig","Function","hadRuntime","regeneratorRuntime","getOwnPropertyNames","indexOf","oldRuntime","undefined","e","global","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","inModule","runtime","wrap","ContinueSentinel","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","call","Gp","GeneratorFunctionPrototype","Generator","create","GeneratorFunction","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","arg","__await","defineIteratorMethods","AsyncIterator","async","innerFn","outerFn","self","tryLocsList","iter","next","then","result","done","toString","reverse","pop","Context","reset","skipTempReset","prev","sent","_sent","delegate","tryEntries","resetTryEntry","charAt","isNaN","slice","stop","rootRecord","completion","type","rval","dispatchException","exception","context","handle","loc","caught","record","entry","tryLoc","hasCatch","hasFinally","catchLoc","finallyLoc","abrupt","finallyEntry","complete","afterLoc","finish","thrown","delegateYield","iterable","resultName","nextLoc","protoGenerator","generator","_invoke","state","doneResult","delegateResult","maybeInvokeDelegate","tryCatch","makeInvokeMethod","fn","previousPromise","callInvokeWithMethodAndArg","invoke","unwrapped","return","info","pushTryEntry","locs","iteratorMethod","isClassComponent","R","component","render","isReactComponent","setDefaultDescriptor","setRouterParams","router","params","query","h","ReactDOM","PageContext","pageKeyId","hooks","get","Hooks","setReconciler","getLifecycle","lifecycle","replace","modifyMpEventImpls","event","batchedEventUpdates","cb","unstable_batchedUpdates","mergePageInstance","item","prevList","nextList","ensureIsArray","concat","createReactApp","App","react","dom","createElement","appWrapper","appInstanceRef","createRef","getAppInstance","AppWrapper","pages","elements","pageComponent","id","pageWrapper","Page","inject","node","refs","ref","forwardedRef","reactReduxForwardedRef","createContext","hasError","error","warn","componentStack","children","Provider","connectReactPage","tid","forceUpdate","idx","findIndex","splice","page","getElementById","getMiniLifecycleImpl","app","ONLAUNCH","ONSHOW","ONHIDE","appObj","mount","unmount","$app","taroGlobalData","globalData","descriptors","set","onLaunch","componentDidShow","triggerAppHook","componentDidHide","onPageNotFound","option","func","Array","isArray","taroHooks","React","useContext","fnRef","useRef","useLayoutEffect","inst","first","callback","list","useDidShow","useDidHide","usePullDownRefresh","useReachBottom","usePageScroll","useResize","useShareAppMessage","useTabItemTap","useTitleClick","useOptionMenuClick","usePullIntercept","useShareTimeline","useAddToFavorites","useReady","dynamic","useMemo","initNativeApiImpls","hook","View","Button","needPromiseApis","Set","hostConfig","initNativeApi","wx","modifyApis","apis","delete","cloud","components","Reflect","previous","exporter","supportsSymbol","toPrimitiveSymbol","toPrimitive","supportsCreate","supportsProto","downLevel","HashMap","MakeDictionary","has","map","functionPrototype","usePolyfill","process","env","_Map","Map","_Set","Metadata","WeakMap","rootKey","CreateUniqueKey","_key","table","GetOrCreateWeakMapTable","clear","CreateUUID","FillRandomBytes","buffer","Math","random","Uint8Array","crypto","msCrypto","getRandomValues","GenRandomBytes","offset","byte","toLowerCase","CreateWeakMapPolyfill","GetOrCreateMetadataMap","O","P","Create","targetMetadata","IsUndefined","metadataMap","OrdinaryHasOwnMetadata","MetadataKey","OrdinaryGetOwnMetadata","OrdinaryDefineOwnMetadata","MetadataValue","OrdinaryOwnMetadataKeys","GetMethod","IsCallable","IsObject","GetIterator","k","IteratorStep","nextValue","IteratorClose","Type","IsNull","ToPrimitive","input","PreferredType","hint","exoticToPrim","toString_1","valueOf","toString_2","OrdinaryToPrimitive","ToPropertyKey","argument","ToString","IsArray","IsConstructor","V","f","OrdinaryGetPrototypeOf","proto","prototypeProto","__","decorators","propertyKey","attributes","decorated","decorator","DecorateConstructor","DecorateProperty","metadataKey","metadataValue","IsPropertyKey","OrdinaryHasMetadata","parent","OrdinaryGetMetadata","OrdinaryMetadataKeys","parentKeys","_i","ownKeys_1","add","_a","parentKeys_1","factory","ID","STYLE","VIEW","OPTIONS","EXTERNAL_CLASSES","BEHAVIORS","incrementId","isElement","nodeType","isComment","nodeName","isHasExtractProp","el","find","prop","test","startsWith","Boolean","shortcutAttr","ElementNames","customWrapperCache","SERVICE_IDENTIFIER","TaroElement","TaroElementFactory","TaroText","TaroTextFactory","TaroNodeImpl","TaroElementImpl","onRemoveAttribute","getMiniLifecycle","getPathIndex","getEventCenter","isBubbleEvents","getSpecialNodes","modifyMpEvent","modifyTaroEvent","modifyDispatchEvent","createPullDownComponent","getDOMNode","modifyHydrateData","modifySetAttrPayload","modifyRmAttrPayload","onAddEvent","patchElement","modifyPageObject","store","container","getHooks","getElementFactory","getDocument","getElement","Document","TaroEventTarget","__handlers","handler","addEventListener","isCapture","isOnce","capture","once","wrapper","removeEventListener","oldHandler","handlers","isAnyEventBinded","hydrate","isText","nodeValue","sid","SPECIAL_NODES","uid","propInCamelCase","childNodes","className","cssText","eventSource","child","removeNode","removeNodeTree","observers","isConcerned","characterData","characterDataOldValue","attributeOldValue","childList","oldValue","pendingMuatations","logMutation","observer","records","takeRecords","MutationObserver","core","observe","disconnect","observerTarget","t","parentNode","subtree","recordMutation","nodeId","TaroNode","_getElement","bind","firstChild","shift","isClean","enqueueUpdate","path","_path","_root","refChild","indexOfNode","text","newText","createTextNode","removedNodes","addedNodes","_empty","updateChildNodes","appendChild","newChild","isReplace","reduceRight","previousValue","currentValue","insertBefore","remove","cleanRef","nextSibling","previousSibling","oldChild","doUpdate","removeChild","payload","_value","textContent","styleProperties","combine","prefix","excludeSelf","color_style_width","fitlength_fitwidth_image","fitlength_fitwidth_image_radius","color_style_width_fitlength_fitwidth_image","endRadius_startRadius","bottom_left_right_top","end_start","content_items_self","blockSize_height_inlineSize_width","after_before","setStyle","newVal","styleKey","old","oldCssTxt","_usedStyleProp","_element","attributeName","Style","element","texts","styleName","join","str","removeProperty","rules","split","rule","trim","propName","setProperty","propertyName","setCssVariables","returnTrue","treeToArray","root","predict","array","following","parentElement","initStyle","ClassList","v","_update","s1","s2","dataset","style","listeners","_stop","getAttribute","setAttribute","propKeys","qualifiedName","isPureView","String","isStaticView","attr","tagName","classList","every","c","cancelable","listener","_end","defaultPrevented","_stopPropagation","prerender","debug","perf","recorder","Date","now","time","log","findCustomWrapper","dataPathArr","customWrapper","currentData","splitedPath","some","TaroRootElement","updatePayloads","updateCallbacks","pendingUpdate","ctx","performUpdate","initRender","start","resetPaths","endsWith","includes","normalUpdate","customWrapperMap","found","customWrpperCount","isNeedNormalUpdate","updateArrLen","executeTime","flushUpdateCallback","setData","copies","FormElement","mpEvent","detail","SVGElement","TaroEvent","opts","timeStamp","bubbles","currentTarget","createEvent","domEv","eventsBatch","eventHandler","dispatch","dispatchEvent","isParentBinded","catchMove","win","feedPosition","position","len","end","line","column","jumpPosition","copyPosition","whitespace","isWhitespaceChar","char","equalSign","isEqualSignChar","shouldBeIgnore","html","skipElements","alphanumeric","isWordEnd","cursor","wordBegin","Scaner","tokens","scanText","scanComment","scanTag","scanSkipTag","textEnd","findTextEnd","content","contentEnd","commentEnd","scanTagStart","scanTagName","scanAttrs","scanTagEnd","close","quote","words","wLen","word","secondWord","newWord","thirdWord","safeTagName","nextTag","makeMap","expectsLowerCase","specialMiniElements","img","iframe","isMiniElements","isInlineElements","isBlockElements","unquote","car","StyleTagParser","styles","src","_","$1","stringToSelector","lb","rb","selectors","selectorList","parseSelector","firstChar","selector","isChild","isGeneralSibling","isAdjacentSibling","tag","class","attrs","all","substr","sort","hundreds1","getHundredsWeight","hundreds2","tens1","getTensWeight","tens2","getOnesWeight","reduce","nextSelector","isMatch","matchCurrent","getPreviousElement","h5tagName","cls","hasAttribute","pre","cur","closingTagAncestorBreakers","li","dt","dd","tbody","thead","tfoot","tr","td","hasTerminalParent","stack","tagParents","currentIndex","parentTagName","format","document","styleOptions","transformText","renderHTMLTag","styleTagParser","descendantList","matchStyle","transformElement","parser","extractStyle","parse","nodes","token","tagToken","shouldRewind","shouldRewindToAutoClose","closingElements","attrToken","voidElements","innerState","scan","fill","setInnerHTML","getDoc","bindInnerHTML","TaroDocument","getText","_getText","RootElement","Element","_svgNS","textnode","BUBBLE_EVENTS","defaultMiniLifecycle","defaultConfig","eventName","DefaultHooksContainer","bindFunction","toFunction","modifyTaroEventImpls","modifyDispatchEventImpls","patchElementImpls","processPluginHooks","identifier","isBound","rebind","single","inSingletonScope","whenTargetNamed","createDocument","doc","ioc_container","documentCreateElement","head","body","documentElement","toFactory","named","getNamed","toUpperCase","textNode","load","loadTime","msg","navigator","appCodeName","appName","appVersion","cookieEnabled","mimeTypes","onLine","platform","plugins","product","productSub","userAgent","vendor","vendorSub","performance","getTime","lastTime","raf","requestAnimationFrame","_now","nextTime","max","caf","cancelAnimationFrame","seed","getComputedStyle","window","property","defaultView","callbacks","tail","eventSplitter","calls","events","on","args","off","rest","toConstantValue","instances","pageId","injectPageInstance","getPageInstance","addLeadingSlash","safeExecute","stringify","getPath","substring","getOnReadyEventKey","getOnShowEventKey","getOnHideEventKey","createPageConfig","pageName","pageConfig","loadResolver","hasLoaded","ONLOAD","ONUNLOAD","ONREADY","LIFECYCLES","pageElement","unmounting","prepareMountList","setCurrentRouter","route","__route__","$taroPath","$taroParams","onReady","onShow","onHide","$taroTimestamp","assign","trigger","called","onShareAppMessage","enableShareAppMessage","onShareTimeline","enableShareTimeline","eh","createComponentConfig","componentName","componentElement","attached","getPageId","detached","methods","isCustomWrapper","lifeCycles","componentId","l","addGlobalClass","virtualHost","timerFunc","removeLeadingSlash","enqueueUpdateCallback","isString","o","isBoolean","isNumber","touchEvents","bindTouchStart","bindTouchMove","bindTouchEnd","bindTouchCancel","bindLongTap","animation","bindAnimationStart","bindAnimationIteration","bindAnimationEnd","bindTransitionEnd","singleQuote","Icon","color","MapComp","longitude","latitude","scale","markers","covers","polyline","circles","controls","bindMarkerTap","bindControlTap","bindCalloutTap","bindUpdated","internalComponents","Progress","percent","activeColor","backgroundColor","active","RichText","Text","selectable","space","decode","plain","disabled","loading","Checkbox","checked","CheckboxGroup","bindChange","Form","bindSubmit","bindReset","Input","password","placeholder","maxlength","focus","bindInput","bindFocus","bindBlur","bindConfirm","Label","for","Picker","mode","range","fields","bindCancel","bindColumnChange","PickerView","PickerViewColumn","Radio","RadioGroup","Slider","min","step","bindChanging","Switch","CoverImage","bindLoad","bindError","Textarea","fixed","bindLineChange","CoverView","MovableArea","MovableView","direction","inertia","y","damping","friction","bindScale","bindHTouchMove","bindVTouchMove","width","height","ScrollView","bindScrollToUpper","bindScrollToLower","bindScroll","Swiper","autoplay","interval","duration","circular","vertical","bindTransition","bindAnimationFinish","SwiperItem","Navigator","delta","bindSuccess","bindFail","bindComplete","Audio","loop","poster","author","bindPlay","bindPause","bindTimeUpdate","bindEnded","Camera","flash","bindStop","Image","LivePlayer","muted","orientation","bindStateChange","bindFullScreenChange","bindNetStatus","Video","bindWaiting","Canvas","Ad","bindClose","WebView","bindMessage","Block","Slot","SlotView","controlledComponent","EMPTY_OBJ","EMPTY_ARR","noop","defaultReconciler","toDashed","toCamelCase","camel","nextCap","capitalize","ensure","condition","_uniqueId","_loadTime","mergeInternalComponents","mergeReconciler","raw","unsupport","api","setUniqueKeyToRoute","hasMark","cacheKey","getCanIUseWebp","getSystemInfoSync","platformLower","getNormalRequest","requestTask","originSuccess","success","originFail","fail","originComplete","request","abort","processApis","patchNeedPromiseApis","_needPromiseApis","preserved","isOnlyPromisify","originKey","transformMeta","transformResult","task","modifyAsyncResult","progress","onProgressUpdate","platformKey","handleSyncApis","equipCommonApis","canIUseWebp","getCurrentPages","getApp","requirePlugin","link","addInterceptor","cleanInterceptors","miniGlobal","default"],"mappings":"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OuD,EAAmB/2B,GAAOmN,EAAWnN,IAEnD+2B,EAAmB/2B,GAAQmN,EAAWnN,M,SAK5B8+B,EAAiBlyB,GAC/B/V,OAAOa,KAAKkV,GAAY1P,SAAQ,SAAAlC,GAC9B,IAAMqB,EAAQuQ,EAAW5R,GACnB+jC,EAAMZ,EAAkBnjC,GAE9BmjC,EAAkBnjC,GAAQ+jC,EAGtBp0B,EAAQo0B,GACJA,EAAI/3B,OAAO3K,GACX,CAAC0iC,EAAK1iC,GAJVA,K,SASQ2iC,EAAWC,GACzB,OAAO,WACLxkC,QAAQiO,KAAR,kBAAwBu2B,K,SAIZC,EAAqBlkC,EAAa7D,GAShD,GAPyB,CACvB,aACA,aACA,WACA,aAGmB4G,QAAQ/C,IAAQ,EAAG,CACtC,IACMmkC,GADMhoC,EAAIqD,IAAMrD,EAAIqD,KAAO,IACbuD,QAAQ,MAAQ,EAC9BqhC,EA9DDR,EAAaD,IA+DlBxnC,EAAIqD,MAAQ2kC,EAAU,IAAM,KAAjB,UAZkB,SAYlB,YAAqDC,IC9KpE,IAAM1yB,EAAkB,IAAIC,IAAY,CACtC,kBACA,YACA,qBACA,qBACA,uBACA,eACA,gBACA,cACA,qBACA,iBACA,cACA,eACA,qBACA,wBACA,cACA,gBACA,gBACA,sBACA,eACA,kBACA,2BACA,8BACA,uBACA,iBACA,aACA,2BACA,sBACA,mBACA,+BACA,mBACA,eACA,cACA,eACA,cACA,iBACA,mBACA,mBACA,sBACA,aACA,aACA,iBACA,gBACA,cACA,cACA,iBACA,gBACA,aACA,mBACA,eACA,QACA,gBACA,eACA,0BACA,aACA,sBACA,wBACA,qCACA,eACA,cACA,2BACA,YACA,uBACA,eACA,eACA,cACA,eACA,eACA,iBACA,WACA,6BACA,aACA,kBACA,gBACA,oBACA,0BACA,WACA,yBACA,yBACA,WACA,oBACA,qBACA,yBACA,mBACA,iBACA,sBACA,kBACA,wBACA,wBACA,sBACA,aACA,iBACA,gBACA,iBACA,kBACA,oBACA,cACA,YACA,gBACA,aACA,mBACA,YACA,uBACA,iCACA,6BACA,uBACA,sBACA,gCACA,cACA,eACA,q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","file":"taro.js","sourcesContent":["export function isFunction (x) {\n  return typeof x === 'function'\n}\n\nexport function isUndefined (x) {\n  return typeof x === 'undefined'\n}\n\nexport function isObject (x) {\n  return typeof x === 'object'\n}\n","import { isFunction, isUndefined, isObject } from './utils'\n\nfunction isBadObj (x) {\n  !isObject(x) || x === null\n}\n\nfunction throwTypeError (s) {\n  throw new TypeError(s)\n}\n\nif (!isFunction(Object.assign)) {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.assign = function (target) { // .length of function is 2\n    if (target == null) { // TypeError if undefined or null\n      throwTypeError('Cannot convert undefined or null to object')\n    }\n\n    const to = Object(target)\n\n    for (let index = 1; index < arguments.length; index++) {\n      const nextSource = arguments[index]\n\n      if (nextSource != null) { // Skip over if undefined or null\n        for (const nextKey in nextSource) {\n          // Avoid bugs when hasOwnProperty is shadowed\n          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n            to[nextKey] = nextSource[nextKey]\n          }\n        }\n      }\n    }\n    return to\n  }\n}\n\nif (!isFunction(Object.defineProperties)) {\n  Object.defineProperties = function (obj, properties) {\n    function convertToDescriptor (desc) {\n      function hasProperty (obj, prop) {\n        return Object.prototype.hasOwnProperty.call(obj, prop)\n      }\n\n      if (isBadObj(desc)) { throwTypeError('bad desc') }\n\n      const d = {}\n\n      if (hasProperty(desc, 'enumerable')) d.enumerable = !!desc.enumerable\n      if (hasProperty(desc, 'configurable')) { d.configurable = !!desc.configurable }\n      if (hasProperty(desc, 'value')) d.value = desc.value\n      if (hasProperty(desc, 'writable')) d.writable = !!desc.writable\n      if (hasProperty(desc, 'get')) {\n        const g = desc.get\n\n        if (!isFunction(g) && !isUndefined(g)) { throwTypeError('bad get') }\n        d.get = g\n      }\n      if (hasProperty(desc, 'set')) {\n        const s = desc.set\n        if (!isFunction(s) && !isUndefined(s)) { throwTypeError('bad set') }\n        d.set = s\n      }\n\n      if (('get' in d || 'set' in d) && ('value' in d || 'writable' in d)) { throwTypeError('identity-confused descriptor') }\n\n      return d\n    }\n\n    if (isBadObj(obj)) throwTypeError('bad obj')\n\n    properties = Object(properties)\n\n    const keys = Object.keys(properties)\n    const descs = []\n\n    for (let i = 0; i < keys.length; i++) {\n      descs.push([keys[i], convertToDescriptor(properties[keys[i]])])\n    }\n\n    for (let i = 0; i < descs.length; i++) {\n      Object.defineProperty(obj, descs[i][0], descs[i][1])\n    }\n\n    return obj\n  }\n}\n","export const ENV_TYPE = {\n  WEAPP: 'WEAPP',\n  WEB: 'WEB',\n  RN: 'RN',\n  SWAN: 'SWAN',\n  ALIPAY: 'ALIPAY',\n  TT: 'TT',\n  QQ: 'QQ',\n  JD: 'JD'\n}\n\nexport function getEnv () {\n  if (process.env.TARO_ENV === 'weapp') {\n    return ENV_TYPE.WEAPP\n  } else if (process.env.TARO_ENV === 'alipay') {\n    return ENV_TYPE.ALIPAY\n  } else if (process.env.TARO_ENV === 'swan') {\n    return ENV_TYPE.SWAN\n  } else if (process.env.TARO_ENV === 'tt') {\n    return ENV_TYPE.TT\n  } else if (process.env.TARO_ENV === 'jd') {\n    return ENV_TYPE.JD\n  } else if (process.env.TARO_ENV === 'qq') {\n    return ENV_TYPE.QQ\n  } else if (process.env.TARO_ENV === 'h5') {\n    return ENV_TYPE.WEB\n  } else if (process.env.TARO_ENV === 'rn') {\n    return ENV_TYPE.RN\n  } else {\n    return 'Unknown'\n  }\n}\n","import { isFunction } from '../utils'\n\nexport default class Chain {\n  constructor (requestParams, interceptors, index) {\n    this.index = index || 0\n    this.requestParams = requestParams\n    this.interceptors = interceptors || []\n  }\n\n  proceed (requestParams) {\n    this.requestParams = requestParams\n    if (this.index >= this.interceptors.length) {\n      throw new Error('chain 参数错误, 请勿直接修改 request.chain')\n    }\n    const nextInterceptor = this._getNextInterceptor()\n    const nextChain = this._getNextChain()\n    const p = nextInterceptor(nextChain)\n    const res = p.catch(err => Promise.reject(err))\n    if (isFunction(p.abort)) res.abort = p.abort\n    return res\n  }\n\n  _getNextInterceptor () {\n    return this.interceptors[this.index]\n  }\n\n  _getNextChain () {\n    return new Chain(this.requestParams, this.interceptors, this.index + 1)\n  }\n}\n","import { isObject } from './utils'\n\nexport function Behavior (options) {\n  return options\n}\n\nexport function getPreload (current) {\n  return function (key, val) {\n    current.preloadData = isObject(key)\n      ? key\n      : {\n        [key]: val\n      }\n  }\n}\n\nconst defaultDesignWidth = 750\nconst defaultDesignRatio = {\n  640: 2.34 / 2,\n  750: 1,\n  828: 1.81 / 2\n}\n\nexport function getInitPxTransform (taro) {\n  return function (config) {\n    const {\n      designWidth = defaultDesignWidth,\n      deviceRatio = defaultDesignRatio\n    } = config\n    taro.config = taro.config || {}\n    taro.config.designWidth = designWidth\n    taro.config.deviceRatio = deviceRatio\n  }\n}\n\nexport function getPxTransform (taro) {\n  return function (size) {\n    const {\n      designWidth = defaultDesignWidth,\n      deviceRatio = defaultDesignRatio\n    } = taro.config || {}\n    if (!(designWidth in deviceRatio)) {\n      throw new Error(`deviceRatio 配置中不存在 ${designWidth} 的设置！`)\n    }\n    return (parseInt(size, 10) * deviceRatio[designWidth]) + 'rpx'\n  }\n}\n","/* eslint-disable camelcase */\nimport './polyfill'\nimport { getEnv, ENV_TYPE } from './env'\nimport Link from './interceptor'\nimport * as interceptors from './interceptor/interceptors'\nimport {\n  Behavior,\n  getPreload,\n  getPxTransform,\n  getInitPxTransform\n} from './tools'\nimport {\n  Current,\n  getCurrentInstance,\n  options,\n  nextTick,\n  eventCenter,\n  Events\n} from '@tarojs/runtime'\n\nconst Taro = {\n  Behavior,\n  getEnv,\n  ENV_TYPE,\n  Link,\n  interceptors,\n  Current,\n  getCurrentInstance,\n  options,\n  nextTick,\n  eventCenter,\n  Events,\n  getInitPxTransform\n}\n\nTaro.initPxTransform = getInitPxTransform(Taro)\nTaro.preload = getPreload(Current)\nTaro.pxTransform = getPxTransform(Taro)\n\nexport default Taro\n","import Chain from './chain'\n\nexport default class Link {\n  constructor (interceptor) {\n    this.taroInterceptor = interceptor\n    this.chain = new Chain()\n  }\n\n  request (requestParams) {\n    const chain = this.chain\n    const taroInterceptor = this.taroInterceptor\n\n    chain.interceptors = chain.interceptors\n      .filter(interceptor => interceptor !== taroInterceptor)\n      .concat(taroInterceptor)\n\n    return chain.proceed({ ...requestParams })\n  }\n\n  addInterceptor (interceptor) {\n    this.chain.interceptors.push(interceptor)\n  }\n\n  cleanInterceptors () {\n    this.chain = new Chain()\n  }\n}\n","import { isFunction, isUndefined } from '../utils'\n\nexport function timeoutInterceptor (chain) {\n  const requestParams = chain.requestParams\n  let p\n  const res = new Promise((resolve, reject) => {\n    let timeout = setTimeout(() => {\n      timeout = null\n      reject(new Error('网络链接超时,请稍后再试！'))\n    }, (requestParams && requestParams.timeout) || 60000)\n\n    p = chain.proceed(requestParams)\n    p\n      .then(res => {\n        if (!timeout) return\n        clearTimeout(timeout)\n        resolve(res)\n      })\n      .catch(err => {\n        timeout && clearTimeout(timeout)\n        reject(err)\n      })\n  })\n  if (!isUndefined(p) && isFunction(p.abort)) res.abort = p.abort\n\n  return res\n}\n\nexport function logInterceptor (chain) {\n  const requestParams = chain.requestParams\n  const { method, data, url } = requestParams\n\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line no-console\n    console.log(`http ${method || 'GET'} --> ${url} data: `, data)\n  }\n\n  const p = chain.proceed(requestParams)\n  const res = p\n    .then(res => {\n      if (process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line no-console\n        console.log(`http <-- ${url} result:`, res)\n      }\n      return res\n    })\n  if (isFunction(p.abort)) res.abort = p.abort\n\n  return res\n}\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var defineProperty = require(\"./defineProperty.js\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/* eslint-disable no-undef */\nimport { createRecursiveComponentConfig } from '@tarojs/runtime'\n// @ts-ignore\nComponent(createRecursiveComponentConfig())\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable no-undef */\nconst runtime_1 = require(\"@tarojs/runtime\");\n// @ts-ignore\nComponent(runtime_1.createRecursiveComponentConfig('custom-wrapper'));\n//# sourceMappingURL=custom-wrapper.js.map","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() { return this })() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() { return this })() || Function(\"return this\")()\n);\n","import { isArray, isFunction } from '@tarojs/shared'\nimport { Current } from '@tarojs/runtime'\n\nimport type * as React from 'react'\n\nexport const HOOKS_APP_ID = 'taro-app'\n\nexport function isClassComponent (R: typeof React, component): boolean {\n  const prototype = component.prototype\n\n  return (\n    isFunction(component.render) ||\n    !!prototype?.isReactComponent ||\n    prototype instanceof R.Component // compat for some others react-like library\n  )\n}\n\nexport function ensureIsArray<T> (item: T | T[]): T[] {\n  if (isArray(item)) {\n    return item\n  } else {\n    return item ? [item] : []\n  }\n}\n\n/**\n * set writable, enumerable to true\n */\nexport function setDefaultDescriptor (obj: Record<string, any>) {\n  obj.writable = true\n  obj.enumerable = true\n  return obj\n}\n\n/**\n * 设置入口的路由参数\n * @param options 小程序传入的参数\n */\nexport function setRouterParams (options) {\n  Current.router = {\n    params: options?.query,\n    ...options\n  }\n}\n","import { ensure, EMPTY_OBJ } from '@tarojs/shared'\nimport {\n  container,\n  SERVICE_IDENTIFIER,\n  Current,\n  document,\n  getPageInstance,\n  injectPageInstance,\n  incrementId\n} from '@tarojs/runtime'\nimport { isClassComponent, ensureIsArray, setDefaultDescriptor, setRouterParams, HOOKS_APP_ID } from './utils'\n\nimport type * as React from 'react'\nimport type { AppConfig } from '@tarojs/taro'\nimport type {\n  IHooks,\n  AppInstance,\n  Instance,\n  ReactAppInstance,\n  ReactPageComponent,\n  PageProps\n} from '@tarojs/runtime'\n\ntype PageComponent = React.CElement<PageProps, React.Component<PageProps, any, any>>\n\n// 初始值设置为 any 主要是为了过 TS 的校验\nexport let PageContext: React.Context<string> = EMPTY_OBJ\nexport let R: typeof React = EMPTY_OBJ\nlet h: typeof React.createElement\nlet ReactDOM\n\nconst pageKeyId = incrementId()\nconst hooks = container.get<IHooks>(SERVICE_IDENTIFIER.Hooks)\n\nexport function setReconciler () {\n  hooks.getLifecycle = function (instance, lifecycle: string) {\n    lifecycle = lifecycle.replace(/^on(Show|Hide)$/, 'componentDid$1')\n    return instance[lifecycle]\n  }\n\n  hooks.modifyMpEventImpls?.push(function (event) {\n    event.type = event.type.replace(/-/g, '')\n  })\n\n  hooks.batchedEventUpdates = function (cb) {\n    ReactDOM.unstable_batchedUpdates(cb)\n  }\n\n  hooks.mergePageInstance = function (prev, next) {\n    if (!prev || !next) return\n\n    // 子组件使用 lifecycle hooks 注册了生命周期后，会存在 prev，里面是注册的生命周期回调。\n\n    // prev 使用 Object.create(null) 创建，H5 的 fast-refresh 可能也会导致存在 prev，要排除这些意外产生的 prev\n    if ('constructor' in prev) return\n\n    Object.keys(prev).forEach(item => {\n      const prevList = prev[item]\n      const nextList = ensureIsArray<() => any>(next[item])\n      next[item] = nextList.concat(prevList)\n    })\n  }\n\n  if (process.env.TARO_ENV === 'h5') {\n    hooks.createPullDownComponent = (\n      el: React.FunctionComponent<PageProps> | React.ComponentClass<PageProps>,\n      _,\n      R: typeof React,\n      customWrapper\n    ) => {\n      const isReactComponent = isClassComponent(R, el)\n\n      return R.forwardRef((props, ref) => {\n        const newProps: React.Props<any> = { ...props }\n        const refs = isReactComponent ? { ref: ref } : {\n          forwardedRef: ref,\n          // 兼容 react-redux 7.20.1+\n          reactReduxForwardedRef: ref\n        }\n\n        return h(\n          customWrapper || 'taro-pull-to-refresh',\n          null,\n          h(el, {\n            ...newProps,\n            ...refs\n          })\n        )\n      })\n    }\n\n    hooks.getDOMNode = inst => {\n      return ReactDOM.findDOMNode(inst)\n    }\n  }\n}\n\nexport function connectReactPage (\n  R: typeof React,\n  id: string\n) {\n  return (Page: ReactPageComponent): React.ComponentClass<PageProps> => {\n    // eslint-disable-next-line dot-notation\n    const isReactComponent = isClassComponent(R, Page)\n    const inject = (node?: Instance) => node && injectPageInstance(node, id)\n    const refs = isReactComponent ? { ref: inject } : {\n      forwardedRef: inject,\n      // 兼容 react-redux 7.20.1+\n      reactReduxForwardedRef: inject\n    }\n\n    if (PageContext === EMPTY_OBJ) {\n      PageContext = R.createContext('')\n    }\n\n    return class PageWrapper extends R.Component<PageProps, { hasError: boolean }> {\n      state = {\n        hasError: false\n      }\n\n      static getDerivedStateFromError (error: Error) {\n        process.env.NODE_ENV !== 'production' && console.warn(error)\n        return { hasError: true }\n      }\n\n      // React 16 uncaught error 会导致整个应用 crash，\n      // 目前把错误缩小到页面\n      componentDidCatch (error: Error, info: React.ErrorInfo) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.warn(error)\n          console.error(info.componentStack)\n        }\n      }\n\n      render () {\n        const children = this.state.hasError\n          ? []\n          : h(PageContext.Provider, { value: id }, h(Page, {\n            ...this.props,\n            ...refs\n          }))\n\n        if (process.env.TARO_ENV === 'h5') {\n          return h(\n            'div',\n            { id, className: 'taro_page' },\n            children\n          )\n        } else {\n          return h(\n            'root',\n            { id },\n            children\n          )\n        }\n      }\n    }\n  }\n}\n\n/**\n * 桥接小程序 App 构造器和 React 渲染流程\n * @param App 用户编写的入口组件\n * @param react 框架\n * @param dom 框架渲染器\n * @param config 入口组件配置 app.config.js 的内容\n * @returns 传递给 App 构造器的对象 obj ：App(obj)\n */\nexport function createReactApp (\n  App: React.ComponentClass,\n  react: typeof React,\n  dom,\n  config: AppConfig\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    ensure(!!dom, '构建 React/Nerv 项目请把 process.env.FRAMEWORK 设置为 \\'react\\'/\\'nerv\\' ')\n  }\n\n  R = react\n  h = react.createElement\n  ReactDOM = dom\n  const appInstanceRef = react.createRef<ReactAppInstance>()\n  const isReactComponent = isClassComponent(R, App)\n  let appWrapper: AppWrapper\n\n  setReconciler()\n\n  function getAppInstance (): ReactAppInstance | null {\n    return appInstanceRef.current\n  }\n\n  class AppWrapper extends R.Component {\n    // run createElement() inside the render function to make sure that owner is right\n    private pages: Array<() => PageComponent> = []\n    private elements: Array<PageComponent> = []\n\n    public mount (pageComponent: ReactPageComponent, id: string, cb: () => void) {\n      const pageWrapper = connectReactPage(R, id)(pageComponent)\n      const key = id + pageKeyId()\n      const page = () => h(pageWrapper, { key, tid: id })\n      this.pages.push(page)\n      this.forceUpdate(cb)\n    }\n\n    public unmount (id: string, cb: () => void) {\n      const elements = this.elements\n      const idx = elements.findIndex(item => item.props.tid === id)\n      elements.splice(idx, 1)\n      this.forceUpdate(cb)\n    }\n\n    public render () {\n      const { pages, elements } = this\n\n      while (pages.length > 0) {\n        const page = pages.pop()!\n        elements.push(page())\n      }\n\n      let props: React.Props<any> | null = null\n\n      if (isReactComponent) {\n        props = { ref: appInstanceRef }\n      }\n\n      return h(\n        App,\n        props,\n        process.env.TARO_ENV === 'h5' ? h('div', null, elements.slice()) : elements.slice()\n      )\n    }\n  }\n\n  if (process.env.TARO_ENV !== 'h5') {\n    appWrapper = ReactDOM.render?.(h(AppWrapper), document.getElementById('app'))\n  }\n\n  const [ONLAUNCH, ONSHOW, ONHIDE] = hooks.getMiniLifecycleImpl().app\n\n  const appObj: AppInstance = Object.create({\n    render (cb: () => void) {\n      appWrapper.forceUpdate(cb)\n    },\n\n    mount (component: ReactPageComponent, id: string, cb: () => void) {\n      appWrapper.mount(component, id, cb)\n    },\n\n    unmount (id: string, cb: () => void) {\n      appWrapper.unmount(id, cb)\n    }\n  }, {\n    config: setDefaultDescriptor({\n      configurable: true,\n      value: config\n    }),\n\n    [ONLAUNCH]: setDefaultDescriptor({\n      value (options) {\n        setRouterParams(options)\n\n        if (process.env.TARO_ENV === 'h5') {\n          // 由于 H5 路由初始化的时候会清除 app 下的 dom 元素，所以需要在路由初始化后执行 render\n          appWrapper = ReactDOM.render?.(h(AppWrapper), document.getElementById(config?.appId || 'app'))\n        }\n\n        // 用户编写的入口组件实例\n        const app = getAppInstance()\n        this.$app = app\n\n        if (app) {\n          // 把 App Class 上挂载的额外属性同步到全局 app 对象中\n          if (app.taroGlobalData) {\n            const globalData = app.taroGlobalData\n            const keys = Object.keys(globalData)\n            const descriptors = Object.getOwnPropertyDescriptors(globalData)\n            keys.forEach(key => {\n              Object.defineProperty(this, key, {\n                configurable: true,\n                enumerable: true,\n                get () {\n                  return globalData[key]\n                },\n                set (value) {\n                  globalData[key] = value\n                }\n              })\n            })\n            Object.defineProperties(this, descriptors)\n          }\n\n          app.onLaunch?.(options)\n        }\n      }\n    }),\n\n    [ONSHOW]: setDefaultDescriptor({\n      value (options) {\n        setRouterParams(options)\n\n        /**\n         * trigger lifecycle\n         */\n        const app = getAppInstance()\n        // class component, componentDidShow\n        app?.componentDidShow?.(options)\n        // functional component, useDidShow\n        triggerAppHook('onShow', options)\n      }\n    }),\n\n    [ONHIDE]: setDefaultDescriptor({\n      value () {\n        /**\n         * trigger lifecycle\n         */\n        const app = getAppInstance()\n        // class component, componentDidHide\n        app?.componentDidHide?.()\n        // functional component, useDidHide\n        triggerAppHook('onHide')\n      }\n    }),\n\n    onPageNotFound: setDefaultDescriptor({\n      value (res: unknown) {\n        const app = getAppInstance()\n        app?.onPageNotFound?.(res)\n      }\n    })\n  })\n\n  function triggerAppHook (lifecycle, ...option) {\n    const instance = getPageInstance(HOOKS_APP_ID)\n    if (instance) {\n      const app = getAppInstance()\n      const func = hooks.getLifecycle(instance, lifecycle)\n      if (Array.isArray(func)) {\n        func.forEach(cb => cb.apply(app, option))\n      }\n    }\n  }\n\n  Current.app = appObj\n  return appObj\n}\n","import { isFunction, isArray } from '@tarojs/shared'\nimport {\n  Current,\n  getPageInstance,\n  injectPageInstance\n} from '@tarojs/runtime'\nimport { PageContext, R as React } from './connect'\nimport { HOOKS_APP_ID } from './utils'\n\nimport type { Func, PageLifeCycle } from '@tarojs/runtime'\n\nconst taroHooks = (lifecycle: keyof PageLifeCycle) => {\n  return (fn: Func) => {\n    const id = React.useContext(PageContext) || HOOKS_APP_ID\n\n    // hold fn ref and keep up to date\n    const fnRef = React.useRef(fn)\n    if (fnRef.current !== fn) fnRef.current = fn\n\n    React.useLayoutEffect(() => {\n      let inst = getPageInstance(id)\n      let first = false\n      if (inst == null) {\n        first = true\n        inst = Object.create(null)\n      }\n\n      inst = inst!\n\n      // callback is immutable but inner function is up to date\n      const callback = (...args: any) => fnRef.current(...args)\n\n      if (isFunction(inst[lifecycle])) {\n        (inst[lifecycle] as any) = [inst[lifecycle], callback]\n      } else {\n        (inst[lifecycle] as any) = [\n          ...((inst[lifecycle] as any) || []),\n          callback\n        ]\n      }\n\n      if (first) {\n        injectPageInstance(inst!, id)\n      }\n      return () => {\n        const inst = getPageInstance(id)\n        const list = inst![lifecycle]\n        if (list === callback) {\n          (inst![lifecycle] as any) = undefined\n        } else if (isArray(list)) {\n          (inst![lifecycle] as any) = list.filter(item => item !== callback)\n        }\n      }\n    }, [])\n  }\n}\n\nexport const useDidShow = taroHooks('componentDidShow')\n\nexport const useDidHide = taroHooks('componentDidHide')\n\nexport const usePullDownRefresh = taroHooks('onPullDownRefresh')\n\nexport const useReachBottom = taroHooks('onReachBottom')\n\nexport const usePageScroll = taroHooks('onPageScroll')\n\nexport const useResize = taroHooks('onResize')\n\nexport const useShareAppMessage = taroHooks('onShareAppMessage')\n\nexport const useTabItemTap = taroHooks('onTabItemTap')\n\nexport const useTitleClick = taroHooks('onTitleClick')\n\nexport const useOptionMenuClick = taroHooks('onOptionMenuClick')\n\nexport const usePullIntercept = taroHooks('onPullIntercept')\n\nexport const useShareTimeline = taroHooks('onShareTimeline')\n\nexport const useAddToFavorites = taroHooks('onAddToFavorites')\n\nexport const useReady = taroHooks('onReady')\n\nexport const useRouter = (dynamic = false) => {\n  return dynamic ? Current.router : React.useMemo(() => Current.router, [])\n}\n\nexport const useScope = () => undefined\n","import {\n  Current,\n  document,\n  injectPageInstance,\n  safeExecute,\n  addLeadingSlash,\n  incrementId,\n  eventHandler\n} from '@tarojs/runtime'\nimport { isClassComponent } from './utils'\nimport { setReconciler } from './connect'\n\nimport type * as React from 'react'\nimport type { PageInstance } from '@tarojs/taro'\nimport type {\n  TaroRootElement,\n  Instance\n} from '@tarojs/runtime'\n\ndeclare const getCurrentPages: () => PageInstance[]\n\nconst getNativeCompId = incrementId()\nlet R: typeof React\nlet h: typeof React.createElement\nlet ReactDOM\n\nfunction initNativeComponentEntry (R: typeof React, ReactDOM) {\n  interface IEntryState {\n    components: {\n      compId: string\n      element: React.ReactElement\n    }[]\n  }\n\n  interface IWrapperProps {\n    getCtx: () => any\n    renderComponent: (ctx: any) => React.ReactElement\n  }\n\n  class NativeComponentWrapper extends R.Component<IWrapperProps, Record<any, any>> {\n    root = R.createRef<TaroRootElement>()\n    ctx = this.props.getCtx()\n\n    componentDidMount () {\n      this.ctx.component = this\n      const rootElement = this.root.current!\n      rootElement.ctx = this.ctx\n      rootElement.performUpdate(true)\n    }\n\n    render () {\n      return (\n        h(\n          'root',\n          {\n            ref: this.root\n          },\n          this.props.renderComponent(this.ctx)\n        )\n      )\n    }\n  }\n\n  class Entry extends R.Component<Record<any, any>, IEntryState> {\n    state: IEntryState = {\n      components: []\n    }\n\n    componentDidMount () {\n      Current.app = this\n    }\n\n    mount (Component, compId, getCtx) {\n      const isReactComponent = isClassComponent(R, Component)\n      const inject = (node?: Instance) => node && injectPageInstance(node, compId)\n      const refs = isReactComponent ? { ref: inject } : {\n        forwardedRef: inject,\n        reactReduxForwardedRef: inject\n      }\n      const item = {\n        compId,\n        element: h(NativeComponentWrapper, {\n          key: compId,\n          getCtx,\n          renderComponent (ctx) {\n            return h(Component, { ...(ctx.data ||= {}).props, ...refs })\n          }\n        })\n      }\n      this.setState({\n        components: [...this.state.components, item]\n      })\n    }\n\n    unmount (compId) {\n      const components = this.state.components\n      const index = components.findIndex(item => item.compId === compId)\n      const next = [...components.slice(0, index), ...components.slice(index + 1)]\n      this.setState({\n        components: next\n      })\n    }\n\n    render () {\n      const components = this.state.components\n      return (\n        components.map(({ element }) => element)\n      )\n    }\n  }\n\n  setReconciler()\n\n  const app = document.getElementById('app')\n\n  ReactDOM.render(\n    h(Entry, {}),\n    app\n  )\n}\n\nexport function createNativeComponentConfig (Component, react: typeof React, reactdom, componentConfig) {\n  R = react\n  h = react.createElement\n  ReactDOM = reactdom\n\n  setReconciler()\n\n  const componentObj = {\n    options: componentConfig,\n    properties: {\n      props: {\n        type: null,\n        value: null,\n        observer (_newVal, oldVal) {\n          oldVal && this.component.forceUpdate()\n        }\n      }\n    },\n    created () {\n      if (!Current.app) {\n        initNativeComponentEntry(R, ReactDOM)\n      }\n    },\n    attached () {\n      setCurrent()\n      this.compId = getNativeCompId()\n      this.config = componentConfig\n      Current.app!.mount!(Component, this.compId, () => this)\n    },\n    ready () {\n      safeExecute(this.compId, 'onReady')\n    },\n    detached () {\n      Current.app!.unmount!(this.compId)\n    },\n    pageLifetimes: {\n      show (options) {\n        safeExecute(this.compId, 'onShow', options)\n      },\n      hide () {\n        safeExecute(this.compId, 'onHide')\n      }\n    },\n    methods: {\n      eh: eventHandler\n    }\n  }\n\n  function setCurrent () {\n    const pages = getCurrentPages()\n    const currentPage = pages[pages.length - 1]\n    if (Current.page === currentPage) return\n\n    Current.page = currentPage\n\n    const route = (currentPage as any).route || (currentPage as any).__route__\n    const router = {\n      params: currentPage.options || {},\n      path: addLeadingSlash(route),\n      onReady: '',\n      onHide: '',\n      onShow: ''\n    }\n    Current.router = router\n\n    if (!currentPage.options) {\n      // 例如在微信小程序中，页面 options 的设置时机比组件 attached 慢\n      Object.defineProperty(currentPage, 'options', {\n        enumerable: true,\n        configurable: true,\n        get () {\n          return this._optionsValue\n        },\n        set (value) {\n          router.params = value\n          this._optionsValue = value\n        }\n      })\n    }\n  }\n\n  return componentObj\n}\n","import {\n  container,\n  SERVICE_IDENTIFIER\n} from '@tarojs/runtime'\nimport * as taroHooks from './hooks'\n\nimport type { IHooks } from '@tarojs/runtime'\n\ndeclare const __TARO_FRAMEWORK__: string\n\nconst hooks = container.get<IHooks>(SERVICE_IDENTIFIER.Hooks)\n\nhooks.initNativeApiImpls ||= []\nhooks.initNativeApiImpls.push(function (taro) {\n  for (const hook in taroHooks) {\n    taro[hook] = taroHooks[hook]\n  }\n})\n\nif (__TARO_FRAMEWORK__ === 'preact') {\n  const options = require('preact').options\n  const oldVNodeHook = options.vnode\n  options.vnode = vnode => {\n    const { type, props } = vnode\n    let normalizedProps = props\n\n    // only normalize props on Element nodes\n    if (typeof type === 'string') {\n      normalizedProps = {}\n\n      for (let i in props) {\n        const value = props[i]\n\n        if (/^on/.test(i)) {\n          i = i.toLowerCase()\n        }\n\n        normalizedProps[i] = value\n      }\n\n      vnode.props = normalizedProps\n    }\n\n    if (oldVNodeHook) oldVNodeHook(vnode)\n  }\n\n  hooks.modifyMpEventImpls?.push(e => {\n    const type = e.type\n    if (type === 'tap') {\n      e.type = 'click'\n    } else if (type === 'focus') {\n      // 兼容 preact/compat/src/render.js options.vnode 的处理逻辑\n      e.type = 'focusin'\n    } else if (type === 'blur') {\n      e.type = 'focusout'\n    }\n  })\n  // hooks.modifyDispatchEventImpls?.push(e => {\n  // })\n}\n\nexport * from './hooks'\nexport * from './connect'\nexport * from './connect-native'\n","export const View = 'view'\nexport const Icon = 'icon'\nexport const Progress = 'progress'\nexport const RichText = 'rich-text'\nexport const Text = 'text'\nexport const Button = 'button'\nexport const Checkbox = 'checkbox'\nexport const CheckboxGroup = 'checkbox-group'\nexport const Form = 'form'\nexport const Input = 'input'\nexport const Label = 'label'\nexport const Picker = 'picker'\nexport const PickerView = 'picker-view'\nexport const PickerViewColumn = 'picker-view-column'\nexport const Radio = 'radio'\nexport const RadioGroup = 'radio-group'\nexport const Slider = 'slider'\nexport const Switch = 'switch'\nexport const CoverImage = 'cover-image'\nexport const Textarea = 'textarea'\nexport const CoverView = 'cover-view'\nexport const MovableArea = 'movable-area'\nexport const MovableView = 'movable-view'\nexport const ScrollView = 'scroll-view'\nexport const Swiper = 'swiper'\nexport const SwiperItem = 'swiper-item'\nexport const Navigator = 'navigator'\nexport const Audio = 'audio'\nexport const Camera = 'camera'\nexport const Image = 'image'\nexport const LivePlayer = 'live-player'\nexport const Video = 'video'\nexport const Canvas = 'canvas'\nexport const Ad = 'ad'\nexport const WebView = 'web-view'\nexport const Block = 'block'\nexport const Map = 'map'\nexport const Slot = 'slot'\nexport const CustomWrapper = 'custom-wrapper'\n","export const needPromiseApis = new Set([\n  'authPrivateMessage',\n  'disableAlertBeforeUnload',\n  'enableAlertBeforeUnload',\n  'getBackgroundFetchData',\n  'getGroupEnterInfo',\n  'getShareInfo',\n  'getWeRunData',\n  'join1v1Chat',\n  'openVideoEditor',\n  'saveFileToDisk',\n  'scanItem',\n  'setEnable1v1Chat',\n  'setWindowSize',\n  'sendBizRedPacket',\n  'startFacialRecognitionVerify',\n  'openCustomerServiceChat',\n  'getLocalIPAddress',\n  'getUserProfile'\n])\n","const DEFAULT_EMPTY_ARRAY = '[]'\nconst NO_DEFAULT_VALUE = ''\nconst DEFAULT_TRUE = 'true'\nconst DEFAULT_FALSE = 'false'\n\nexport const touchEvents = {\n  bindTouchStart: NO_DEFAULT_VALUE,\n  bindTouchMove: NO_DEFAULT_VALUE,\n  bindTouchEnd: NO_DEFAULT_VALUE,\n  bindTouchCancel: NO_DEFAULT_VALUE,\n  bindLongTap: NO_DEFAULT_VALUE\n}\n\nexport const animation = {\n  animation: NO_DEFAULT_VALUE,\n  bindAnimationStart: NO_DEFAULT_VALUE,\n  bindAnimationIteration: NO_DEFAULT_VALUE,\n  bindAnimationEnd: NO_DEFAULT_VALUE,\n  bindTransitionEnd: NO_DEFAULT_VALUE\n}\n\nexport function singleQuote (s: string) {\n  return `'${s}'`\n}\n\nconst View = {\n  'hover-class': singleQuote('none'),\n  'hover-stop-propagation': DEFAULT_FALSE,\n  'hover-start-time': '50',\n  'hover-stay-time': '400',\n  ...touchEvents,\n  ...animation\n}\n\nconst Icon = {\n  type: NO_DEFAULT_VALUE,\n  size: '23',\n  color: NO_DEFAULT_VALUE\n}\n\nconst MapComp = {\n  longitude: NO_DEFAULT_VALUE,\n  latitude: NO_DEFAULT_VALUE,\n  scale: '16',\n  markers: DEFAULT_EMPTY_ARRAY,\n  covers: NO_DEFAULT_VALUE,\n  polyline: DEFAULT_EMPTY_ARRAY,\n  circles: DEFAULT_EMPTY_ARRAY,\n  controls: DEFAULT_EMPTY_ARRAY,\n  'include-points': DEFAULT_EMPTY_ARRAY,\n  'show-location': NO_DEFAULT_VALUE,\n  'layer-style': '1',\n  bindMarkerTap: NO_DEFAULT_VALUE,\n  bindControlTap: NO_DEFAULT_VALUE,\n  bindCalloutTap: NO_DEFAULT_VALUE,\n  bindUpdated: NO_DEFAULT_VALUE,\n  ...touchEvents\n}\n\nconst Progress = {\n  percent: NO_DEFAULT_VALUE,\n  'stroke-width': '6',\n  color: singleQuote('#09BB07'),\n  activeColor: singleQuote('#09BB07'),\n  backgroundColor: singleQuote('#EBEBEB'),\n  active: DEFAULT_FALSE,\n  'active-mode': singleQuote('backwards'),\n  'show-info': DEFAULT_FALSE\n}\n\nconst RichText = {\n  nodes: DEFAULT_EMPTY_ARRAY\n}\n\nconst Text = {\n  selectable: DEFAULT_FALSE,\n  space: NO_DEFAULT_VALUE,\n  decode: DEFAULT_FALSE\n}\n\nconst Button = {\n  size: singleQuote('default'),\n  type: NO_DEFAULT_VALUE,\n  plain: DEFAULT_FALSE,\n  disabled: NO_DEFAULT_VALUE,\n  loading: DEFAULT_FALSE,\n  'form-type': NO_DEFAULT_VALUE,\n  'open-type': NO_DEFAULT_VALUE,\n  'hover-class': singleQuote('button-hover'),\n  'hover-stop-propagation': DEFAULT_FALSE,\n  'hover-start-time': '20',\n  'hover-stay-time': '70',\n  name: NO_DEFAULT_VALUE,\n  ...touchEvents\n}\n\nconst Checkbox = {\n  value: NO_DEFAULT_VALUE,\n  disabled: NO_DEFAULT_VALUE,\n  checked: DEFAULT_FALSE,\n  color: singleQuote('#09BB07'),\n  name: NO_DEFAULT_VALUE\n}\n\nconst CheckboxGroup = {\n  bindChange: NO_DEFAULT_VALUE,\n  name: NO_DEFAULT_VALUE\n}\n\nconst Form = {\n  'report-submit': DEFAULT_FALSE,\n  bindSubmit: NO_DEFAULT_VALUE,\n  bindReset: NO_DEFAULT_VALUE,\n  name: NO_DEFAULT_VALUE\n}\n\nconst Input = {\n  value: NO_DEFAULT_VALUE,\n  type: singleQuote(NO_DEFAULT_VALUE),\n  password: DEFAULT_FALSE,\n  placeholder: NO_DEFAULT_VALUE,\n  'placeholder-style': NO_DEFAULT_VALUE,\n  'placeholder-class': singleQuote('input-placeholder'),\n  disabled: NO_DEFAULT_VALUE,\n  maxlength: '140',\n  'cursor-spacing': '0',\n  focus: DEFAULT_FALSE,\n  'confirm-type': singleQuote('done'),\n  'confirm-hold': DEFAULT_FALSE,\n  cursor: 'i.value.length',\n  'selection-start': '-1',\n  'selection-end': '-1',\n  bindInput: NO_DEFAULT_VALUE,\n  bindFocus: NO_DEFAULT_VALUE,\n  bindBlur: NO_DEFAULT_VALUE,\n  bindConfirm: NO_DEFAULT_VALUE,\n  name: NO_DEFAULT_VALUE\n}\n\nconst Label = {\n  for: NO_DEFAULT_VALUE,\n  name: NO_DEFAULT_VALUE\n}\n\nconst Picker = {\n  mode: singleQuote('selector'),\n  disabled: NO_DEFAULT_VALUE,\n  range: NO_DEFAULT_VALUE,\n  'range-key': NO_DEFAULT_VALUE,\n  value: NO_DEFAULT_VALUE,\n  start: NO_DEFAULT_VALUE,\n  end: NO_DEFAULT_VALUE,\n  fields: singleQuote('day'),\n  'custom-item': NO_DEFAULT_VALUE,\n  name: NO_DEFAULT_VALUE,\n  bindCancel: NO_DEFAULT_VALUE,\n  bindChange: NO_DEFAULT_VALUE,\n  bindColumnChange: NO_DEFAULT_VALUE\n}\n\nconst PickerView = {\n  value: NO_DEFAULT_VALUE,\n  'indicator-style': NO_DEFAULT_VALUE,\n  'indicator-class': NO_DEFAULT_VALUE,\n  'mask-style': NO_DEFAULT_VALUE,\n  'mask-class': NO_DEFAULT_VALUE,\n  bindChange: NO_DEFAULT_VALUE,\n  name: NO_DEFAULT_VALUE\n}\n\nconst PickerViewColumn = {\n  name: NO_DEFAULT_VALUE\n}\n\nconst Radio = {\n  value: NO_DEFAULT_VALUE,\n  checked: DEFAULT_FALSE,\n  disabled: NO_DEFAULT_VALUE,\n  color: singleQuote('#09BB07'),\n  name: NO_DEFAULT_VALUE\n}\n\nconst RadioGroup = {\n  bindChange: NO_DEFAULT_VALUE,\n  name: NO_DEFAULT_VALUE\n}\n\nconst Slider = {\n  min: '0',\n  max: '100',\n  step: '1',\n  disabled: NO_DEFAULT_VALUE,\n  value: '0',\n  activeColor: singleQuote('#1aad19'),\n  backgroundColor: singleQuote('#e9e9e9'),\n  'block-size': '28',\n  'block-color': singleQuote('#ffffff'),\n  'show-value': DEFAULT_FALSE,\n  bindChange: NO_DEFAULT_VALUE,\n  bindChanging: NO_DEFAULT_VALUE,\n  name: NO_DEFAULT_VALUE\n}\n\nconst Switch = {\n  checked: DEFAULT_FALSE,\n  disabled: NO_DEFAULT_VALUE,\n  type: singleQuote('switch'),\n  color: singleQuote('#04BE02'),\n  bindChange: NO_DEFAULT_VALUE,\n  name: NO_DEFAULT_VALUE\n}\n\nconst Textarea = {\n  value: NO_DEFAULT_VALUE,\n  placeholder: NO_DEFAULT_VALUE,\n  'placeholder-style': NO_DEFAULT_VALUE,\n  'placeholder-class': singleQuote('textarea-placeholder'),\n  disabled: NO_DEFAULT_VALUE,\n  maxlength: '140',\n  'auto-focus': DEFAULT_FALSE,\n  focus: DEFAULT_FALSE,\n  'auto-height': DEFAULT_FALSE,\n  fixed: DEFAULT_FALSE,\n  'cursor-spacing': '0',\n  cursor: '-1',\n  'selection-start': '-1',\n  'selection-end': '-1',\n  bindFocus: NO_DEFAULT_VALUE,\n  bindBlur: NO_DEFAULT_VALUE,\n  bindLineChange: NO_DEFAULT_VALUE,\n  bindInput: NO_DEFAULT_VALUE,\n  bindConfirm: NO_DEFAULT_VALUE,\n  name: NO_DEFAULT_VALUE\n}\n\nconst CoverImage = {\n  src: NO_DEFAULT_VALUE,\n  bindLoad: 'eh',\n  bindError: 'eh'\n}\n\nconst CoverView = {\n  'scroll-top': DEFAULT_FALSE,\n  ...touchEvents\n}\n\nconst MovableArea = {\n  'scale-area': DEFAULT_FALSE\n}\n\nconst MovableView = {\n  direction: 'none',\n  inertia: DEFAULT_FALSE,\n  'out-of-bounds': DEFAULT_FALSE,\n  x: NO_DEFAULT_VALUE,\n  y: NO_DEFAULT_VALUE,\n  damping: '20',\n  friction: '2',\n  disabled: NO_DEFAULT_VALUE,\n  scale: DEFAULT_FALSE,\n  'scale-min': '0.5',\n  'scale-max': '10',\n  'scale-value': '1',\n  bindChange: NO_DEFAULT_VALUE,\n  bindScale: NO_DEFAULT_VALUE,\n  bindHTouchMove: NO_DEFAULT_VALUE,\n  bindVTouchMove: NO_DEFAULT_VALUE,\n  width: singleQuote('10px'),\n  height: singleQuote('10px'),\n  ...touchEvents,\n  ...animation\n}\n\nconst ScrollView = {\n  'scroll-x': DEFAULT_FALSE,\n  'scroll-y': DEFAULT_FALSE,\n  'upper-threshold': '50',\n  'lower-threshold': '50',\n  'scroll-top': NO_DEFAULT_VALUE,\n  'scroll-left': NO_DEFAULT_VALUE,\n  'scroll-into-view': NO_DEFAULT_VALUE,\n  'scroll-with-animation': DEFAULT_FALSE,\n  'enable-back-to-top': DEFAULT_FALSE,\n  bindScrollToUpper: NO_DEFAULT_VALUE,\n  bindScrollToLower: NO_DEFAULT_VALUE,\n  bindScroll: NO_DEFAULT_VALUE,\n  ...touchEvents,\n  ...animation\n}\n\nconst Swiper = {\n  'indicator-dots': DEFAULT_FALSE,\n  'indicator-color': singleQuote('rgba(0, 0, 0, .3)'),\n  'indicator-active-color': singleQuote('#000000'),\n  autoplay: DEFAULT_FALSE,\n  current: '0',\n  interval: '5000',\n  duration: '500',\n  circular: DEFAULT_FALSE,\n  vertical: DEFAULT_FALSE,\n  'previous-margin': singleQuote('0px'),\n  'next-margin': singleQuote('0px'),\n  'display-multiple-items': '1',\n  bindChange: NO_DEFAULT_VALUE,\n  bindTransition: NO_DEFAULT_VALUE,\n  bindAnimationFinish: NO_DEFAULT_VALUE,\n  ...touchEvents\n}\n\nconst SwiperItem = {\n  'item-id': NO_DEFAULT_VALUE\n}\n\nconst Navigator = {\n  url: NO_DEFAULT_VALUE,\n  'open-type': singleQuote('navigate'),\n  delta: '1',\n  'hover-class': singleQuote('navigator-hover'),\n  'hover-stop-propagation': DEFAULT_FALSE,\n  'hover-start-time': '50',\n  'hover-stay-time': '600',\n  bindSuccess: NO_DEFAULT_VALUE,\n  bindFail: NO_DEFAULT_VALUE,\n  bindComplete: NO_DEFAULT_VALUE\n}\n\nconst Audio = {\n  id: NO_DEFAULT_VALUE,\n  src: NO_DEFAULT_VALUE,\n  loop: DEFAULT_FALSE,\n  controls: DEFAULT_FALSE,\n  poster: NO_DEFAULT_VALUE,\n  name: NO_DEFAULT_VALUE,\n  author: NO_DEFAULT_VALUE,\n  bindError: NO_DEFAULT_VALUE,\n  bindPlay: NO_DEFAULT_VALUE,\n  bindPause: NO_DEFAULT_VALUE,\n  bindTimeUpdate: NO_DEFAULT_VALUE,\n  bindEnded: NO_DEFAULT_VALUE\n}\n\nconst Camera = {\n  'device-position': singleQuote('back'),\n  flash: singleQuote('auto'),\n  bindStop: NO_DEFAULT_VALUE,\n  bindError: NO_DEFAULT_VALUE\n}\n\nconst Image = {\n  src: NO_DEFAULT_VALUE,\n  mode: singleQuote('scaleToFill'),\n  'lazy-load': DEFAULT_FALSE,\n  bindError: NO_DEFAULT_VALUE,\n  bindLoad: NO_DEFAULT_VALUE,\n  ...touchEvents\n}\n\nconst LivePlayer = {\n  src: NO_DEFAULT_VALUE,\n  autoplay: DEFAULT_FALSE,\n  muted: DEFAULT_FALSE,\n  orientation: singleQuote('vertical'),\n  'object-fit': singleQuote('contain'),\n  'background-mute': DEFAULT_FALSE,\n  'min-cache': '1',\n  'max-cache': '3',\n  bindStateChange: NO_DEFAULT_VALUE,\n  bindFullScreenChange: NO_DEFAULT_VALUE,\n  bindNetStatus: NO_DEFAULT_VALUE,\n  ...animation\n}\n\nconst Video = {\n  src: NO_DEFAULT_VALUE,\n  duration: NO_DEFAULT_VALUE,\n  controls: DEFAULT_TRUE,\n  'danmu-list': NO_DEFAULT_VALUE,\n  'danmu-btn': NO_DEFAULT_VALUE,\n  'enable-danmu': NO_DEFAULT_VALUE,\n  autoplay: DEFAULT_FALSE,\n  loop: DEFAULT_FALSE,\n  muted: DEFAULT_FALSE,\n  'initial-time': '0',\n  'page-gesture': DEFAULT_FALSE,\n  direction: NO_DEFAULT_VALUE,\n  'show-progress': DEFAULT_TRUE,\n  'show-fullscreen-btn': DEFAULT_TRUE,\n  'show-play-btn': DEFAULT_TRUE,\n  'show-center-play-btn': DEFAULT_TRUE,\n  'enable-progress-gesture': DEFAULT_TRUE,\n  'object-fit': singleQuote('contain'),\n  poster: NO_DEFAULT_VALUE,\n  'show-mute-btn': DEFAULT_FALSE,\n  bindPlay: NO_DEFAULT_VALUE,\n  bindPause: NO_DEFAULT_VALUE,\n  bindEnded: NO_DEFAULT_VALUE,\n  bindTimeUpdate: NO_DEFAULT_VALUE,\n  bindFullScreenChange: NO_DEFAULT_VALUE,\n  bindWaiting: NO_DEFAULT_VALUE,\n  bindError: NO_DEFAULT_VALUE,\n  ...animation\n}\n\nconst Canvas = {\n  'canvas-id': NO_DEFAULT_VALUE,\n  'disable-scroll': DEFAULT_FALSE,\n  bindError: NO_DEFAULT_VALUE,\n  ...touchEvents\n}\n\nconst Ad = {\n  'unit-id': NO_DEFAULT_VALUE,\n  'ad-intervals': NO_DEFAULT_VALUE,\n  bindLoad: NO_DEFAULT_VALUE,\n  bindError: NO_DEFAULT_VALUE,\n  bindClose: NO_DEFAULT_VALUE\n}\n\nconst WebView = {\n  src: NO_DEFAULT_VALUE,\n  bindMessage: NO_DEFAULT_VALUE,\n  bindLoad: NO_DEFAULT_VALUE,\n  bindError: NO_DEFAULT_VALUE\n}\n\nconst Block = {}\n\n// For Vue，因为 slot 标签被 vue 占用了\nconst SlotView = {\n  name: NO_DEFAULT_VALUE\n}\n\n// For React\n// Slot 和 SlotView 最终都会编译成 <view slot={{ i.name }} />\n// 因为 <slot name=\"{{ i.name }}\" /> 适用性没有前者高（无法添加类和样式）\n// 不给 View 直接加 slot 属性的原因是性能损耗\nconst Slot = {\n  name: NO_DEFAULT_VALUE\n}\n\nexport const internalComponents: Record<string, Record<string, string>> = {\n  View,\n  Icon,\n  Progress,\n  RichText,\n  Text,\n  Button,\n  Checkbox,\n  CheckboxGroup,\n  Form,\n  Input,\n  Label,\n  Picker,\n  PickerView,\n  PickerViewColumn,\n  Radio,\n  RadioGroup,\n  Slider,\n  Switch,\n  CoverImage,\n  Textarea,\n  CoverView,\n  MovableArea,\n  MovableView,\n  ScrollView,\n  Swiper,\n  SwiperItem,\n  Navigator,\n  Audio,\n  Camera,\n  Image,\n  LivePlayer,\n  Video,\n  Canvas,\n  Ad,\n  WebView,\n  Block,\n  Map: MapComp,\n  Slot,\n  SlotView\n}\n\nexport const controlledComponent = new Set([\n  'input',\n  'checkbox',\n  'picker',\n  'picker-view',\n  'radio',\n  'slider',\n  'switch',\n  'textarea'\n])\n\nexport const focusComponents = new Set([\n  'input',\n  'textarea'\n])\n\nexport const voidElements = new Set([\n  'progress',\n  'icon',\n  'rich-text',\n  'input',\n  'textarea',\n  'slider',\n  'switch',\n  'audio',\n  'ad',\n  'official-account',\n  'open-data',\n  'navigation-bar'\n])\n\nexport const nestElements = new Map([\n  ['view', -1],\n  ['catch-view', -1],\n  ['cover-view', -1],\n  ['static-view', -1],\n  ['pure-view', -1],\n  ['block', -1],\n  ['text', -1],\n  ['static-text', 6],\n  ['slot', 8],\n  ['slot-view', 8],\n  ['label', 6],\n  ['form', 4],\n  ['scroll-view', 4],\n  ['swiper', 4],\n  ['swiper-item', 4]\n])\n","import { initNativeApi } from './apis'\n\nexport { initNativeApi }\nexport * from './components'\nexport * from './apis-list'\nexport const hostConfig = {\n  initNativeApi\n}\n","import { processApis } from '@tarojs/shared'\nimport { needPromiseApis } from './apis-list'\n\ndeclare const wx: any\n\nexport function initNativeApi (taro) {\n  processApis(taro, wx, {\n    needPromiseApis,\n    modifyApis (apis) {\n      // fix https://github.com/NervJS/taro/issues/9899\n      apis.delete('lanDebug')\n    }\n  })\n  taro.cloud = wx.cloud\n}\n","import { mergeReconciler, mergeInternalComponents } from '@tarojs/shared'\nimport { hostConfig, components } from './runtime-utils'\n\nmergeReconciler(hostConfig)\nmergeInternalComponents(components)\n","/*! *****************************************************************************\nCopyright (C) Microsoft. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n/** https://github.com/rbuckton/reflect-metadata */\n\nimport { isFunction, isUndefined, isObject } from '@tarojs/shared'\n\nif (process.env.TARO_ENV === 'h5') {\n  require('reflect-metadata')\n} else {\n  // var Reflect;\n  (function (Reflect) {\n      // Metadata Proposal\n      // https://rbuckton.github.io/reflect-metadata/\n      (function (factory) {\n          // var root = typeof global === \"object\" ? global :\n          //     typeof self === \"object\" ? self :\n          //         typeof this === \"object\" ? this :\n          //             Function(\"return this;\")();\n          var exporter = makeExporter(Reflect);\n          // if (typeof root.Reflect === \"undefined\") {\n          //     root.Reflect = Reflect;\n          // }\n          // else {\n          //     exporter = makeExporter(root.Reflect, exporter);\n          // }\n          factory(exporter);\n          function makeExporter(target, previous) {\n              return function (key, value) {\n                  if (!isFunction(target[key])) {\n                      Object.defineProperty(target, key, { configurable: true, writable: true, value: value });\n                  }\n                  if (previous)\n                      previous(key, value);\n              };\n          }\n      })(function (exporter) {\n          var hasOwn = Object.prototype.hasOwnProperty;\n          // feature test for Symbol support\n          var supportsSymbol = isFunction(Symbol);\n          var toPrimitiveSymbol = supportsSymbol && !isUndefined(Symbol.toPrimitive) ? Symbol.toPrimitive : \"@@toPrimitive\";\n          var iteratorSymbol = supportsSymbol && !isUndefined(Symbol.iterator) ? Symbol.iterator : \"@@iterator\";\n          var supportsCreate = isFunction(Object.create); // feature test for Object.create support\n          var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\n          var downLevel = !supportsCreate && !supportsProto;\n          var HashMap = {\n              // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\n              create: supportsCreate\n                  ? function () { return MakeDictionary(Object.create(null)); }\n                  : supportsProto\n                      ? function () { return MakeDictionary({ __proto__: null }); }\n                      : function () { return MakeDictionary({}); },\n              has: downLevel\n                  ? function (map, key) { return hasOwn.call(map, key); }\n                  : function (map, key) { return key in map; },\n              get: downLevel\n                  ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\n                  : function (map, key) { return map[key]; },\n          };\n          // Load global or shim versions of Map, Set, and WeakMap\n          var functionPrototype = Object.getPrototypeOf(Function);\n          var usePolyfill = isObject(process) && process.env && process.env[\"REFLECT_METADATA_USE_MAP_POLYFILL\"] === \"true\";\n          var _Map = Map;\n          var _Set = Set;\n          var _WeakMap = !usePolyfill && isFunction(WeakMap) ? WeakMap : CreateWeakMapPolyfill();\n          // [[Metadata]] internal slot\n          // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\n          var Metadata = new _WeakMap();\n          /**\n           * Applies a set of decorators to a property of a target object.\n           * @param decorators An array of decorators.\n           * @param target The target object.\n           * @param propertyKey (Optional) The property key to decorate.\n           * @param attributes (Optional) The property descriptor for the target key.\n           * @remarks Decorators are applied in reverse order.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     Example = Reflect.decorate(decoratorsArray, Example);\n           *\n           *     // property (on constructor)\n           *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     Object.defineProperty(Example, \"staticMethod\",\n           *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\n           *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\n           *\n           *     // method (on prototype)\n           *     Object.defineProperty(Example.prototype, \"method\",\n           *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\n           *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\n           *\n           */\n          function decorate(decorators, target, propertyKey, attributes) {\n              if (!IsUndefined(propertyKey)) {\n                  if (!IsArray(decorators))\n                      throw new TypeError();\n                  if (!IsObject(target))\n                      throw new TypeError();\n                  if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\n                      throw new TypeError();\n                  if (IsNull(attributes))\n                      attributes = undefined;\n                  propertyKey = ToPropertyKey(propertyKey);\n                  return DecorateProperty(decorators, target, propertyKey, attributes);\n              }\n              else {\n                  if (!IsArray(decorators))\n                      throw new TypeError();\n                  if (!IsConstructor(target))\n                      throw new TypeError();\n                  return DecorateConstructor(decorators, target);\n              }\n          }\n          exporter(\"decorate\", decorate);\n          // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n          // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n          /**\n           * A default metadata decorator factory that can be used on a class, class member, or parameter.\n           * @param metadataKey The key for the metadata entry.\n           * @param metadataValue The value for the metadata entry.\n           * @returns A decorator function.\n           * @remarks\n           * If `metadataKey` is already defined for the target and target key, the\n           * metadataValue for that key will be overwritten.\n           * @example\n           *\n           *     // constructor\n           *     @Reflect.metadata(key, value)\n           *     class Example {\n           *     }\n           *\n           *     // property (on constructor, TypeScript only)\n           *     class Example {\n           *         @Reflect.metadata(key, value)\n           *         static staticProperty;\n           *     }\n           *\n           *     // property (on prototype, TypeScript only)\n           *     class Example {\n           *         @Reflect.metadata(key, value)\n           *         property;\n           *     }\n           *\n           *     // method (on constructor)\n           *     class Example {\n           *         @Reflect.metadata(key, value)\n           *         static staticMethod() { }\n           *     }\n           *\n           *     // method (on prototype)\n           *     class Example {\n           *         @Reflect.metadata(key, value)\n           *         method() { }\n           *     }\n           *\n           */\n          function metadata(metadataKey, metadataValue) {\n              function decorator(target, propertyKey) {\n                  if (!IsObject(target))\n                      throw new TypeError();\n                  if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\n                      throw new TypeError();\n                  OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n              }\n              return decorator;\n          }\n          exporter(\"metadata\", metadata);\n          /**\n           * Define a unique metadata entry on the target.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param metadataValue A value that contains attached metadata.\n           * @param target The target object on which to define metadata.\n           * @param propertyKey (Optional) The property key for the target.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\n           *\n           *     // property (on constructor)\n           *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\n           *\n           *     // decorator factory as metadata-producing annotation.\n           *     function MyAnnotation(options): Decorator {\n           *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\n           *     }\n           *\n           */\n          function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n          }\n          exporter(\"defineMetadata\", defineMetadata);\n          /**\n           * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\n           *\n           */\n          function hasMetadata(metadataKey, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryHasMetadata(metadataKey, target, propertyKey);\n          }\n          exporter(\"hasMetadata\", hasMetadata);\n          /**\n           * Gets a value indicating whether the target object has the provided metadata key defined.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n           *\n           */\n          function hasOwnMetadata(metadataKey, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\n          }\n          exporter(\"hasOwnMetadata\", hasOwnMetadata);\n          /**\n           * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.getMetadata(\"custom:annotation\", Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\n           *\n           */\n          function getMetadata(metadataKey, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryGetMetadata(metadataKey, target, propertyKey);\n          }\n          exporter(\"getMetadata\", getMetadata);\n          /**\n           * Gets the metadata value for the provided metadata key on the target object.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n           *\n           */\n          function getOwnMetadata(metadataKey, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\n          }\n          exporter(\"getOwnMetadata\", getOwnMetadata);\n          /**\n           * Gets the metadata keys defined on the target object or its prototype chain.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns An array of unique metadata keys.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.getMetadataKeys(Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\n           *\n           */\n          function getMetadataKeys(target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryMetadataKeys(target, propertyKey);\n          }\n          exporter(\"getMetadataKeys\", getMetadataKeys);\n          /**\n           * Gets the unique metadata keys defined on the target object.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns An array of unique metadata keys.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.getOwnMetadataKeys(Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\n           *\n           */\n          function getOwnMetadataKeys(target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              return OrdinaryOwnMetadataKeys(target, propertyKey);\n          }\n          exporter(\"getOwnMetadataKeys\", getOwnMetadataKeys);\n          /**\n           * Deletes the metadata entry from the target object with the provided key.\n           * @param metadataKey A key used to store and retrieve metadata.\n           * @param target The target object on which the metadata is defined.\n           * @param propertyKey (Optional) The property key for the target.\n           * @returns `true` if the metadata entry was found and deleted; otherwise, false.\n           * @example\n           *\n           *     class Example {\n           *         // property declarations are not part of ES6, though they are valid in TypeScript:\n           *         // static staticProperty;\n           *         // property;\n           *\n           *         constructor(p) { }\n           *         static staticMethod(p) { }\n           *         method(p) { }\n           *     }\n           *\n           *     // constructor\n           *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\n           *\n           *     // property (on constructor)\n           *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\n           *\n           *     // property (on prototype)\n           *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\n           *\n           *     // method (on constructor)\n           *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\n           *\n           *     // method (on prototype)\n           *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\n           *\n           */\n          function deleteMetadata(metadataKey, target, propertyKey) {\n              if (!IsObject(target))\n                  throw new TypeError();\n              if (!IsUndefined(propertyKey))\n                  propertyKey = ToPropertyKey(propertyKey);\n              var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\n              if (IsUndefined(metadataMap))\n                  return false;\n              if (!metadataMap.delete(metadataKey))\n                  return false;\n              if (metadataMap.size > 0)\n                  return true;\n              var targetMetadata = Metadata.get(target);\n              targetMetadata.delete(propertyKey);\n              if (targetMetadata.size > 0)\n                  return true;\n              Metadata.delete(target);\n              return true;\n          }\n          exporter(\"deleteMetadata\", deleteMetadata);\n          function DecorateConstructor(decorators, target) {\n              for (var i = decorators.length - 1; i >= 0; --i) {\n                  var decorator = decorators[i];\n                  var decorated = decorator(target);\n                  if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                      if (!IsConstructor(decorated))\n                          throw new TypeError();\n                      target = decorated;\n                  }\n              }\n              return target;\n          }\n          function DecorateProperty(decorators, target, propertyKey, descriptor) {\n              for (var i = decorators.length - 1; i >= 0; --i) {\n                  var decorator = decorators[i];\n                  var decorated = decorator(target, propertyKey, descriptor);\n                  if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                      if (!IsObject(decorated))\n                          throw new TypeError();\n                      descriptor = decorated;\n                  }\n              }\n              return descriptor;\n          }\n          function GetOrCreateMetadataMap(O, P, Create) {\n              var targetMetadata = Metadata.get(O);\n              if (IsUndefined(targetMetadata)) {\n                  if (!Create)\n                      return undefined;\n                  targetMetadata = new _Map();\n                  Metadata.set(O, targetMetadata);\n              }\n              var metadataMap = targetMetadata.get(P);\n              if (IsUndefined(metadataMap)) {\n                  if (!Create)\n                      return undefined;\n                  metadataMap = new _Map();\n                  targetMetadata.set(P, metadataMap);\n              }\n              return metadataMap;\n          }\n          // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\n          function OrdinaryHasMetadata(MetadataKey, O, P) {\n              var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n              if (hasOwn)\n                  return true;\n              var parent = OrdinaryGetPrototypeOf(O);\n              if (!IsNull(parent))\n                  return OrdinaryHasMetadata(MetadataKey, parent, P);\n              return false;\n          }\n          // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n          function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n              var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n              if (IsUndefined(metadataMap))\n                  return false;\n              return ToBoolean(metadataMap.has(MetadataKey));\n          }\n          // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\n          function OrdinaryGetMetadata(MetadataKey, O, P) {\n              var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n              if (hasOwn)\n                  return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n              var parent = OrdinaryGetPrototypeOf(O);\n              if (!IsNull(parent))\n                  return OrdinaryGetMetadata(MetadataKey, parent, P);\n              return undefined;\n          }\n          // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n          function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n              var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n              if (IsUndefined(metadataMap))\n                  return undefined;\n              return metadataMap.get(MetadataKey);\n          }\n          // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n          function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n              var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\n              metadataMap.set(MetadataKey, MetadataValue);\n          }\n          // 3.1.6.1 OrdinaryMetadataKeys(O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\n          function OrdinaryMetadataKeys(O, P) {\n              var ownKeys = OrdinaryOwnMetadataKeys(O, P);\n              var parent = OrdinaryGetPrototypeOf(O);\n              if (parent === null)\n                  return ownKeys;\n              var parentKeys = OrdinaryMetadataKeys(parent, P);\n              if (parentKeys.length <= 0)\n                  return ownKeys;\n              if (ownKeys.length <= 0)\n                  return parentKeys;\n              var set = new _Set();\n              var keys = [];\n              for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\n                  var key = ownKeys_1[_i];\n                  var hasKey = set.has(key);\n                  if (!hasKey) {\n                      set.add(key);\n                      keys.push(key);\n                  }\n              }\n              for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\n                  var key = parentKeys_1[_a];\n                  var hasKey = set.has(key);\n                  if (!hasKey) {\n                      set.add(key);\n                      keys.push(key);\n                  }\n              }\n              return keys;\n          }\n          // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n          // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n          function OrdinaryOwnMetadataKeys(O, P) {\n              var keys = [];\n              var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n              if (IsUndefined(metadataMap))\n                  return keys;\n              var keysObj = metadataMap.keys();\n              var iterator = GetIterator(keysObj);\n              var k = 0;\n              while (true) {\n                  var next = IteratorStep(iterator);\n                  if (!next) {\n                      keys.length = k;\n                      return keys;\n                  }\n                  var nextValue = IteratorValue(next);\n                  try {\n                      keys[k] = nextValue;\n                  }\n                  catch (e) {\n                      try {\n                          IteratorClose(iterator);\n                      }\n                      finally {\n                          throw e;\n                      }\n                  }\n                  k++;\n              }\n          }\n          // 6 ECMAScript Data Typ0es and Values\n          // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\n          function Type(x) {\n              if (x === null)\n                  return 1 /* Null */;\n              switch (typeof x) {\n                  case \"undefined\": return 0 /* Undefined */;\n                  case \"boolean\": return 2 /* Boolean */;\n                  case \"string\": return 3 /* String */;\n                  case \"symbol\": return 4 /* Symbol */;\n                  case \"number\": return 5 /* Number */;\n                  case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\n                  default: return 6 /* Object */;\n              }\n          }\n          // 6.1.1 The Undefined Type\n          // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\n          function IsUndefined(x) {\n              return x === undefined;\n          }\n          // 6.1.2 The Null Type\n          // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\n          function IsNull(x) {\n              return x === null;\n          }\n          // 6.1.5 The Symbol Type\n          // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\n          function IsSymbol(x) {\n              return typeof x === \"symbol\";\n          }\n          // 6.1.7 The Object Type\n          // https://tc39.github.io/ecma262/#sec-object-type\n          function IsObject(x) {\n              return isObject(x) ? x !== null : isFunction(x);\n          }\n          // 7.1 Type Conversion\n          // https://tc39.github.io/ecma262/#sec-type-conversion\n          // 7.1.1 ToPrimitive(input [, PreferredType])\n          // https://tc39.github.io/ecma262/#sec-toprimitive\n          function ToPrimitive(input, PreferredType) {\n              switch (Type(input)) {\n                  case 0 /* Undefined */: return input;\n                  case 1 /* Null */: return input;\n                  case 2 /* Boolean */: return input;\n                  case 3 /* String */: return input;\n                  case 4 /* Symbol */: return input;\n                  case 5 /* Number */: return input;\n              }\n              var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\n              var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\n              if (exoticToPrim !== undefined) {\n                  var result = exoticToPrim.call(input, hint);\n                  if (IsObject(result))\n                      throw new TypeError();\n                  return result;\n              }\n              return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\n          }\n          // 7.1.1.1 OrdinaryToPrimitive(O, hint)\n          // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\n          function OrdinaryToPrimitive(O, hint) {\n              if (hint === \"string\") {\n                  var toString_1 = O.toString;\n                  if (IsCallable(toString_1)) {\n                      var result = toString_1.call(O);\n                      if (!IsObject(result))\n                          return result;\n                  }\n                  var valueOf = O.valueOf;\n                  if (IsCallable(valueOf)) {\n                      var result = valueOf.call(O);\n                      if (!IsObject(result))\n                          return result;\n                  }\n              }\n              else {\n                  var valueOf = O.valueOf;\n                  if (IsCallable(valueOf)) {\n                      var result = valueOf.call(O);\n                      if (!IsObject(result))\n                          return result;\n                  }\n                  var toString_2 = O.toString;\n                  if (IsCallable(toString_2)) {\n                      var result = toString_2.call(O);\n                      if (!IsObject(result))\n                          return result;\n                  }\n              }\n              throw new TypeError();\n          }\n          // 7.1.2 ToBoolean(argument)\n          // https://tc39.github.io/ecma262/2016/#sec-toboolean\n          function ToBoolean(argument) {\n              return !!argument;\n          }\n          // 7.1.12 ToString(argument)\n          // https://tc39.github.io/ecma262/#sec-tostring\n          function ToString(argument) {\n              return \"\" + argument;\n          }\n          // 7.1.14 ToPropertyKey(argument)\n          // https://tc39.github.io/ecma262/#sec-topropertykey\n          function ToPropertyKey(argument) {\n              var key = ToPrimitive(argument, 3 /* String */);\n              if (IsSymbol(key))\n                  return key;\n              return ToString(key);\n          }\n          // 7.2 Testing and Comparison Operations\n          // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\n          // 7.2.2 IsArray(argument)\n          // https://tc39.github.io/ecma262/#sec-isarray\n          function IsArray(argument) {\n              return Array.isArray\n                  ? Array.isArray(argument)\n                  : argument instanceof Object\n                      ? argument instanceof Array\n                      : Object.prototype.toString.call(argument) === \"[object Array]\";\n          }\n          // 7.2.3 IsCallable(argument)\n          // https://tc39.github.io/ecma262/#sec-iscallable\n          function IsCallable(argument) {\n              // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\n              return isFunction(argument);\n          }\n          // 7.2.4 IsConstructor(argument)\n          // https://tc39.github.io/ecma262/#sec-isconstructor\n          function IsConstructor(argument) {\n              // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\n              return isFunction(argument);\n          }\n          // 7.2.7 IsPropertyKey(argument)\n          // https://tc39.github.io/ecma262/#sec-ispropertykey\n          function IsPropertyKey(argument) {\n              switch (Type(argument)) {\n                  case 3 /* String */: return true;\n                  case 4 /* Symbol */: return true;\n                  default: return false;\n              }\n          }\n          // 7.3 Operations on Objects\n          // https://tc39.github.io/ecma262/#sec-operations-on-objects\n          // 7.3.9 GetMethod(V, P)\n          // https://tc39.github.io/ecma262/#sec-getmethod\n          function GetMethod(V, P) {\n              var func = V[P];\n              if (func === undefined || func === null)\n                  return undefined;\n              if (!IsCallable(func))\n                  throw new TypeError();\n              return func;\n          }\n          // 7.4 Operations on Iterator Objects\n          // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\n          function GetIterator(obj) {\n              var method = GetMethod(obj, iteratorSymbol);\n              if (!IsCallable(method))\n                  throw new TypeError(); // from Call\n              var iterator = method.call(obj);\n              if (!IsObject(iterator))\n                  throw new TypeError();\n              return iterator;\n          }\n          // 7.4.4 IteratorValue(iterResult)\n          // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\n          function IteratorValue(iterResult) {\n              return iterResult.value;\n          }\n          // 7.4.5 IteratorStep(iterator)\n          // https://tc39.github.io/ecma262/#sec-iteratorstep\n          function IteratorStep(iterator) {\n              var result = iterator.next();\n              return result.done ? false : result;\n          }\n          // 7.4.6 IteratorClose(iterator, completion)\n          // https://tc39.github.io/ecma262/#sec-iteratorclose\n          function IteratorClose(iterator) {\n              var f = iterator[\"return\"];\n              if (f)\n                  f.call(iterator);\n          }\n          // 9.1 Ordinary Object Internal Methods and Internal Slots\n          // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\n          // 9.1.1.1 OrdinaryGetPrototypeOf(O)\n          // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\n          function OrdinaryGetPrototypeOf(O) {\n              var proto = Object.getPrototypeOf(O);\n              if (!isFunction(O) || O === functionPrototype)\n                  return proto;\n              // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\n              // Try to determine the superclass constructor. Compatible implementations\n              // must either set __proto__ on a subclass constructor to the superclass constructor,\n              // or ensure each class has a valid `constructor` property on its prototype that\n              // points back to the constructor.\n              // If this is not the same as Function.[[Prototype]], then this is definately inherited.\n              // This is the case when in ES6 or when using __proto__ in a compatible browser.\n              if (proto !== functionPrototype)\n                  return proto;\n              // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\n              var prototype = O.prototype;\n              var prototypeProto = prototype && Object.getPrototypeOf(prototype);\n              if (prototypeProto == null || prototypeProto === Object.prototype)\n                  return proto;\n              // If the constructor was not a function, then we cannot determine the heritage.\n              var constructor = prototypeProto.constructor;\n              if (!isFunction(constructor))\n                  return proto;\n              // If we have some kind of self-reference, then we cannot determine the heritage.\n              if (constructor === O)\n                  return proto;\n              // we have a pretty good guess at the heritage.\n              return constructor;\n          }\n          // naive Map shim\n          // function CreateMapPolyfill() {\n          //     var cacheSentinel = {};\n          //     var arraySentinel = [];\n          //     var MapIterator = /** @class */ (function () {\n          //         function MapIterator(keys, values, selector) {\n          //             this._index = 0;\n          //             this._keys = keys;\n          //             this._values = values;\n          //             this._selector = selector;\n          //         }\n          //         MapIterator.prototype[\"@@iterator\"] = function () { return this; };\n          //         MapIterator.prototype[iteratorSymbol] = function () { return this; };\n          //         MapIterator.prototype.next = function () {\n          //             var index = this._index;\n          //             if (index >= 0 && index < this._keys.length) {\n          //                 var result = this._selector(this._keys[index], this._values[index]);\n          //                 if (index + 1 >= this._keys.length) {\n          //                     this._index = -1;\n          //                     this._keys = arraySentinel;\n          //                     this._values = arraySentinel;\n          //                 }\n          //                 else {\n          //                     this._index++;\n          //                 }\n          //                 return { value: result, done: false };\n          //             }\n          //             return { value: undefined, done: true };\n          //         };\n          //         MapIterator.prototype.throw = function (error) {\n          //             if (this._index >= 0) {\n          //                 this._index = -1;\n          //                 this._keys = arraySentinel;\n          //                 this._values = arraySentinel;\n          //             }\n          //             throw error;\n          //         };\n          //         MapIterator.prototype.return = function (value) {\n          //             if (this._index >= 0) {\n          //                 this._index = -1;\n          //                 this._keys = arraySentinel;\n          //                 this._values = arraySentinel;\n          //             }\n          //             return { value: value, done: true };\n          //         };\n          //         return MapIterator;\n          //     }());\n          //     return /** @class */ (function () {\n          //         function Map() {\n          //             this._keys = [];\n          //             this._values = [];\n          //             this._cacheKey = cacheSentinel;\n          //             this._cacheIndex = -2;\n          //         }\n          //         Object.defineProperty(Map.prototype, \"size\", {\n          //             get: function () { return this._keys.length; },\n          //             enumerable: true,\n          //             configurable: true\n          //         });\n          //         Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\n          //         Map.prototype.get = function (key) {\n          //             var index = this._find(key, /*insert*/ false);\n          //             return index >= 0 ? this._values[index] : undefined;\n          //         };\n          //         Map.prototype.set = function (key, value) {\n          //             var index = this._find(key, /*insert*/ true);\n          //             this._values[index] = value;\n          //             return this;\n          //         };\n          //         Map.prototype.delete = function (key) {\n          //             var index = this._find(key, /*insert*/ false);\n          //             if (index >= 0) {\n          //                 var size = this._keys.length;\n          //                 for (var i = index + 1; i < size; i++) {\n          //                     this._keys[i - 1] = this._keys[i];\n          //                     this._values[i - 1] = this._values[i];\n          //                 }\n          //                 this._keys.length--;\n          //                 this._values.length--;\n          //                 if (key === this._cacheKey) {\n          //                     this._cacheKey = cacheSentinel;\n          //                     this._cacheIndex = -2;\n          //                 }\n          //                 return true;\n          //             }\n          //             return false;\n          //         };\n          //         Map.prototype.clear = function () {\n          //             this._keys.length = 0;\n          //             this._values.length = 0;\n          //             this._cacheKey = cacheSentinel;\n          //             this._cacheIndex = -2;\n          //         };\n          //         Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\n          //         Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\n          //         Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\n          //         Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\n          //         Map.prototype[iteratorSymbol] = function () { return this.entries(); };\n          //         Map.prototype._find = function (key, insert) {\n          //             if (this._cacheKey !== key) {\n          //                 this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\n          //             }\n          //             if (this._cacheIndex < 0 && insert) {\n          //                 this._cacheIndex = this._keys.length;\n          //                 this._keys.push(key);\n          //                 this._values.push(undefined);\n          //             }\n          //             return this._cacheIndex;\n          //         };\n          //         return Map;\n          //     }());\n          //     function getKey(key, _) {\n          //         return key;\n          //     }\n          //     function getValue(_, value) {\n          //         return value;\n          //     }\n          //     function getEntry(key, value) {\n          //         return [key, value];\n          //     }\n          // }\n          // naive Set shim\n          // function CreateSetPolyfill() {\n          //     return /** @class */ (function () {\n          //         function Set() {\n          //             this._map = new _Map();\n          //         }\n          //         Object.defineProperty(Set.prototype, \"size\", {\n          //             get: function () { return this._map.size; },\n          //             enumerable: true,\n          //             configurable: true\n          //         });\n          //         Set.prototype.has = function (value) { return this._map.has(value); };\n          //         Set.prototype.add = function (value) { return this._map.set(value, value), this; };\n          //         Set.prototype.delete = function (value) { return this._map.delete(value); };\n          //         Set.prototype.clear = function () { this._map.clear(); };\n          //         Set.prototype.keys = function () { return this._map.keys(); };\n          //         Set.prototype.values = function () { return this._map.values(); };\n          //         Set.prototype.entries = function () { return this._map.entries(); };\n          //         Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\n          //         Set.prototype[iteratorSymbol] = function () { return this.keys(); };\n          //         return Set;\n          //     }());\n          // }\n          // naive WeakMap shim\n          function CreateWeakMapPolyfill() {\n              var UUID_SIZE = 16;\n              var keys = HashMap.create();\n              var rootKey = CreateUniqueKey();\n              return /** @class */ (function () {\n                  function WeakMap() {\n                      this._key = CreateUniqueKey();\n                  }\n                  WeakMap.prototype.has = function (target) {\n                      var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                      return table !== undefined ? HashMap.has(table, this._key) : false;\n                  };\n                  WeakMap.prototype.get = function (target) {\n                      var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                      return table !== undefined ? HashMap.get(table, this._key) : undefined;\n                  };\n                  WeakMap.prototype.set = function (target, value) {\n                      var table = GetOrCreateWeakMapTable(target, /*create*/ true);\n                      table[this._key] = value;\n                      return this;\n                  };\n                  WeakMap.prototype.delete = function (target) {\n                      var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                      return table !== undefined ? delete table[this._key] : false;\n                  };\n                  WeakMap.prototype.clear = function () {\n                      // NOTE: not a real clear, just makes the previous data unreachable\n                      this._key = CreateUniqueKey();\n                  };\n                  return WeakMap;\n              }());\n              function CreateUniqueKey() {\n                  var key;\n                  do\n                      key = \"@@WeakMap@@\" + CreateUUID();\n                  while (HashMap.has(keys, key));\n                  keys[key] = true;\n                  return key;\n              }\n              function GetOrCreateWeakMapTable(target, create) {\n                  if (!hasOwn.call(target, rootKey)) {\n                      if (!create)\n                          return undefined;\n                      Object.defineProperty(target, rootKey, { value: HashMap.create() });\n                  }\n                  return target[rootKey];\n              }\n              function FillRandomBytes(buffer, size) {\n                  for (var i = 0; i < size; ++i)\n                      buffer[i] = Math.random() * 0xff | 0;\n                  return buffer;\n              }\n              function GenRandomBytes(size) {\n                  if (isFunction(Uint8Array)) {\n                      if (!isUndefined(crypto))\n                          return crypto.getRandomValues(new Uint8Array(size));\n                      if (!isUndefined(msCrypto))\n                          return msCrypto.getRandomValues(new Uint8Array(size));\n                      return FillRandomBytes(new Uint8Array(size), size);\n                  }\n                  return FillRandomBytes(new Array(size), size);\n              }\n              function CreateUUID() {\n                  var data = GenRandomBytes(UUID_SIZE);\n                  // mark as random - RFC 4122 § 4.4\n                  data[6] = data[6] & 0x4f | 0x40;\n                  data[8] = data[8] & 0xbf | 0x80;\n                  var result = \"\";\n                  for (var offset = 0; offset < UUID_SIZE; ++offset) {\n                      var byte = data[offset];\n                      if (offset === 4 || offset === 6 || offset === 8)\n                          result += \"-\";\n                      if (byte < 16)\n                          result += \"0\";\n                      result += byte.toString(16).toLowerCase();\n                  }\n                  return result;\n              }\n          }\n          // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\n          function MakeDictionary(obj) {\n              obj.__ = undefined;\n              delete obj.__;\n              return obj;\n          }\n      });\n  })(Reflect || (Reflect = {}))\n}\n","export const PROPERTY_THRESHOLD = 2046\nexport const TARO_RUNTIME = 'Taro runtime'\nexport const HOOKS_APP_ID = 'taro-app'\nexport const SET_DATA = '小程序 setData'\nexport const PAGE_INIT = '页面初始化'\nexport const ROOT_STR = 'root'\nexport const HTML = 'html'\nexport const HEAD = 'head'\nexport const BODY = 'body'\nexport const APP = 'app'\nexport const CONTAINER = 'container'\nexport const DOCUMENT_ELEMENT_NAME = '#document'\nexport const DOCUMENT_FRAGMENT = 'document-fragment'\nexport const ID = 'id'\nexport const UID = 'uid'\nexport const CLASS = 'class'\nexport const STYLE = 'style'\nexport const FOCUS = 'focus'\nexport const VIEW = 'view'\nexport const STATIC_VIEW = 'static-view'\nexport const PURE_VIEW = 'pure-view'\nexport const PROPS = 'props'\nexport const DATASET = 'dataset'\nexport const OBJECT = 'object'\nexport const VALUE = 'value'\nexport const INPUT = 'input'\nexport const CHANGE = 'change'\nexport const CUSTOM_WRAPPER = 'custom-wrapper'\nexport const TARGET = 'target'\nexport const CURRENT_TARGET = 'currentTarget'\nexport const TYPE = 'type'\nexport const CONFIRM = 'confirm'\nexport const TIME_STAMP = 'timeStamp'\nexport const KEY_CODE = 'keyCode'\nexport const TOUCHMOVE = 'touchmove'\nexport const DATE = 'Date'\nexport const SET_TIMEOUT = 'setTimeout'\nexport const CATCHMOVE = 'catchMove'\nexport const CATCH_VIEW = 'catch-view'\nexport const COMMENT = 'comment'\nexport const ON_LOAD = 'onLoad'\nexport const ON_READY = 'onReady'\nexport const ON_SHOW = 'onShow'\nexport const ON_HIDE = 'onHide'\nexport const OPTIONS = 'options'\nexport const EXTERNAL_CLASSES = 'externalClasses'\nexport const BEHAVIORS = 'behaviors'\n","import { Shortcuts } from '@tarojs/shared'\nimport { NodeType } from '../dom/node_types'\nimport {\n  ROOT_STR,\n  STYLE,\n  ID,\n  UID,\n  CLASS,\n  COMMENT\n} from '../constants'\n\nimport type { TaroElement } from '../dom/element'\nimport type { TaroText } from '../dom/text'\nimport type { TaroNode } from '../dom/node'\n\nexport const incrementId = () => {\n  let id = 0\n  return () => (id++).toString()\n}\n\nexport function isElement (node: TaroNode): node is TaroElement {\n  return node.nodeType === NodeType.ELEMENT_NODE\n}\n\nexport function isText (node: TaroNode): node is TaroText {\n  return node.nodeType === NodeType.TEXT_NODE\n}\n\nexport function isComment (node: TaroNode): boolean {\n  return node.nodeName === COMMENT\n}\n\nexport function isHasExtractProp (el: TaroElement): boolean {\n  const res = Object.keys(el.props).find(prop => {\n    return !(/^(class|style|id)$/.test(prop) || prop.startsWith('data-'))\n  })\n  return Boolean(res)\n}\n\n/**\n * 往上寻找组件树直到 root，寻找是否有祖先组件绑定了同类型的事件\n * @param node 当前组件\n * @param type 事件类型\n */\nexport function isParentBinded (node: TaroElement | null, type: string): boolean {\n  let res = false\n  while (node?.parentElement && node.parentElement._path !== ROOT_STR) {\n    if (node.parentElement.__handlers[type]?.length) {\n      res = true\n      break\n    }\n    node = node.parentElement\n  }\n  return res\n}\n\nexport function shortcutAttr (key: string): string {\n  switch (key) {\n    case STYLE:\n      return Shortcuts.Style\n    case ID:\n      return UID\n    case CLASS:\n      return Shortcuts.Class\n    default:\n      return key\n  }\n}\n\nexport const customWrapperCache = new Map<string, Record<string, any>>()\n","export enum ElementNames {\n  Element = 'Element',\n  Document = 'Document',\n  RootElement = 'RootElement',\n  FormElement = 'FormElement'\n}\n\nexport interface InstanceFactory<T> {\n  (...args: any[]): T\n}\n\nexport interface InstanceNamedFactory {\n  <T>(named: string): (...args: any[]) => T\n}\n","export const SID_TARO_ELEMENT = '0'\nexport const SID_TARO_ELEMENT_FACTORY = '1'\nexport const SID_TARO_TEXT = '2'\nexport const SID_TARO_TEXT_FACTORY = '3'\nexport const SID_TARO_NODE_IMPL = '4'\nexport const SID_TARO_ELEMENT_IMPL = '5'\nexport const SID_HOOKS = '6'\nexport const SID_ON_REMOVE_ATTRIBUTE = '7'\nexport const SID_GET_MINI_LIFECYCLE = '8'\nexport const SID_GET_LIFECYCLE = '9'\nexport const SID_GET_PATH_INDEX = '10'\nexport const SID_GET_EVENT_CENTER = '11'\nexport const SID_IS_BUBBLE_EVENTS = '12'\nexport const SID_GET_SPECIAL_NODES = '13'\nexport const SID_EVENT_CENTER = '14'\nexport const SID_MODIFY_MP_EVENT = '15'\nexport const SID_MODIFY_TARO_EVENT = '16'\nexport const SID_MODIFY_DISPATCH_EVENT = '17'\nexport const SID_BATCHED_EVENT_UPDATES = '18'\nexport const SID_MERGE_PAGE_INSTANCE = '19'\nexport const SID_CREATE_PULLDOWN_COMPONENT = '20'\nexport const SID_GET_DOM_NODE = '21'\nexport const SID_INIT_NATIVE_API = '22'\nexport const SID_MODIFY_HYDRATE_DATA = '23'\nexport const SID_MODIFY_SET_ATTR_PAYLOAD = '24'\nexport const SID_MODIFY_RM_ATTR_PAYLOAD = '25'\nexport const SID_ON_ADD_EVENT = '26'\nexport const SID_PATCH_ELEMENT = '27'\nexport const SID_MODIFY_PAGE_OBJECT = '28'\n\nconst SERVICE_IDENTIFIER = {\n  TaroElement: SID_TARO_ELEMENT,\n  TaroElementFactory: SID_TARO_ELEMENT_FACTORY,\n  TaroText: SID_TARO_TEXT,\n  TaroTextFactory: SID_TARO_TEXT_FACTORY,\n  TaroNodeImpl: SID_TARO_NODE_IMPL,\n  TaroElementImpl: SID_TARO_ELEMENT_IMPL,\n  Hooks: SID_HOOKS,\n  onRemoveAttribute: SID_ON_REMOVE_ATTRIBUTE,\n  getMiniLifecycle: SID_GET_MINI_LIFECYCLE,\n  getLifecycle: SID_GET_LIFECYCLE,\n  getPathIndex: SID_GET_PATH_INDEX,\n  getEventCenter: SID_GET_EVENT_CENTER,\n  isBubbleEvents: SID_IS_BUBBLE_EVENTS,\n  getSpecialNodes: SID_GET_SPECIAL_NODES,\n  eventCenter: SID_EVENT_CENTER,\n  modifyMpEvent: SID_MODIFY_MP_EVENT,\n  modifyTaroEvent: SID_MODIFY_TARO_EVENT,\n  modifyDispatchEvent: SID_MODIFY_DISPATCH_EVENT,\n  batchedEventUpdates: SID_BATCHED_EVENT_UPDATES,\n  mergePageInstance: SID_MERGE_PAGE_INSTANCE,\n  createPullDownComponent: SID_CREATE_PULLDOWN_COMPONENT,\n  getDOMNode: SID_GET_DOM_NODE,\n  initNativeApi: SID_INIT_NATIVE_API,\n  modifyHydrateData: SID_MODIFY_HYDRATE_DATA,\n  modifySetAttrPayload: SID_MODIFY_SET_ATTR_PAYLOAD,\n  modifyRmAttrPayload: SID_MODIFY_RM_ATTR_PAYLOAD,\n  onAddEvent: SID_ON_ADD_EVENT,\n  patchElement: SID_PATCH_ELEMENT,\n  modifyPageObject: SID_MODIFY_PAGE_OBJECT\n}\n\nexport default SERVICE_IDENTIFIER\n","import { SID_HOOKS, SID_TARO_ELEMENT_FACTORY, SID_TARO_ELEMENT_IMPL, SID_TARO_NODE_IMPL } from '../constants/identifiers'\nimport { ElementNames, TaroDocumentInstance } from '../interface'\n\nimport type { Container } from 'inversify'\nimport type { IHooks, InstanceNamedFactory } from '../interface'\nimport type { TaroNodeImpl } from '../dom-external/node-impl'\nimport type { TaroElementImpl } from '../dom-external/element-impl'\n\ninterface IStore {\n  container: Container | null\n}\n\nexport const store: IStore = {\n  container: null\n}\n\nexport function getHooks (): IHooks {\n  return store.container!.get<IHooks>(SID_HOOKS)\n}\n\nexport function getElementFactory (): InstanceNamedFactory {\n  return store.container!.get<InstanceNamedFactory>(SID_TARO_ELEMENT_FACTORY)\n}\n\nexport function getNodeImpl (): TaroNodeImpl {\n  return store.container!.get<TaroNodeImpl>(SID_TARO_NODE_IMPL)\n}\n\nexport function getElementImpl (): TaroElementImpl {\n  return store.container!.get<TaroElementImpl>(SID_TARO_ELEMENT_IMPL)\n}\n\nexport function getDocument (): TaroDocumentInstance {\n  const getElement = getElementFactory()\n  return getElement(ElementNames.Document)() as TaroDocumentInstance\n}\n","import { injectable } from 'inversify'\nimport { isArray, isObject, warn } from '@tarojs/shared'\nimport { getHooks } from 'src/container/store'\n\nimport type { EventHandler, AddEventListenerOptions, IHooks } from '../interface'\n\n@injectable()\nexport class TaroEventTarget {\n  public __handlers: Record<string, EventHandler[]> = {}\n  public hooks: IHooks\n\n  public constructor () {\n    this.hooks = getHooks()\n  }\n\n  public addEventListener (type: string, handler: EventHandler, options?: boolean | AddEventListenerOptions) {\n    type = type.toLowerCase()\n\n    this.hooks.onAddEvent?.(type, handler, options, this)\n\n    if (type === 'regionchange') {\n      // map 组件的 regionchange 事件非常特殊，详情：https://github.com/NervJS/taro/issues/5766\n      this.addEventListener('begin', handler, options)\n      this.addEventListener('end', handler, options)\n      return\n    }\n\n    let isCapture = Boolean(options)\n    let isOnce = false\n    if (isObject<AddEventListenerOptions>(options)) {\n      isCapture = Boolean(options.capture)\n      isOnce = Boolean(options.once)\n    }\n\n    if (isOnce) {\n      const wrapper = function () {\n        handler.apply(this, arguments) // this 指向 Element\n        this.removeEventListener(type, wrapper)\n      }\n      this.addEventListener(type, wrapper, {\n        ...(options as AddEventListenerOptions),\n        once: false\n      })\n      return\n    }\n\n    process.env.NODE_ENV !== 'production' && warn(isCapture, 'Taro 暂未实现 event 的 capture 特性。')\n\n    // 某些框架，如 PReact 有委托的机制，handler 始终是同一个函数\n    // 这会导致多层停止冒泡失败：view -> view(handler.stop = false) -> view(handler.stop = true)\n    // 这样解决：view -> view(handlerA.stop = false) -> view(handlerB.stop = false)\n    // 因此每次绑定事件都新建一个函数，如果带来了性能问题，可以把这段逻辑抽取到 PReact 插件中。\n    const oldHandler = handler\n    handler = function () {\n      oldHandler.apply(this, arguments) // this 指向 Element\n    }\n    ;(handler as any).oldHandler = oldHandler\n\n    const handlers = this.__handlers[type]\n    if (isArray(handlers)) {\n      handlers.push(handler)\n    } else {\n      this.__handlers[type] = [handler]\n    }\n  }\n\n  public removeEventListener (type: string, handler: EventHandler) {\n    type = type.toLowerCase()\n    if (!handler) {\n      return\n    }\n\n    const handlers = this.__handlers[type]\n    if (!isArray(handlers)) {\n      return\n    }\n\n    const index = handlers.findIndex(item => {\n      if (item === handler || (item as any).oldHandler === handler) return true\n    })\n\n    process.env.NODE_ENV !== 'production' && warn(index === -1, `事件: '${type}' 没有注册在 DOM 中，因此不会被移除。`)\n\n    handlers.splice(index, 1)\n  }\n\n  public isAnyEventBinded (): boolean {\n    const handlers = this.__handlers\n    const isAnyEventBinded = Object.keys(handlers).find(key => handlers[key].length)\n    return Boolean(isAnyEventBinded)\n  }\n}\n","import { Shortcuts, toCamelCase } from '@tarojs/shared'\nimport { isText, isHasExtractProp, isComment } from './utils'\nimport {\n  VIEW,\n  CLASS,\n  STYLE,\n  ID,\n  PURE_VIEW,\n  CATCHMOVE,\n  CATCH_VIEW\n} from './constants'\n\nimport type { MiniData, MiniElementData } from './interface'\nimport type { TaroElement } from './dom/element'\nimport type { TaroText } from './dom/text'\n\n/**\n * React also has a fancy function's name for this: `hydrate()`.\n * You may have been heard `hydrate` as a SSR-related function,\n * actually, `hydrate` basicly do the `render()` thing, but ignore some properties,\n * it's a vnode traverser and modifier: that's exactly what Taro's doing in here.\n */\nexport function hydrate (node: TaroElement | TaroText): MiniData {\n  const nodeName = node.nodeName\n\n  if (isText(node)) {\n    return {\n      [Shortcuts.Text]: node.nodeValue,\n      [Shortcuts.NodeName]: nodeName\n    }\n  }\n\n  const data: MiniElementData = {\n    [Shortcuts.NodeName]: nodeName,\n    sid: node.sid\n  }\n  const { props } = node\n  const SPECIAL_NODES = node.hooks.getSpecialNodes()\n\n  if (node.uid !== node.sid) {\n    data.uid = node.uid\n  }\n\n  if (!node.isAnyEventBinded() && SPECIAL_NODES.indexOf(nodeName) > -1) {\n    data[Shortcuts.NodeName] = `static-${nodeName}`\n    if (nodeName === VIEW && !isHasExtractProp(node)) {\n      data[Shortcuts.NodeName] = PURE_VIEW\n    }\n  }\n\n  for (const prop in props) {\n    const propInCamelCase = toCamelCase(prop)\n    if (\n      !prop.startsWith('data-') && // 在 node.dataset 的数据\n      prop !== CLASS &&\n      prop !== STYLE &&\n      prop !== ID &&\n      propInCamelCase !== CATCHMOVE\n    ) {\n      data[propInCamelCase] = props[prop]\n    }\n    if (nodeName === VIEW && propInCamelCase === CATCHMOVE && props[prop] !== false) {\n      data[Shortcuts.NodeName] = CATCH_VIEW\n    }\n  }\n\n  let { childNodes } = node\n\n  // 过滤 comment 节点\n  childNodes = childNodes.filter(node => !isComment(node))\n\n  if (childNodes.length > 0) {\n    data[Shortcuts.Childnodes] = childNodes.map(hydrate)\n  } else {\n    data[Shortcuts.Childnodes] = []\n  }\n\n  if (node.className !== '') {\n    data[Shortcuts.Class] = node.className\n  }\n\n  if (node.cssText !== '' && nodeName !== 'swiper-item') {\n    data[Shortcuts.Style] = node.cssText\n  }\n\n  node.hooks.modifyHydrateData?.(data)\n\n  return data\n}\n","import type { TaroNode } from './node'\n\ninterface IEventSource extends Map<string | undefined | null, TaroNode> {\n  removeNode (child: TaroNode): void\n  removeNodeTree (child: TaroNode): void\n}\n\nclass EventSource extends Map {\n  removeNode (child: TaroNode) {\n    const { sid, uid } = child\n    this.delete(sid)\n    if (uid !== sid && uid) this.delete(uid)\n  }\n\n  removeNodeTree (child: TaroNode) {\n    this.removeNode(child)\n    const { childNodes } = child\n    childNodes.forEach(node => this.removeNodeTree(node))\n  }\n}\n\nexport const eventSource: IEventSource = new EventSource()\n","import { MutationRecordType } from './record'\n\nimport type { TaroNode } from '../../dom/node'\nimport type { MutationRecord } from './record'\n\nexport type MutationCallback = (mutations: MutationRecord[]) => any\n\n/**\n * @see https://dom.spec.whatwg.org/#dictdef-mutationobserverinit\n */\nexport interface MutationObserverInit {\n  attributeFilter?: string[]\n  attributeOldValue?: boolean\n  attributes?: boolean\n  characterData?: boolean\n  characterDataOldValue?: boolean\n  childList?: boolean\n  subtree?: boolean\n}\n\nconst observers: MutationObserverImpl[] = []\n\n/**\n * The MutationObserver provides the ability\n * to watch for changes being made to the DOM tree.\n * It will invoke a specified callback function\n * when DOM changes occur.\n * @see https://dom.spec.whatwg.org/#mutationobserver\n * @see https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\n */\nexport class MutationObserverImpl {\n  public callback: MutationCallback\n  public target: TaroNode | null\n  public options: MutationObserverInit\n  public records: MutationRecord[] = []\n\n  constructor (callback: MutationCallback) {\n    this.callback = callback\n  }\n\n  /**\n   * Configures the MutationObserver\n   * to begin receiving notifications\n   * through its callback function\n   * when DOM changes matching the given options occur.\n   *\n   * Options matching is to be implemented.\n   */\n  observe (target: TaroNode, options?: MutationObserverInit): void {\n    this.disconnect()\n    this.target = target\n    this.options = options || {}\n\n    observers.push(this)\n  }\n\n  /**\n   * Stop the MutationObserver instance\n   * from receiving further notifications\n   * until and unless observe() is called again.\n   */\n  disconnect (): void {\n    this.target = null\n\n    const index = observers.indexOf(this)\n    if (index >= 0) {\n      observers.splice(index, 1)\n    }\n  }\n\n  /**\n   * Removes all pending notifications\n   * from the MutationObserver's notification queue\n   * and returns them in a new Array of MutationRecord objects.\n   */\n  takeRecords (): MutationRecord[] {\n    return this.records.splice(0, this.records.length)\n  }\n}\n\n/** Match two TaroNodes by sid. */\nconst sidMatches = (\n  observerTarget: TaroNode | null,\n  target: TaroNode | null\n): boolean => {\n  return !!observerTarget && observerTarget.sid === target?.sid\n}\n\nconst isConcerned = (record: MutationRecord, options: MutationObserverInit) => {\n  const { characterData, characterDataOldValue, attributes, attributeOldValue, childList } = options\n  switch (record.type) {\n    case MutationRecordType.CHARACTER_DATA:\n      if (characterData) {\n        if (!characterDataOldValue) record.oldValue = null\n        return true\n      }\n      return false\n    case MutationRecordType.ATTRIBUTES:\n      if (attributes) {\n        if (!attributeOldValue) record.oldValue = null\n        return true\n      }\n      return false\n    case MutationRecordType.CHILD_LIST:\n      if (childList) {\n        return true\n      }\n      return false\n  }\n}\n\nlet pendingMuatations = false\n\nfunction logMutation (observer: MutationObserverImpl, record: MutationRecord) {\n  observer.records.push(record)\n  if (!pendingMuatations) {\n    pendingMuatations = true\n    Promise\n      .resolve()\n      .then(() => {\n        pendingMuatations = false\n        observers.forEach(observer => {\n          return observer.callback(observer.takeRecords())\n        })\n      })\n  }\n}\n\nexport function recordMutation (record: MutationRecord) {\n  observers.forEach(observer => {\n    const { options } = observer\n    for (let t: TaroNode | null = record.target; t; t = t.parentNode) {\n      if (sidMatches(observer.target, t) && isConcerned(record, options)) {\n        logMutation(observer, record)\n        break\n      }\n      if (!options.subtree) break\n    }\n  })\n}\n","import { noop } from '@tarojs/shared'\nimport { MutationObserverImpl, recordMutation } from './implements'\nimport { MutationRecord } from './record'\n\nimport type { MutationCallback, MutationObserverInit } from './implements'\nimport type { TaroNode } from '../../dom/node'\n\ndeclare const ENABLE_MUTATION_OBSERVER: boolean\n\nexport class MutationObserver {\n  core: Pick<MutationObserverImpl, 'observe' | 'disconnect' | 'takeRecords'>\n\n  constructor (callback: MutationCallback) {\n    if (ENABLE_MUTATION_OBSERVER) {\n      this.core = new MutationObserverImpl(callback)\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('[Taro Warning] 若要使用 MutationObserver，请在 Taro 编译配置中设置 \\'mini.enableMutationObserver: true\\'')\n      }\n      this.core = {\n        observe: noop,\n        disconnect: noop,\n        takeRecords: (noop as () => any)\n      }\n    }\n  }\n\n  public observe (...args: [TaroNode, MutationObserverInit?]) {\n    this.core.observe(...args)\n  }\n\n  public disconnect () {\n    this.core.disconnect()\n  }\n\n  public takeRecords () {\n    return this.core.takeRecords()\n  }\n\n  static record (record: MutationRecord) {\n    recordMutation(record)\n  }\n}\n","import { injectable } from 'inversify'\nimport { Shortcuts, ensure } from '@tarojs/shared'\nimport { NodeType } from './node_types'\nimport { incrementId, isComment } from '../utils'\nimport { TaroEventTarget } from './event-target'\nimport { hydrate } from '../hydrate'\nimport { eventSource } from './event-source'\nimport { ElementNames } from '../interface'\nimport { getElementFactory, getNodeImpl } from '../container/store'\nimport { MutationObserver } from '../dom-external/mutation-observer'\nimport { MutationRecordType } from '../dom-external/mutation-observer/record'\nimport {\n  DOCUMENT_FRAGMENT\n} from '../constants'\n\nimport type { UpdatePayload } from '../interface'\nimport type { TaroDocument } from './document'\nimport type { TaroRootElement } from './root'\nimport type { TaroElement } from './element'\n\ninterface RemoveChildOptions {\n  cleanRef?: boolean\n  doUpdate?: boolean\n}\n\nconst CHILDNODES = Shortcuts.Childnodes\nconst nodeId = incrementId()\n\n@injectable()\nexport class TaroNode extends TaroEventTarget {\n  public uid: string\n  public sid: string\n  public nodeType: NodeType\n  public nodeName: string\n  public parentNode: TaroNode | null = null\n  public childNodes: TaroNode[] = []\n\n  protected _getElement = getElementFactory()\n\n  public constructor () {\n    super()\n    const impl = getNodeImpl()\n    impl.bind(this)\n    this.uid = `_n_${nodeId()}` // dom 节点 id，开发者可修改\n    this.sid = this.uid // dom 节点全局唯一 id，不可被修改\n    eventSource.set(this.sid, this)\n  }\n\n  private hydrate = (node: TaroNode) => () => hydrate(node as TaroElement)\n\n  /**\n   * like jQuery's $.empty()\n   */\n  private _empty () {\n    while (this.firstChild) {\n      // Data Structure\n      const child = this.firstChild\n      child.parentNode = null\n      this.childNodes.shift()\n\n      // eventSource\n      eventSource.removeNodeTree(child)\n    }\n  }\n\n  private updateChildNodes (isClean?: boolean) {\n    const cleanChildNodes = () => []\n    const rerenderChildNodes = () => {\n      const childNodes = this.childNodes.filter(node => !isComment(node))\n      return childNodes.map(hydrate)\n    }\n\n    this.enqueueUpdate({\n      path: `${this._path}.${CHILDNODES}`,\n      value: isClean ? cleanChildNodes : rerenderChildNodes\n    })\n  }\n\n  protected get _root (): TaroRootElement | null {\n    return this.parentNode?._root || null\n  }\n\n  protected findIndex (refChild: TaroNode): number {\n    const index = this.childNodes.indexOf(refChild)\n\n    ensure(index !== -1, 'The node to be replaced is not a child of this node.')\n\n    return index\n  }\n\n  public get _path (): string {\n    const parentNode = this.parentNode\n\n    if (parentNode) {\n      // 计算路径时，先过滤掉 comment 节点\n      const list = parentNode.childNodes.filter(node => !isComment(node))\n      const indexOfNode = list.indexOf(this)\n      const index = this.hooks.getPathIndex(indexOfNode)\n\n      return `${parentNode._path}.${CHILDNODES}.${index}`\n    }\n\n    return ''\n  }\n\n  public get nextSibling (): TaroNode | null {\n    const parentNode = this.parentNode\n    return parentNode?.childNodes[parentNode.findIndex(this) + 1] || null\n  }\n\n  public get previousSibling (): TaroNode | null {\n    const parentNode = this.parentNode\n    return parentNode?.childNodes[parentNode.findIndex(this) - 1] || null\n  }\n\n  public get parentElement (): TaroElement | null {\n    const parentNode = this.parentNode\n    if (parentNode?.nodeType === NodeType.ELEMENT_NODE) {\n      return parentNode as TaroElement\n    }\n    return null\n  }\n\n  public get firstChild (): TaroNode | null {\n    return this.childNodes[0] || null\n  }\n\n  public get lastChild (): TaroNode | null {\n    const childNodes = this.childNodes\n    return childNodes[childNodes.length - 1] || null\n  }\n\n  /**\n   * @textContent 目前只能置空子元素\n   * @TODO 等待完整 innerHTML 实现\n   */\n  public set textContent (text: string) {\n    const document = this._getElement<TaroDocument>(ElementNames.Document)()\n    const newText = document.createTextNode(text)\n\n    // @Todo: appendChild 会多触发一次\n    MutationObserver.record({\n      type: MutationRecordType.CHILD_LIST,\n      target: this,\n      removedNodes: this.childNodes.slice(),\n      addedNodes: text === '' ? [] : [newText]\n    })\n\n    this._empty()\n\n    if (text === '') {\n      this.updateChildNodes(true)\n    } else {\n      this.appendChild(newText)\n      this.updateChildNodes()\n    }\n  }\n\n  /**\n   * @doc https://developer.mozilla.org/zh-CN/docs/Web/API/Node/insertBefore\n   * @scenario\n   * [A,B,C]\n   *   1. insert D before C, D has no parent\n   *   2. insert D before C, D has the same parent of C\n   *   3. insert D before C, D has the different parent of C\n   */\n  public insertBefore<T extends TaroNode> (newChild: T, refChild?: TaroNode | null, isReplace?: boolean): T {\n    if (newChild.nodeName === DOCUMENT_FRAGMENT) {\n      newChild.childNodes.reduceRight((previousValue, currentValue) => {\n        this.insertBefore(currentValue, previousValue)\n        return currentValue\n      }, refChild)\n      return newChild\n    }\n\n    // Parent release newChild\n    //   - cleanRef: false (No need to clean eventSource, because newChild is about to be inserted)\n    //   - update: true (Need to update parent.childNodes, because parent.childNodes is reordered)\n    newChild.remove({ cleanRef: false })\n\n    // Data structure\n    newChild.parentNode = this\n    if (refChild) {\n      // insertBefore & replaceChild\n      const index = this.findIndex(refChild)\n      this.childNodes.splice(index, 0, newChild)\n    } else {\n      // appendChild\n      this.childNodes.push(newChild)\n    }\n\n    // Serialization\n    if (!refChild || isReplace) {\n      // appendChild & replaceChild\n      this.enqueueUpdate({\n        path: newChild._path,\n        value: this.hydrate(newChild)\n      })\n    } else {\n      // insertBefore\n      this.updateChildNodes()\n    }\n\n    MutationObserver.record({\n      type: MutationRecordType.CHILD_LIST,\n      target: this,\n      addedNodes: [newChild],\n      removedNodes: isReplace\n        ? [refChild as TaroNode] /** replaceChild */\n        : [],\n      nextSibling: isReplace\n        ? (refChild as TaroNode).nextSibling /** replaceChild */\n        : (refChild || null), /** insertBefore & appendChild */\n      previousSibling: newChild.previousSibling\n    })\n\n    return newChild\n  }\n\n  /**\n   * @doc https://developer.mozilla.org/zh-CN/docs/Web/API/Node/appendChild\n   * @scenario\n   * [A,B,C]\n   *   1. append C, C has no parent\n   *   2. append C, C has the same parent of B\n   *   3. append C, C has the different parent of B\n   */\n  public appendChild (newChild: TaroNode) {\n    return this.insertBefore(newChild)\n  }\n\n  /**\n   * @doc https://developer.mozilla.org/zh-CN/docs/Web/API/Node/replaceChild\n   * @scenario\n   * [A,B,C]\n   *   1. replace B with C, C has no parent\n   *   2. replace B with C, C has no parent, C has the same parent of B\n   *   3. replace B with C, C has no parent, C has the different parent of B\n   */\n  public replaceChild (newChild: TaroNode, oldChild: TaroNode) {\n    if (oldChild.parentNode !== this) return\n\n    // Insert the newChild\n    this.insertBefore(newChild, oldChild, true)\n\n    // Destroy the oldChild\n    //   - cleanRef: true (Need to clean eventSource, because the oldChild was detached from the DOM tree)\n    //   - update: false (No need to update parent.childNodes, because replace will not cause the parent.childNodes being reordered)\n    oldChild.remove({ doUpdate: false })\n\n    return oldChild\n  }\n\n  /**\n   * @doc https://developer.mozilla.org/zh-CN/docs/Web/API/Node/removeChild\n   * @scenario\n   * [A,B,C]\n   *   1. remove A or B\n   *   2. remove C\n   */\n  public removeChild<T extends TaroNode> (child: T, options: RemoveChildOptions = {}): T {\n    const { cleanRef, doUpdate } = options\n\n    if (cleanRef !== false && doUpdate !== false) {\n      // appendChild/replaceChild/insertBefore 不应该触发\n      // @Todo: 但其实如果 newChild 的父节点是另一颗子树的节点，应该是要触发的\n      MutationObserver.record({\n        type: MutationRecordType.CHILD_LIST,\n        target: this,\n        removedNodes: [child],\n        nextSibling: child.nextSibling,\n        previousSibling: child.previousSibling\n      })\n    }\n\n    // Data Structure\n    const index = this.findIndex(child)\n    this.childNodes.splice(index, 1)\n    child.parentNode = null\n\n    // Set eventSource\n    if (cleanRef !== false) {\n      eventSource.removeNodeTree(child)\n    }\n\n    // Serialization\n    if (doUpdate !== false) {\n      this.updateChildNodes()\n    }\n\n    return child\n  }\n\n  public remove (options?: RemoveChildOptions) {\n    this.parentNode?.removeChild(this, options)\n  }\n\n  public hasChildNodes () {\n    return this.childNodes.length > 0\n  }\n\n  public enqueueUpdate (payload: UpdatePayload) {\n    this._root?.enqueueUpdate(payload)\n  }\n\n  public get ownerDocument () {\n    const document = this._getElement<TaroDocument>(ElementNames.Document)()\n    return document\n  }\n}\n","import { injectable } from 'inversify'\nimport { Shortcuts } from '@tarojs/shared'\nimport { TaroNode } from './node'\nimport { NodeType } from './node_types'\nimport { MutationObserver } from '../dom-external/mutation-observer'\nimport { MutationRecordType } from '../dom-external/mutation-observer/record'\n\n@injectable()\nexport class TaroText extends TaroNode {\n  public _value: string\n  public nodeType = NodeType.TEXT_NODE\n  public nodeName = '#text'\n\n  public set textContent (text: string) {\n    MutationObserver.record({\n      target: this,\n      type: MutationRecordType.CHARACTER_DATA,\n      oldValue: this._value\n    })\n    this._value = text\n    this.enqueueUpdate({\n      path: `${this._path}.${Shortcuts.Text}`,\n      value: text\n    })\n  }\n\n  public get textContent (): string {\n    return this._value\n  }\n\n  public set nodeValue (text: string) {\n    this.textContent = text\n  }\n\n  public get nodeValue (): string {\n    return this._value\n  }\n\n  public set data (text: string) {\n    this.textContent = text\n  }\n\n  public get data (): string {\n    return this._value\n  }\n}\n","/*\n *\n * https://www.w3.org/Style/CSS/all-properties.en.html\n */\n\nconst styleProperties = [\n  'all',\n  'appearance',\n  'blockOverflow',\n  'blockSize',\n  'bottom',\n  'clear',\n  'contain',\n  'content',\n  'continue',\n  'cursor',\n  'direction',\n  'display',\n  'filter',\n  'float',\n  'gap',\n  'height',\n  'inset',\n  'isolation',\n  'left',\n  'letterSpacing',\n  'lightingColor',\n  'markerSide',\n  'mixBlendMode',\n  'opacity',\n  'order',\n  'position',\n  'quotes',\n  'resize',\n  'right',\n  'rowGap',\n  'tabSize',\n  'tableLayout',\n  'top',\n  'userSelect',\n  'verticalAlign',\n  'visibility',\n  'voiceFamily',\n  'volume',\n  'whiteSpace',\n  'widows',\n  'width',\n  'zIndex',\n  'pointerEvents'\n\n  /** 非常用 style */\n  // 'azimuth',\n  // 'backfaceVisibility',\n  // 'baselineShift',\n  // 'captionSide',\n  // 'chains',\n  // 'dominantBaseline',\n  // 'elevation',\n  // 'emptyCells',\n  // 'forcedColorAdjust',\n  // 'glyphOrientationVertical',\n  // 'hangingPunctuation',\n  // 'hyphenateCharacter',\n  // 'hyphens',\n  // 'imageOrientation',\n  // 'imageResolution',\n  // 'orphans',\n  // 'playDuring',\n  // 'pointerEvents',\n  // 'regionFragment',\n  // 'richness',\n  // 'running',\n  // 'scrollBehavior',\n  // 'speechRate',\n  // 'stress',\n  // 'stringSet',\n  // 'unicodeBidi',\n  // 'willChange',\n  // 'writingMode',\n]\n\n// 减少文件体积\nfunction combine (prefix: string, list: string[], excludeSelf?: boolean) {\n  !excludeSelf && styleProperties.push(prefix)\n  list.forEach(item => {\n    styleProperties.push(prefix + item)\n  })\n}\n\nconst color = 'Color'\nconst style = 'Style'\nconst width = 'Width'\nconst image = 'Image'\nconst size = 'Size'\nconst color_style_width = [color, style, width]\nconst fitlength_fitwidth_image = ['FitLength', 'FitWidth', image]\nconst fitlength_fitwidth_image_radius = [...fitlength_fitwidth_image, 'Radius']\nconst color_style_width_fitlength_fitwidth_image = [...color_style_width, ...fitlength_fitwidth_image]\nconst endRadius_startRadius = ['EndRadius', 'StartRadius']\nconst bottom_left_right_top = ['Bottom', 'Left', 'Right', 'Top']\nconst end_start = ['End', 'Start']\nconst content_items_self = ['Content', 'Items', 'Self']\nconst blockSize_height_inlineSize_width = ['BlockSize', 'Height', 'InlineSize', width]\nconst after_before = ['After', 'Before']\n\ncombine('borderBlock', color_style_width)\ncombine('borderBlockEnd', color_style_width)\ncombine('borderBlockStart', color_style_width)\ncombine('outline', [...color_style_width, 'Offset'])\ncombine('border', [...color_style_width, 'Boundary', 'Break', 'Collapse', 'Radius', 'Spacing'])\ncombine('borderFit', ['Length', width])\ncombine('borderInline', color_style_width)\ncombine('borderInlineEnd', color_style_width)\ncombine('borderInlineStart', color_style_width)\ncombine('borderLeft', color_style_width_fitlength_fitwidth_image)\ncombine('borderRight', color_style_width_fitlength_fitwidth_image)\ncombine('borderTop', color_style_width_fitlength_fitwidth_image)\ncombine('borderBottom', color_style_width_fitlength_fitwidth_image)\ncombine('textDecoration', [color, style, 'Line'])\ncombine('textEmphasis', [color, style, 'Position'])\ncombine('scrollMargin', bottom_left_right_top)\ncombine('scrollPadding', bottom_left_right_top)\ncombine('padding', bottom_left_right_top)\ncombine('margin', [...bottom_left_right_top, 'Trim'])\ncombine('scrollMarginBlock', end_start)\ncombine('scrollMarginInline', end_start)\ncombine('scrollPaddingBlock', end_start)\ncombine('scrollPaddingInline', end_start)\ncombine('gridColumn', end_start)\ncombine('gridRow', end_start)\ncombine('insetBlock', end_start)\ncombine('insetInline', end_start)\ncombine('marginBlock', end_start)\ncombine('marginInline', end_start)\ncombine('paddingBlock', end_start)\ncombine('paddingInline', end_start)\ncombine('pause', after_before)\ncombine('cue', after_before)\ncombine('mask', ['Clip', 'Composite', image, 'Mode', 'Origin', 'Position', 'Repeat', size, 'Type'])\ncombine('borderImage', ['Outset', 'Repeat', 'Slice', 'Source', 'Transform', width])\ncombine('maskBorder', ['Mode', 'Outset', 'Repeat', 'Slice', 'Source', width])\ncombine('font', ['Family', 'FeatureSettings', 'Kerning', 'LanguageOverride', 'MaxSize', 'MinSize', 'OpticalSizing', 'Palette', size, 'SizeAdjust', 'Stretch', style, 'Weight', 'VariationSettings'])\ncombine('fontSynthesis', ['SmallCaps', style, 'Weight'])\ncombine('transform', ['Box', 'Origin', style])\ncombine('background', [color, image, 'Attachment', 'BlendMode', 'Clip', 'Origin', 'Position', 'Repeat', size])\ncombine('listStyle', [image, 'Position', 'Type'])\ncombine('scrollSnap', ['Align', 'Stop', 'Type'])\ncombine('grid', ['Area', 'AutoColumns', 'AutoFlow', 'AutoRows'])\ncombine('gridTemplate', ['Areas', 'Columns', 'Rows'])\ncombine('overflow', ['Block', 'Inline', 'Wrap', 'X', 'Y'])\ncombine('transition', ['Delay', 'Duration', 'Property', 'TimingFunction'])\ncombine('lineStacking', ['Ruby', 'Shift', 'Strategy'])\ncombine('color', ['Adjust', 'InterpolationFilters', 'Scheme'])\ncombine('textAlign', ['All', 'Last'])\ncombine('page', ['BreakAfter', 'BreakBefore', 'BreakInside'])\ncombine('speak', ['Header', 'Numeral', 'Punctuation'])\ncombine('animation', ['Delay', 'Direction', 'Duration', 'FillMode', 'IterationCount', 'Name', 'PlayState', 'TimingFunction'])\ncombine('flex', ['Basis', 'Direction', 'Flow', 'Grow', 'Shrink', 'Wrap'])\ncombine('offset', [...after_before, ...end_start, 'Anchor', 'Distance', 'Path', 'Position', 'Rotate'])\ncombine('fontVariant', ['Alternates', 'Caps', 'EastAsian', 'Emoji', 'Ligatures', 'Numeric', 'Position'])\ncombine('perspective', ['Origin'])\ncombine('pitch', ['Range'])\ncombine('clip', ['Path', 'Rule'])\ncombine('flow', ['From', 'Into'])\n\ncombine('align', ['Content', 'Items', 'Self'], true)\ncombine('alignment', ['Adjust', 'Baseline'], true)\ncombine('bookmark', ['Label', 'Level', 'State'], true)\ncombine('borderStart', endRadius_startRadius, true)\ncombine('borderEnd', endRadius_startRadius, true)\ncombine('borderCorner', ['Fit', image, 'ImageTransform'], true)\ncombine('borderTopLeft', fitlength_fitwidth_image_radius, true)\ncombine('borderTopRight', fitlength_fitwidth_image_radius, true)\ncombine('borderBottomLeft', fitlength_fitwidth_image_radius, true)\ncombine('borderBottomRight', fitlength_fitwidth_image_radius, true)\ncombine('column', ['s', 'Count', 'Fill', 'Gap', 'Rule', 'RuleColor', 'RuleStyle', 'RuleWidth', 'Span', width], true)\ncombine('break', [...after_before, 'Inside'], true)\ncombine('wrap', [...after_before, 'Flow', 'Inside', 'Through'], true)\ncombine('justify', content_items_self, true)\ncombine('place', content_items_self, true)\ncombine('max', [...blockSize_height_inlineSize_width, 'Lines'], true)\ncombine('min', blockSize_height_inlineSize_width, true)\ncombine('line', ['Break', 'Clamp', 'Grid', 'Height', 'Padding', 'Snap'], true)\ncombine('inline', ['BoxAlign', size, 'Sizing'], true)\ncombine('text', ['CombineUpright', 'GroupAlign', 'Height', 'Indent', 'Justify', 'Orientation', 'Overflow', 'Shadow', 'SpaceCollapse', 'SpaceTrim', 'Spacing', 'Transform', 'UnderlinePosition', 'Wrap'], true)\ncombine('shape', ['ImageThreshold', 'Inside', 'Margin', 'Outside'], true)\ncombine('word', ['Break', 'Spacing', 'Wrap'], true)\ncombine('nav', ['Down', 'Left', 'Right', 'Up'], true)\ncombine('object', ['Fit', 'Position'], true)\ncombine('box', ['DecorationBreak', 'Shadow', 'Sizing', 'Snap'], true)\n\n/** 非常用 style */\n// combine('caret', [color, 'Shape'])\n// combine('counter', ['Increment', 'Reset', 'Set'], true)\n// combine('dropInitial', ['AfterAdjust', 'AfterAlign', 'BeforeAdjust', 'BeforeAlign', size, 'Value'], true)\n// combine('flood', [color, 'Opacity'], true)\n// combine('footnote', ['Display', 'Policy'], true)\n// combine('hyphenateLimit', ['Chars', 'Last', 'Lines', 'Zone'], true)\n// combine('initialLetters', ['Align', 'Wrap'])\n// combine('ruby', ['Align', 'Merge', 'Position'], true)\n\nexport { styleProperties }\n","import { isUndefined, toCamelCase, toDashed, Shortcuts, warn, isString } from '@tarojs/shared'\nimport { styleProperties } from './style_properties'\nimport { TaroElement } from './element'\nimport { PROPERTY_THRESHOLD } from '../constants'\nimport { MutationObserver } from '../dom-external/mutation-observer'\nimport { MutationRecordType } from '../dom-external/mutation-observer/record'\n\nfunction setStyle (this: Style, newVal: string, styleKey: string) {\n  const old = this[styleKey]\n  const oldCssTxt = this.cssText\n  if (newVal) {\n    this._usedStyleProp.add(styleKey)\n  }\n\n  process.env.NODE_ENV !== 'production' && warn(\n    isString(newVal) && newVal.length > PROPERTY_THRESHOLD,\n    `Style 属性 ${styleKey} 的值数据量过大，可能会影响渲染性能，考虑使用 CSS 类或其它方案替代。`\n  )\n\n  if (old !== newVal) {\n    this._value[styleKey] = newVal\n    this._element.enqueueUpdate({\n      path: `${this._element._path}.${Shortcuts.Style}`,\n      value: this.cssText\n    })\n    // @Todo:\n    //   el.style.cssText = 'x: y;m: n'（Bug: 触发两次）\n    //   el.style.cssText = 'x: y'（正常）\n    //   el.style.x = y（正常）\n    MutationObserver.record({\n      type: MutationRecordType.ATTRIBUTES,\n      target: this._element,\n      attributeName: 'style',\n      oldValue: oldCssTxt\n    })\n  }\n}\n\nfunction initStyle (ctor: typeof Style) {\n  const properties = {}\n\n  for (let i = 0; i < styleProperties.length; i++) {\n    const styleKey = styleProperties[i]\n    properties[styleKey] = {\n      get (this: Style) {\n        return this._value[styleKey] || ''\n      },\n      set (this: Style, newVal: string) {\n        setStyle.call(this, newVal, styleKey)\n      }\n    }\n  }\n\n  Object.defineProperties(ctor.prototype, properties)\n}\n\nfunction isCssVariable (propertyName) {\n  return /^--/.test(propertyName)\n}\n\nexport class Style {\n  public _usedStyleProp: Set<string>\n\n  public _value: Partial<CSSStyleDeclaration>\n\n  public _element: TaroElement\n\n  public constructor (element: TaroElement) {\n    this._element = element\n    this._usedStyleProp = new Set()\n    this._value = {}\n  }\n\n  private setCssVariables (styleKey: string) {\n    this.hasOwnProperty(styleKey) || Object.defineProperty(this, styleKey, {\n      enumerable: true,\n      configurable: true,\n      get: () => {\n        return this._value[styleKey] || ''\n      },\n      set: (newVal: string) => {\n        setStyle.call(this, newVal, styleKey)\n      }\n    })\n  }\n\n  public get cssText () {\n    const texts: string[] = []\n    this._usedStyleProp.forEach(key => {\n      const val = this[key]\n      if (!val) return\n      const styleName = isCssVariable(key) ? key : toDashed(key)\n      texts.push(`${styleName}: ${val};`)\n    })\n    return texts.join(' ')\n  }\n\n  public set cssText (str: string) {\n    if (str == null) {\n      str = ''\n    }\n\n    this._usedStyleProp.forEach(prop => {\n      this.removeProperty(prop)\n    })\n\n    if (str === '') {\n      return\n    }\n\n    const rules = str.split(';')\n\n    for (let i = 0; i < rules.length; i++) {\n      const rule = rules[i].trim()\n      if (rule === '') {\n        continue\n      }\n\n      // 可能存在 'background: url(http:x/y/z)' 的情况\n      const [propName, ...valList] = rule.split(':')\n      const val = valList.join(':')\n\n      if (isUndefined(val)) {\n        continue\n      }\n      this.setProperty(propName.trim(), val.trim())\n    }\n  }\n\n  public setProperty (propertyName: string, value?: string | null) {\n    if (propertyName[0] === '-') {\n      // 支持 webkit 属性或 css 变量\n      this.setCssVariables(propertyName)\n    } else {\n      propertyName = toCamelCase(propertyName)\n    }\n    if (isUndefined(value)) {\n      return\n    }\n\n    if (value === null || value === '') {\n      this.removeProperty(propertyName)\n    } else {\n      this[propertyName] = value\n    }\n  }\n\n  public removeProperty (propertyName: string): string {\n    propertyName = toCamelCase(propertyName)\n    if (!this._usedStyleProp.has(propertyName)) {\n      return ''\n    }\n\n    const value = this[propertyName]\n    this[propertyName] = ''\n    this._usedStyleProp.delete(propertyName)\n    return value\n  }\n\n  public getPropertyValue (propertyName: string) {\n    propertyName = toCamelCase(propertyName)\n    const value = this[propertyName]\n    if (!value) {\n      return ''\n    }\n\n    return value\n  }\n}\n\ninitStyle(Style)\n","import { NodeType } from './node_types'\n\nimport type { TaroElement } from './element'\n\ntype Filter = (element: TaroElement) => boolean\n\nfunction returnTrue () {\n  return true\n}\n\nexport function treeToArray (root: TaroElement, predict?: Filter): TaroElement[] {\n  const array: TaroElement[] = []\n  const filter = predict ?? returnTrue\n\n  let object: TaroElement | null = root\n\n  while (object) {\n    if (object.nodeType === NodeType.ELEMENT_NODE && filter(object)) {\n      array.push(object)\n    }\n\n    object = following(object, root)\n  }\n\n  return array\n}\n\nfunction following (el: TaroElement, root: TaroElement): TaroElement | null {\n  const firstChild = el.firstChild\n\n  if (firstChild) {\n    return firstChild as TaroElement\n  }\n\n  let current: TaroElement | null = el\n\n  do {\n    if (current === root) {\n      return null\n    }\n\n    const nextSibling = current.nextSibling\n\n    if (nextSibling) {\n      return nextSibling as TaroElement\n    }\n    current = current.parentElement\n  } while (current)\n\n  return null\n}\n","import type { TaroElement } from './element'\n\nexport class ClassList extends Set<string> {\n  private el: TaroElement\n\n  constructor (className: string, el: TaroElement) {\n    super()\n    className.trim().split(/\\s+/).forEach(super.add.bind(this))\n    this.el = el\n  }\n\n  public get value () {\n    return [...this].filter(v => v !== '').join(' ')\n  }\n\n  public add (s: string) {\n    super.add(s)\n    this._update()\n\n    return this\n  }\n\n  public get length (): number {\n    return this.size\n  }\n\n  public remove (s: string) {\n    super.delete(s)\n    this._update()\n  }\n\n  public toggle (s: string) {\n    if (super.has(s)) {\n      super.delete(s)\n    } else {\n      super.add(s)\n    }\n\n    this._update()\n  }\n\n  public replace (s1: string, s2: string) {\n    super.delete(s1)\n    super.add(s2)\n\n    this._update()\n  }\n\n  public contains (s: string) {\n    return super.has(s)\n  }\n\n  public toString () {\n    return this.value\n  }\n\n  private _update () {\n    this.el.className = this.value\n  }\n}\n","import { injectable } from 'inversify'\nimport { isArray, isUndefined, Shortcuts, EMPTY_OBJ, warn, isString, toCamelCase, isFunction } from '@tarojs/shared'\nimport { TaroNode } from './node'\nimport { NodeType } from './node_types'\nimport { eventSource } from './event-source'\nimport { isElement, isHasExtractProp, shortcutAttr } from '../utils'\nimport { Style } from './style'\nimport { treeToArray } from './tree'\nimport { ClassList } from './class-list'\nimport { getElementImpl } from '../container/store'\nimport { MutationObserver } from '../dom-external/mutation-observer'\nimport { MutationRecordType } from '../dom-external/mutation-observer/record'\nimport {\n  ID,\n  CLASS,\n  STYLE,\n  FOCUS,\n  VIEW,\n  STATIC_VIEW,\n  PURE_VIEW,\n  PROPERTY_THRESHOLD,\n  CATCHMOVE,\n  CATCH_VIEW\n} from '../constants'\n\nimport type { TaroEvent } from './event'\nimport type { Attributes } from '../interface'\n\n@injectable()\nexport class TaroElement extends TaroNode {\n  public tagName: string\n  public props: Record<string, any> = {}\n  public style: Style\n  public dataset: Record<string, unknown> = EMPTY_OBJ\n  public innerHTML: string\n\n  public constructor () {\n    super()\n    const impl = getElementImpl()\n    impl.bind(this)\n    this.nodeType = NodeType.ELEMENT_NODE\n    this.style = new Style(this)\n    this.hooks.patchElement?.(this)\n  }\n\n  private _stopPropagation (event: TaroEvent) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let target = this\n    // eslint-disable-next-line no-cond-assign\n    while ((target = target.parentNode as this)) {\n      const listeners = target.__handlers[event.type]\n\n      if (!isArray(listeners)) {\n        continue\n      }\n\n      for (let i = listeners.length; i--;) {\n        const l = listeners[i]\n        l._stop = true\n      }\n    }\n  }\n\n  public get id (): string {\n    return this.getAttribute(ID)!\n  }\n\n  public set id (val: string) {\n    this.setAttribute(ID, val)\n  }\n\n  public get className (): string {\n    return this.getAttribute(CLASS) || ''\n  }\n\n  public set className (val: string) {\n    this.setAttribute(CLASS, val)\n  }\n\n  public get cssText (): string {\n    return this.getAttribute(STYLE) || ''\n  }\n\n  public get classList (): ClassList {\n    return new ClassList(this.className, this)\n  }\n\n  public get children (): TaroElement[] {\n    return this.childNodes.filter(isElement)\n  }\n\n  public get attributes (): Attributes[] {\n    const props = this.props\n    const propKeys = Object.keys(props)\n    const style = this.style.cssText\n    const attrs = propKeys.map(key => ({ name: key, value: props[key] }))\n    return attrs.concat(style ? { name: STYLE, value: style } : [])\n  }\n\n  public get textContent (): string {\n    let text = ''\n    const childNodes = this.childNodes\n\n    for (let i = 0; i < childNodes.length; i++) {\n      text += childNodes[i].textContent\n    }\n\n    return text\n  }\n\n  public set textContent (text: string) {\n    super.textContent = text\n  }\n\n  public hasAttribute (qualifiedName: string): boolean {\n    return !isUndefined(this.props[qualifiedName])\n  }\n\n  public hasAttributes (): boolean {\n    return this.attributes.length > 0\n  }\n\n  public get focus () {\n    return function () {\n      this.setAttribute(FOCUS, true)\n    }\n  }\n\n  // 兼容 Vue3，详情请见：https://github.com/NervJS/taro/issues/10579\n  public set focus (value) {\n    this.setAttribute(FOCUS, value)\n  }\n\n  public blur () {\n    this.setAttribute(FOCUS, false)\n  }\n\n  public setAttribute (qualifiedName: string, value: any): void {\n    process.env.NODE_ENV !== 'production' && warn(\n      isString(value) && value.length > PROPERTY_THRESHOLD,\n      `元素 ${this.nodeName} 的 属性 ${qualifiedName} 的值数据量过大，可能会影响渲染性能。考虑降低图片转为 base64 的阈值或在 CSS 中使用 base64。`\n    )\n\n    const isPureView = this.nodeName === VIEW && !isHasExtractProp(this) && !this.isAnyEventBinded()\n\n    if (qualifiedName !== STYLE) {\n      MutationObserver.record({\n        target: this,\n        type: MutationRecordType.ATTRIBUTES,\n        attributeName: qualifiedName,\n        oldValue: this.getAttribute(qualifiedName)\n      })\n    }\n\n    switch (qualifiedName) {\n      case STYLE:\n        this.style.cssText = value as string\n        break\n      case ID:\n        if (this.uid !== this.sid) {\n          // eventSource[sid] 永远保留，直到组件卸载\n          // eventSource[uid] 可变\n          eventSource.delete(this.uid)\n        }\n        value = String(value)\n        this.props[qualifiedName] = this.uid = value\n        eventSource.set(value, this)\n        break\n      default:\n        this.props[qualifiedName] = value as string\n\n        if (qualifiedName.startsWith('data-')) {\n          if (this.dataset === EMPTY_OBJ) {\n            this.dataset = Object.create(null)\n          }\n          this.dataset[toCamelCase(qualifiedName.replace(/^data-/, ''))] = value\n        }\n        break\n    }\n\n    qualifiedName = shortcutAttr(qualifiedName)\n\n    const payload = {\n      path: `${this._path}.${toCamelCase(qualifiedName)}`,\n      value: isFunction(value) ? () => value : value\n    }\n\n    this.hooks.modifySetAttrPayload?.(this, qualifiedName, payload)\n\n    this.enqueueUpdate(payload)\n\n    if (this.nodeName === VIEW) {\n      if (toCamelCase(qualifiedName) === CATCHMOVE) {\n        // catchMove = true: catch-view\n        // catchMove = false: view or static-view\n        this.enqueueUpdate({\n          path: `${this._path}.${Shortcuts.NodeName}`,\n          value: value ? CATCH_VIEW : (\n            this.isAnyEventBinded() ? VIEW : STATIC_VIEW\n          )\n        })\n      } else if (isPureView && isHasExtractProp(this)) {\n        // pure-view => static-view\n        this.enqueueUpdate({\n          path: `${this._path}.${Shortcuts.NodeName}`,\n          value: STATIC_VIEW\n        })\n      }\n    }\n  }\n\n  public removeAttribute (qualifiedName: string) {\n    const isStaticView = this.nodeName === VIEW && isHasExtractProp(this) && !this.isAnyEventBinded()\n\n    MutationObserver.record({\n      target: this,\n      type: MutationRecordType.ATTRIBUTES,\n      attributeName: qualifiedName,\n      oldValue: this.getAttribute(qualifiedName)\n    })\n\n    if (qualifiedName === STYLE) {\n      this.style.cssText = ''\n    } else {\n      const isInterrupt = this.hooks.onRemoveAttribute?.(this, qualifiedName)\n      if (isInterrupt) {\n        return\n      }\n\n      if (!this.props.hasOwnProperty(qualifiedName)) {\n        return\n      }\n      delete this.props[qualifiedName]\n    }\n\n    qualifiedName = shortcutAttr(qualifiedName)\n\n    const payload = {\n      path: `${this._path}.${toCamelCase(qualifiedName)}`,\n      value: ''\n    }\n\n    this.hooks.modifyRmAttrPayload?.(this, qualifiedName, payload)\n\n    this.enqueueUpdate(payload)\n\n    if (this.nodeName === VIEW) {\n      if (toCamelCase(qualifiedName) === CATCHMOVE) {\n        // catch-view => view or static-view or pure-view\n        this.enqueueUpdate({\n          path: `${this._path}.${Shortcuts.NodeName}`,\n          value: this.isAnyEventBinded() ? VIEW : (isHasExtractProp(this) ? STATIC_VIEW : PURE_VIEW)\n        })\n      } else if (isStaticView && !isHasExtractProp(this)) {\n        // static-view => pure-view\n        this.enqueueUpdate({\n          path: `${this._path}.${Shortcuts.NodeName}`,\n          value: PURE_VIEW\n        })\n      }\n    }\n  }\n\n  public getAttribute (qualifiedName: string): string {\n    const attr = qualifiedName === STYLE ? this.style.cssText : this.props[qualifiedName]\n    return attr ?? ''\n  }\n\n  public getElementsByTagName (tagName: string): TaroElement[] {\n    return treeToArray(this, (el) => {\n      return el.nodeName === tagName || (tagName === '*' && this !== el)\n    })\n  }\n\n  public getElementsByClassName (className: string): TaroElement[] {\n    return treeToArray(this, (el) => {\n      const classList = el.classList\n      const classNames = className.trim().split(/\\s+/)\n      return classNames.every(c => classList.has(c))\n    })\n  }\n\n  public dispatchEvent (event: TaroEvent): boolean {\n    const cancelable = event.cancelable\n\n    const listeners = this.__handlers[event.type]\n\n    if (!isArray(listeners)) {\n      return false\n    }\n\n    for (let i = listeners.length; i--;) {\n      const listener = listeners[i]\n      let result: unknown\n      if (listener._stop) {\n        listener._stop = false\n      } else {\n        this.hooks.modifyDispatchEvent(event, this)\n        result = listener.call(this, event)\n      }\n      if ((result === false || event._end) && cancelable) {\n        event.defaultPrevented = true\n      }\n\n      if (event._end && event._stop) {\n        break\n      }\n    }\n\n    if (event._stop) {\n      this._stopPropagation(event)\n    } else {\n      event._stop = true\n    }\n\n    return listeners != null\n  }\n\n  public addEventListener (type, handler, options) {\n    const name = this.nodeName\n    const SPECIAL_NODES = this.hooks.getSpecialNodes()\n\n    if (!this.isAnyEventBinded() && SPECIAL_NODES.indexOf(name) > -1) {\n      this.enqueueUpdate({\n        path: `${this._path}.${Shortcuts.NodeName}`,\n        value: name\n      })\n    }\n\n    super.addEventListener(type, handler, options)\n  }\n\n  public removeEventListener (type, handler) {\n    super.removeEventListener(type, handler)\n\n    const name = this.nodeName\n    const SPECIAL_NODES = this.hooks.getSpecialNodes()\n\n    if (!this.isAnyEventBinded() && SPECIAL_NODES.indexOf(name) > -1) {\n      this.enqueueUpdate({\n        path: `${this._path}.${Shortcuts.NodeName}`,\n        value: isHasExtractProp(this) ? `static-${name}` : `pure-${name}`\n      })\n    }\n  }\n}\n","import type { Options } from './interface'\n\nexport const options: Options = {\n  prerender: true,\n  debug: false\n}\n","import { options } from './options'\n\nclass Performance {\n  private recorder = new Map<string, number>()\n\n  public start (id: string) {\n    if (!options.debug) {\n      return\n    }\n    this.recorder.set(id, Date.now())\n  }\n\n  public stop (id: string) {\n    if (!options.debug) {\n      return\n    }\n    const now = Date.now()\n    const prev = this.recorder.get(id)!\n    const time = now - prev\n    // eslint-disable-next-line no-console\n    console.log(`${id} 时长： ${time}ms`)\n  }\n}\n\nexport const perf = new Performance()\n","import { injectable } from 'inversify'\nimport { isFunction, isUndefined, Shortcuts } from '@tarojs/shared'\nimport { TaroElement } from './element'\nimport { customWrapperCache } from '../utils'\nimport { perf } from '../perf'\nimport { options } from '../options'\nimport {\n  SET_DATA,\n  PAGE_INIT,\n  ROOT_STR,\n  CUSTOM_WRAPPER\n} from '../constants'\n\nimport type { Func, UpdatePayload, UpdatePayloadValue, MpInstance, HydratedData } from '../interface'\n\nfunction findCustomWrapper (root: TaroRootElement, dataPathArr: string[]) {\n  // ['root', 'cn', '[0]'] remove 'root' => ['cn', '[0]']\n  const list = dataPathArr.slice(1)\n  let currentData: any = root\n  let customWrapper: Record<string, any> | undefined\n  let splitedPath = ''\n\n  list.some((item, i) => {\n    const key = item\n      // '[0]' => '0'\n      .replace(/^\\[(.+)\\]$/, '$1')\n      // 'cn' => 'childNodes'\n      .replace(/\\bcn\\b/g, 'childNodes')\n\n    currentData = currentData[key]\n\n    if (isUndefined(currentData)) return true\n\n    if (currentData.nodeName === CUSTOM_WRAPPER) {\n      const res = customWrapperCache.get(currentData.sid)\n      if (res) {\n        customWrapper = res\n        splitedPath = dataPathArr.slice(i + 2).join('.')\n      }\n    }\n  })\n\n  if (customWrapper) {\n    return {\n      customWrapper,\n      splitedPath\n    }\n  }\n}\n\n@injectable()\nexport class TaroRootElement extends TaroElement {\n  private updatePayloads: UpdatePayload[] = []\n\n  private updateCallbacks: Func[]= []\n\n  public pendingUpdate = false\n\n  public ctx: null | MpInstance = null\n\n  public constructor () {\n    super()\n    this.nodeName = ROOT_STR\n  }\n\n  public get _path (): string {\n    return ROOT_STR\n  }\n\n  protected get _root (): TaroRootElement {\n    return this\n  }\n\n  public enqueueUpdate (payload: UpdatePayload): void {\n    this.updatePayloads.push(payload)\n\n    if (!this.pendingUpdate && this.ctx) {\n      this.performUpdate()\n    }\n  }\n\n  public performUpdate (initRender = false, prerender?: Func) {\n    this.pendingUpdate = true\n\n    const ctx = this.ctx!\n\n    setTimeout(() => {\n      perf.start(SET_DATA)\n      const data: Record<string, UpdatePayloadValue | ReturnType<HydratedData>> = Object.create(null)\n      const resetPaths = new Set<string>(\n        initRender\n          ? ['root.cn.[0]', 'root.cn[0]']\n          : []\n      )\n\n      while (this.updatePayloads.length > 0) {\n        const { path, value } = this.updatePayloads.shift()!\n        if (path.endsWith(Shortcuts.Childnodes)) {\n          resetPaths.add(path)\n        }\n        data[path] = value\n      }\n\n      for (const path in data) {\n        resetPaths.forEach(p => {\n          // 已经重置了数组，就不需要分别再设置了\n          if (path.includes(p) && path !== p) {\n            delete data[path]\n          }\n        })\n\n        const value = data[path]\n        if (isFunction(value)) {\n          data[path] = value()\n        }\n      }\n\n      // 预渲染\n      if (isFunction(prerender)) return prerender(data)\n\n      // 正常渲染\n      this.pendingUpdate = false\n      let normalUpdate = {}\n      const customWrapperMap: Map<Record<any, any>, Record<string, any>> = new Map()\n\n      if (initRender) {\n        // 初次渲染，使用页面级别的 setData\n        normalUpdate = data\n      } else {\n        // 更新渲染，区分 CustomWrapper 与页面级别的 setData\n        for (const p in data) {\n          const dataPathArr = p.split('.')\n          const found = findCustomWrapper(this, dataPathArr)\n          if (found) {\n            // 此项数据使用 CustomWrapper 去更新\n            const { customWrapper, splitedPath } = found\n            // 合并同一个 customWrapper 的相关更新到一次 setData 中\n            customWrapperMap.set(customWrapper, {\n              ...(customWrapperMap.get(customWrapper) || {}),\n              [`i.${splitedPath}`]: data[p]\n            })\n          } else {\n            // 此项数据使用页面去更新\n            normalUpdate[p] = data[p]\n          }\n        }\n      }\n\n      const customWrpperCount = customWrapperMap.size\n      const isNeedNormalUpdate = Object.keys(normalUpdate).length > 0\n      const updateArrLen = customWrpperCount + (isNeedNormalUpdate ? 1 : 0)\n      let executeTime = 0\n\n      const cb = () => {\n        if (++executeTime === updateArrLen) {\n          perf.stop(SET_DATA)\n          this.flushUpdateCallback()\n          initRender && perf.stop(PAGE_INIT)\n        }\n      }\n\n      // custom-wrapper setData\n      if (customWrpperCount) {\n        customWrapperMap.forEach((data, ctx) => {\n          if (process.env.NODE_ENV !== 'production' && options.debug) {\n            // eslint-disable-next-line no-console\n            console.log('custom wrapper setData: ', data)\n          }\n          ctx.setData(data, cb)\n        })\n      }\n\n      // page setData\n      if (isNeedNormalUpdate) {\n        if (process.env.NODE_ENV !== 'production' && options.debug) {\n          // eslint-disable-next-line no-console\n          console.log('page setData:', normalUpdate)\n        }\n        ctx.setData(normalUpdate, cb)\n      }\n    }, 0)\n  }\n\n  public enqueueUpdateCallback (cb: Func, ctx?: Record<string, any>) {\n    this.updateCallbacks.push(() => {\n      ctx ? cb.call(ctx) : cb()\n    })\n  }\n\n  public flushUpdateCallback () {\n    const updateCallbacks = this.updateCallbacks\n    if (!updateCallbacks.length) return\n\n    const copies = updateCallbacks.slice(0)\n    this.updateCallbacks.length = 0\n    for (let i = 0; i < copies.length; i++) {\n      copies[i]()\n    }\n  }\n}\n","import { TaroElement } from './element'\nimport {\n  VALUE,\n  INPUT,\n  CHANGE\n} from '../constants'\n\nimport type { TaroEvent } from './event'\n\nexport class FormElement extends TaroElement {\n  public get value () {\n    // eslint-disable-next-line dot-notation\n    const val = this.props[VALUE]\n    return val == null ? '' : val\n  }\n\n  public set value (val: string | boolean | number | any[]) {\n    this.setAttribute(VALUE, val)\n  }\n\n  public dispatchEvent (event: TaroEvent) {\n    if (event.mpEvent) {\n      const val = event.mpEvent.detail.value\n      if (event.type === CHANGE) {\n        this.props.value = val as string\n      } else if (event.type === INPUT) {\n        // Web 规范中表单组件的 value 应该跟着输入改变\n        // 只是改 this.props.value 的话不会进行 setData，因此这里修改 this.value。\n        // 只测试了 React、Vue、Vue3 input 组件的 onInput 事件，onChange 事件不确定有没有副作用，所以暂不修改。\n        this.value = val as string\n      }\n    }\n\n    return super.dispatchEvent(event)\n  }\n}\n","import { TaroElement } from './element'\n\n// for Vue3\nexport class SVGElement extends TaroElement {}\n","import { EMPTY_OBJ, isFunction } from '@tarojs/shared'\nimport { isParentBinded } from '../utils'\nimport { getDocument, getHooks } from '../container/store'\nimport {\n  CONFIRM,\n  CURRENT_TARGET,\n  INPUT,\n  KEY_CODE,\n  TARGET,\n  TIME_STAMP,\n  TYPE,\n  TOUCHMOVE\n} from '../constants'\n\nimport type { TaroElement } from './element'\nimport type { EventOptions, MpEvent } from '../interface'\n\n// Taro 事件对象。以 Web 标准的事件对象为基础，加入小程序事件对象中携带的部分信息，并模拟实现事件冒泡。\nexport class TaroEvent {\n  public type: string\n\n  public bubbles: boolean\n\n  public cancelable: boolean\n\n  public _stop = false\n\n  public _end = false\n\n  public defaultPrevented = false\n\n  // timestamp can either be hi-res ( relative to page load) or low-res (relative to UNIX epoch)\n  // here use hi-res timestamp\n  public timeStamp = Date.now()\n\n  public mpEvent: MpEvent | undefined\n\n  public constructor (type: string, opts: EventOptions, event?: MpEvent) {\n    this.type = type.toLowerCase()\n    this.mpEvent = event\n    this.bubbles = Boolean(opts && opts.bubbles)\n    this.cancelable = Boolean(opts && opts.cancelable)\n  }\n\n  public stopPropagation () {\n    this._stop = true\n  }\n\n  public stopImmediatePropagation () {\n    this._end = this._stop = true\n  }\n\n  public preventDefault () {\n    this.defaultPrevented = true\n  }\n\n  get target () {\n    const element = getDocument().getElementById(this.mpEvent?.target.id)\n    return {\n      ...this.mpEvent?.target,\n      ...this.mpEvent?.detail,\n      dataset: element !== null ? element.dataset : EMPTY_OBJ\n    }\n  }\n\n  get currentTarget () {\n    const element = getDocument().getElementById(this.mpEvent?.currentTarget.id)\n\n    if (element === null) {\n      return this.target\n    }\n\n    return {\n      ...this.mpEvent?.currentTarget,\n      ...this.mpEvent?.detail,\n      dataset: element.dataset\n    }\n  }\n}\n\nexport function createEvent (event: MpEvent | string, node?: TaroElement) {\n  if (typeof event === 'string') {\n    // For Vue3 using document.createEvent\n    return new TaroEvent(event, { bubbles: true, cancelable: true })\n  }\n\n  const domEv = new TaroEvent(event.type, { bubbles: true, cancelable: true }, event)\n\n  for (const key in event) {\n    if (key === CURRENT_TARGET || key === TARGET || key === TYPE || key === TIME_STAMP) {\n      continue\n    } else {\n      domEv[key] = event[key]\n    }\n  }\n\n  if (domEv.type === CONFIRM && node?.nodeName === INPUT) {\n    // eslint-disable-next-line dot-notation\n    domEv[KEY_CODE] = 13\n  }\n\n  return domEv\n}\n\nconst eventsBatch = {}\n\n// 小程序的事件代理回调函数\nexport function eventHandler (event: MpEvent) {\n  const hooks = getHooks()\n\n  hooks.modifyMpEvent?.(event)\n\n  event.currentTarget ||= event.target\n\n  const currentTarget = event.currentTarget\n  const id = currentTarget.dataset?.sid as string /** sid */ || currentTarget.id /** uid */ || ''\n\n  const node = getDocument().getElementById(id)\n  if (node) {\n    const dispatch = () => {\n      const e = createEvent(event, node)\n      hooks.modifyTaroEvent?.(e, node)\n      node.dispatchEvent(e)\n    }\n    if (isFunction(hooks.batchedEventUpdates)) {\n      const type = event.type\n\n      if (\n        !hooks.isBubbleEvents(type) ||\n        !isParentBinded(node, type) ||\n        (type === TOUCHMOVE && !!node.props.catchMove)\n      ) {\n        // 最上层组件统一 batchUpdate\n        hooks.batchedEventUpdates(() => {\n          if (eventsBatch[type]) {\n            eventsBatch[type].forEach(fn => fn())\n            delete eventsBatch[type]\n          }\n          dispatch()\n        })\n      } else {\n        // 如果上层组件也有绑定同类型的组件，委托给上层组件调用事件回调\n        (eventsBatch[type] ||= []).push(dispatch)\n      }\n    } else {\n      dispatch()\n    }\n  }\n}\n","import { EMPTY_OBJ } from '@tarojs/shared'\n\nexport const doc: Document = process.env.TARO_ENV === 'h5' ? document : EMPTY_OBJ\nexport const win: Window = process.env.TARO_ENV === 'h5' ? window : EMPTY_OBJ\n","import { options } from '../../options'\n\ninterface Position {\n  index: number\n  column: number\n  line: number\n}\n\nexport interface Token {\n  type: string\n  content?: string\n  position?: {\n    start?: Position\n    end?: Position\n  }\n  close?: boolean\n}\n\nfunction initPosition (): Position {\n  return {\n    index: 0,\n    column: 0,\n    line: 0\n  }\n}\n\nfunction feedPosition (position: Position, str: string, len: number) {\n  const start = position.index\n  const end = position.index = start + len\n  for (let i = start; i < end; i++) {\n    const char = str.charAt(i)\n    if (char === '\\n') {\n      position.line++\n      position.column = 0\n    } else {\n      position.column++\n    }\n  }\n}\n\nfunction jumpPosition (position: Position, str: string, end: number) {\n  const len = end - position.index\n  return feedPosition(position, str, len)\n}\n\nfunction copyPosition (position: Position) {\n  return {\n    index: position.index,\n    line: position.line,\n    column: position.column\n  }\n}\n\nconst whitespace = /\\s/\nfunction isWhitespaceChar (char: string) {\n  return whitespace.test(char)\n}\n\nconst equalSign = /=/\nfunction isEqualSignChar (char: string) {\n  return equalSign.test(char)\n}\n\nfunction shouldBeIgnore (tagName: string) {\n  const name = tagName.toLowerCase()\n  if (options.html!.skipElements.has(name)) {\n    return true\n  }\n  return false\n}\n\nconst alphanumeric = /[A-Za-z0-9]/\n\nfunction findTextEnd (str: string, index: number) {\n  while (true) {\n    const textEnd = str.indexOf('<', index)\n    if (textEnd === -1) {\n      return textEnd\n    }\n    const char = str.charAt(textEnd + 1)\n    if (char === '/' || char === '!' || alphanumeric.test(char)) {\n      return textEnd\n    }\n    index = textEnd + 1\n  }\n}\n\nfunction isWordEnd (cursor: number, wordBegin: number, html: string) {\n  if (!isWhitespaceChar(html.charAt(cursor))) return false\n\n  const len = html.length\n\n  // backwrad\n  for (let i = cursor - 1; i > wordBegin; i--) {\n    const char = html.charAt(i)\n    if (!isWhitespaceChar(char)) {\n      if (isEqualSignChar(char)) return false\n      break\n    }\n  }\n\n  // forward\n  for (let i = cursor + 1; i < len; i++) {\n    const char = html.charAt(i)\n    if (!isWhitespaceChar(char)) {\n      if (isEqualSignChar(char)) return false\n      return true\n    }\n  }\n}\n\nexport class Scaner {\n  private tokens: Token[] = []\n\n  private position: Position = initPosition()\n\n  private html: string\n\n  constructor (html: string) {\n    this.html = html\n  }\n\n  public scan (): Token[] {\n    const { html, position } = this\n    const len = html.length\n\n    while (position.index < len) {\n      const start = position.index\n      this.scanText()\n      if (position.index === start) {\n        const isComment = html.startsWith('!--', start + 1)\n        if (isComment) {\n          this.scanComment()\n        } else {\n          const tagName = this.scanTag()\n          if (shouldBeIgnore(tagName)) {\n            this.scanSkipTag(tagName)\n          }\n        }\n      }\n    }\n\n    return this.tokens\n  }\n\n  private scanText () {\n    const type = 'text'\n    const { html, position } = this\n    let textEnd = findTextEnd(html, position.index)\n    if (textEnd === position.index) {\n      return\n    }\n    if (textEnd === -1) {\n      textEnd = html.length\n    }\n\n    const start = copyPosition(position)\n    const content = html.slice(position.index, textEnd)\n    jumpPosition(position, html, textEnd)\n    const end = copyPosition(position)\n    this.tokens.push({ type, content, position: { start, end } })\n  }\n\n  private scanComment () {\n    const type = 'comment'\n    const { html, position } = this\n    const start = copyPosition(position)\n    feedPosition(position, html, 4) // \"<!--\".length\n    let contentEnd = html.indexOf('-->', position.index)\n    let commentEnd = contentEnd + 3 // \"-->\".length\n    if (contentEnd === -1) {\n      contentEnd = commentEnd = html.length\n    }\n\n    const content = html.slice(position.index, contentEnd)\n    jumpPosition(position, html, commentEnd)\n    this.tokens.push({\n      type,\n      content,\n      position: {\n        start,\n        end: copyPosition(position)\n      }\n    })\n  }\n\n  private scanTag () {\n    this.scanTagStart()\n    const tagName = this.scanTagName()\n    this.scanAttrs()\n    this.scanTagEnd()\n\n    return tagName\n  }\n\n  private scanTagStart () {\n    const type = 'tag-start'\n    const { html, position } = this\n\n    const secondChar = html.charAt(position.index + 1)\n    const close = secondChar === '/'\n    const start = copyPosition(position)\n    feedPosition(position, html, close ? 2 : 1)\n    this.tokens.push({ type, close, position: { start } })\n  }\n\n  private scanTagEnd () {\n    const type = 'tag-end'\n    const { html, position } = this\n\n    const firstChar = html.charAt(position.index)\n    const close = firstChar === '/'\n    feedPosition(position, html, close ? 2 : 1)\n    const end = copyPosition(position)\n    this.tokens.push({ type, close, position: { end } })\n  }\n\n  private scanTagName (): string {\n    const type = 'tag'\n    const { html, position } = this\n    const len = html.length\n    let start = position.index\n    while (start < len) {\n      const char = html.charAt(start)\n      const isTagChar = !(isWhitespaceChar(char) || char === '/' || char === '>')\n      if (isTagChar) break\n      start++\n    }\n\n    let end = start + 1\n    while (end < len) {\n      const char = html.charAt(end)\n      const isTagChar = !(isWhitespaceChar(char) || char === '/' || char === '>')\n      if (!isTagChar) break\n      end++\n    }\n\n    jumpPosition(position, html, end)\n    const tagName = html.slice(start, end)\n    this.tokens.push({\n      type,\n      content: tagName\n    })\n\n    return tagName\n  }\n\n  private scanAttrs () {\n    const { html, position, tokens } = this\n    let cursor = position.index\n    let quote: string | null = null // null, single-, or double-quote\n    let wordBegin = cursor // index of word start\n    const words: string[] = [] // \"key\", \"key=value\", \"key='value'\", etc\n    const len = html.length\n    while (cursor < len) {\n      const char = html.charAt(cursor)\n      if (quote) {\n        const isQuoteEnd = char === quote\n        if (isQuoteEnd) {\n          quote = null\n        }\n        cursor++\n        continue\n      }\n\n      const isTagEnd = char === '/' || char === '>'\n      if (isTagEnd) {\n        if (cursor !== wordBegin) {\n          words.push(html.slice(wordBegin, cursor))\n        }\n        break\n      }\n\n      if (isWordEnd(cursor, wordBegin, html)) {\n        if (cursor !== wordBegin) {\n          words.push(html.slice(wordBegin, cursor))\n        }\n        wordBegin = cursor + 1\n        cursor++\n        continue\n      }\n\n      const isQuoteStart = char === '\\'' || char === '\"'\n      if (isQuoteStart) {\n        quote = char\n        cursor++\n        continue\n      }\n\n      cursor++\n    }\n\n    jumpPosition(position, html, cursor)\n\n    const wLen = words.length\n    const type = 'attribute'\n    for (let i = 0; i < wLen; i++) {\n      const word = words[i]\n      const isNotPair = word.includes('=')\n      if (isNotPair) {\n        const secondWord = words[i + 1]\n        if (secondWord && secondWord.startsWith('=')) {\n          if (secondWord.length > 1) {\n            const newWord = word + secondWord\n            tokens.push({ type, content: newWord })\n            i += 1\n            continue\n          }\n          const thirdWord = words[i + 2]\n          i += 1\n          if (thirdWord) {\n            const newWord = word + '=' + thirdWord\n            tokens.push({ type, content: newWord })\n            i += 1\n            continue\n          }\n        }\n      }\n      if (word.endsWith('=')) {\n        const secondWord = words[i + 1]\n        if (secondWord && !secondWord.includes('=')) {\n          const newWord = word + secondWord\n          tokens.push({ type, content: newWord })\n          i += 1\n          continue\n        }\n\n        const newWord = word.slice(0, -1)\n        tokens.push({ type, content: newWord })\n        continue\n      }\n\n      tokens.push({ type, content: word })\n    }\n  }\n\n  private scanSkipTag (tagName: string) {\n    const { html, position } = this\n    const safeTagName = tagName.toLowerCase()\n    const len = html.length\n    while (position.index < len) {\n      const nextTag = html.indexOf('</', position.index)\n      if (nextTag === -1) {\n        this.scanText()\n        break\n      }\n\n      jumpPosition(position, html, nextTag)\n      const name = this.scanTag()\n      if (safeTagName === name.toLowerCase()) {\n        break\n      }\n    }\n  }\n}\n","import { internalComponents } from '@tarojs/shared'\n\nexport function makeMap (\n  str: string,\n  expectsLowerCase?: boolean\n): (key: string) => boolean {\n  const map: Record<string, boolean> = Object.create(null)\n  const list: Array<string> = str.split(',')\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true\n  }\n  return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val]\n}\n\nexport const specialMiniElements = {\n  img: 'image',\n  iframe: 'web-view'\n}\n\nconst internalCompsList = Object.keys(internalComponents)\n  .map(i => i.toLowerCase())\n  .join(',')\n\n// https://developers.weixin.qq.com/miniprogram/dev/component\nexport const isMiniElements = makeMap(internalCompsList, true)\n\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Inline_elements\nexport const isInlineElements = makeMap('a,i,abbr,iframe,select,acronym,slot,small,span,bdi,kbd,strong,big,map,sub,sup,br,mark,mark,meter,template,canvas,textarea,cite,object,time,code,output,u,data,picture,tt,datalist,var,dfn,del,q,em,s,embed,samp,b', true)\n\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Block-level_elements\nexport const isBlockElements = makeMap('address,fieldset,li,article,figcaption,main,aside,figure,nav,blockquote,footer,ol,details,form,p,dialog,h1,h2,h3,h4,h5,h6,pre,dd,header,section,div,hgroup,table,dl,hr,ul,dt', true)\n","export function unquote (str: string): string {\n  const car = str.charAt(0)\n  const end = str.length - 1\n  const isQuoteStart = car === '\"' || car === \"'\"\n  if (isQuoteStart && car === str.charAt(end)) {\n    return str.slice(1, end)\n  }\n  return str\n}\n","import { NodeType } from '../../dom/node_types'\nimport { unquote } from './utils'\n\nimport type { TaroNode } from '../../dom/node'\nimport type { ParsedTaroElement } from './parser'\n\nconst LEFT_BRACKET = '{'\nconst RIGHT_BRACKET = '}'\nconst CLASS_SELECTOR = '.'\nconst ID_SELECTOR = '#'\nconst CHILD_COMBINATOR = '>'\nconst GENERAL_SIBLING_COMBINATOR = '~'\nconst ADJACENT_SIBLING_COMBINATOR = '+'\n\ninterface ISelector {\n  isChild: boolean\n  isGeneralSibling: boolean\n  isAdjacentSibling: boolean\n  tag: string | null\n  id: string | null\n  class: string[]\n  attrs: {\n    all: boolean\n    key: string\n    value?: string | null\n  }[]\n}\n\ninterface IStyle {\n  content: string\n  selectorList: ISelector[]\n}\n\nexport default class StyleTagParser {\n  styles: IStyle[]= []\n\n  extractStyle (src: string) {\n    const REG_STYLE = /<style\\s?[^>]*>((.|\\n|\\s)+?)<\\/style>/g\n    let html = src\n    // let html = src.replace(/\\n/g, '')\n\n    html = html.replace(REG_STYLE, (_, $1: string) => {\n      const style = $1.trim()\n      this.stringToSelector(style)\n      return ''\n    })\n\n    return html.trim()\n  }\n\n  stringToSelector (style: string) {\n    let lb = style.indexOf(LEFT_BRACKET)\n\n    while (lb > -1) {\n      const rb = style.indexOf(RIGHT_BRACKET)\n      const selectors = style.slice(0, lb).trim()\n\n      let content = style.slice(lb + 1, rb)\n      content = content.replace(/:(.*);/g, function (_, $1) {\n        const t = $1.trim().replace(/ +/g, '+++')\n        return `:${t};`\n      })\n      content = content.replace(/ /g, '')\n      content = content.replace(/\\+\\+\\+/g, ' ')\n\n      if (!(/;$/.test(content))) {\n        content += ';'\n      }\n      selectors.split(',').forEach(src => {\n        const selectorList = this.parseSelector(src)\n        this.styles.push({\n          content,\n          selectorList\n        })\n      })\n      style = style.slice(rb + 1)\n      lb = style.indexOf(LEFT_BRACKET)\n    }\n    // console.log('res this.styles: ', this.styles)\n  }\n\n  parseSelector (src: string) {\n    const list = src\n      .trim()\n      .replace(/ *([>~+]) */g, ' $1')\n      .replace(/ +/g, ' ')\n      .replace(/\\[\\s*([^[\\]=\\s]+)\\s*=\\s*([^[\\]=\\s]+)\\s*\\]/g, '[$1=$2]')\n      .split(' ')\n    const selectors = list.map(item => {\n      const firstChar = item.charAt(0)\n      const selector: ISelector = {\n        isChild: firstChar === CHILD_COMBINATOR,\n        isGeneralSibling: firstChar === GENERAL_SIBLING_COMBINATOR,\n        isAdjacentSibling: firstChar === ADJACENT_SIBLING_COMBINATOR,\n        tag: null,\n        id: null,\n        class: [],\n        attrs: []\n      }\n\n      item = item.replace(/^[>~+]/, '')\n\n      // 属性选择器\n      item = item.replace(/\\[(.+?)\\]/g, function (_, $1: string) {\n        const [key, value] = $1.split('=')\n        const all = $1.indexOf('=') === -1\n\n        const attr = {\n          all,\n          key,\n          value: all ? null : value\n        }\n        selector.attrs.push(attr)\n        return ''\n      })\n\n      item = item.replace(/([.#][A-Za-z0-9-_]+)/g, function (_, $1: string) {\n        if ($1[0] === ID_SELECTOR) {\n          // id 选择器\n          selector.id = $1.substr(1)\n        } else if ($1[0] === CLASS_SELECTOR) {\n          // class 选择器\n          selector.class.push($1.substr(1))\n        }\n        return ''\n      })\n\n      // 标签选择器\n      if (item !== '') {\n        selector.tag = item\n      }\n\n      return selector\n    })\n    return selectors\n  }\n\n  matchStyle (tagName: string, el: ParsedTaroElement, list: number[]): string {\n    const res = sortStyles(this.styles).reduce((str, { content, selectorList }, i) => {\n      let idx = list[i]\n      let selector = selectorList[idx]\n      const nextSelector = selectorList[idx + 1]\n\n      if (nextSelector?.isGeneralSibling || nextSelector?.isAdjacentSibling) {\n        selector = nextSelector\n        idx += 1\n        list[i] += 1\n      }\n\n      let isMatch = this.matchCurrent(tagName, el, selector)\n\n      if (isMatch && selector.isGeneralSibling) {\n        let prev: ParsedTaroElement = getPreviousElement(el)\n        while (prev) {\n          if (prev.h5tagName && this.matchCurrent(prev.h5tagName, prev, selectorList[idx - 1])) {\n            isMatch = true\n            break\n          }\n          prev = getPreviousElement(prev)\n          isMatch = false\n        }\n      }\n      if (isMatch && selector.isAdjacentSibling) {\n        const prev: ParsedTaroElement = getPreviousElement(el)\n        if (!prev || !prev.h5tagName) {\n          isMatch = false\n        } else {\n          const isSiblingMatch = this.matchCurrent(prev.h5tagName, prev, selectorList[idx - 1])\n          if (!isSiblingMatch) {\n            isMatch = false\n          }\n        }\n      }\n\n      if (isMatch) {\n        if (idx === selectorList.length - 1) {\n          return str + content\n        } else if (idx < selectorList.length - 1) {\n          list[i] += 1\n        }\n      } else {\n        // 直接子代组合器: >\n        if (selector.isChild && idx > 0) {\n          list[i] -= 1\n          if (this.matchCurrent(tagName, el, selectorList[list[i]])) {\n            list[i] += 1\n          }\n        }\n      }\n\n      return str\n    }, '')\n    return res\n  }\n\n  matchCurrent (tagName: string, el: ParsedTaroElement, selector: ISelector): boolean {\n    // 标签选择器\n    if (selector.tag && selector.tag !== tagName) return false\n\n    // id 选择器\n    if (selector.id && selector.id !== el.id) return false\n\n    // class 选择器\n    if (selector.class.length) {\n      const classList = el.className.split(' ')\n      for (let i = 0; i < selector.class.length; i++) {\n        const cls = selector.class[i]\n        if (classList.indexOf(cls) === -1) {\n          return false\n        }\n      }\n    }\n\n    // 属性选择器\n    if (selector.attrs.length) {\n      for (let i = 0; i < selector.attrs.length; i++) {\n        const { all, key, value } = selector.attrs[i]\n        if (all && !el.hasAttribute(key)) {\n          return false\n        } else {\n          const attr = el.getAttribute(key)\n          if (attr !== unquote(value || '')) {\n            return false\n          }\n        }\n      }\n    }\n\n    return true\n  }\n}\n\nfunction getPreviousElement (el: TaroNode) {\n  const parent = el.parentElement\n  if (!parent) return null\n\n  const prev = el.previousSibling\n  if (!prev) return null\n\n  if (prev.nodeType === NodeType.ELEMENT_NODE) {\n    return prev\n  } else {\n    return getPreviousElement(prev)\n  }\n}\n\n// 根据 css selector 权重排序: 权重大的靠后\n// @WARN 不考虑伪类\n// https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Cascade_and_inheritance#specificity_2\nfunction sortStyles (styles: IStyle[]) {\n  return styles.sort((s1, s2) => {\n    const hundreds1 = getHundredsWeight(s1.selectorList)\n    const hundreds2 = getHundredsWeight(s2.selectorList)\n\n    if (hundreds1 !== hundreds2) return hundreds1 - hundreds2\n\n    const tens1 = getTensWeight(s1.selectorList)\n    const tens2 = getTensWeight(s2.selectorList)\n\n    if (tens1 !== tens2) return tens1 - tens2\n\n    const ones1 = getOnesWeight(s1.selectorList)\n    const ones2 = getOnesWeight(s2.selectorList)\n\n    return ones1 - ones2\n  })\n}\n\nfunction getHundredsWeight (selectors: ISelector[]) {\n  return selectors.reduce((pre, cur) => pre + (cur.id ? 1 : 0), 0)\n}\n\nfunction getTensWeight (selectors: ISelector[]) {\n  return selectors.reduce((pre, cur) => pre + cur.class.length + cur.attrs.length, 0)\n}\n\nfunction getOnesWeight (selectors: ISelector[]) {\n  return selectors.reduce((pre, cur) => pre + (cur.tag ? 1 : 0), 0)\n}\n","import { isFunction } from '@tarojs/shared'\nimport { Scaner, Token } from './scaner'\nimport { options } from '../../options'\nimport { specialMiniElements, isMiniElements, isBlockElements, isInlineElements } from './tags'\nimport StyleTagParser from './style'\nimport { unquote } from './utils'\n\nimport type { TaroElement } from '../../dom/element'\nimport type { TaroDocument } from '../../dom/document'\n\ninterface State {\n  tokens: Token[]\n  cursor: number\n  stack: Element[]\n}\n\nconst closingTagAncestorBreakers = {\n  li: ['ul', 'ol', 'menu'],\n  dt: ['dl'],\n  dd: ['dl'],\n  tbody: ['table'],\n  thead: ['table'],\n  tfoot: ['table'],\n  tr: ['table'],\n  td: ['table']\n}\n\ninterface Node {\n  type: string;\n}\n\ninterface Comment extends Node {\n  type: 'comment'\n  content: string\n}\n\nexport interface Text extends Node {\n  type: 'text'\n  content: string\n}\n\nexport interface Element extends Node {\n  type: 'element'\n  tagName: string\n  children: ChildNode[]\n  attributes: string[]\n}\n\nexport interface ParsedTaroElement extends TaroElement{\n  h5tagName?: string\n}\n\ntype ChildNode = Comment | Text | Element\n\nfunction hasTerminalParent (tagName: string, stack: Element[]) {\n  const tagParents: undefined | string[] = closingTagAncestorBreakers[tagName]\n  if (tagParents) {\n    let currentIndex = stack.length - 1\n    while (currentIndex >= 0) {\n      const parentTagName = stack[currentIndex].tagName\n      if (parentTagName === tagName) {\n        break\n      }\n      if (tagParents && tagParents.includes(parentTagName!)) {\n        return true\n      }\n      currentIndex--\n    }\n  }\n  return false\n}\n\nfunction getTagName (tag: string) {\n  if (options.html!.renderHTMLTag) {\n    return tag\n  }\n\n  if (specialMiniElements[tag]) {\n    return specialMiniElements[tag]\n  } else if (isMiniElements(tag)) {\n    return tag\n  } else if (isBlockElements(tag)) {\n    return 'view'\n  } else if (isInlineElements(tag)) {\n    return 'text'\n  }\n\n  return 'view'\n}\n\nfunction splitEqual (str: string) {\n  const sep = '='\n  const idx = str.indexOf(sep)\n  if (idx === -1) return [str]\n  const key = str.slice(0, idx).trim()\n  const value = str.slice(idx + sep.length).trim()\n  return [key, value]\n}\n\nfunction format (\n  children: ChildNode[],\n  document: TaroDocument,\n  styleOptions: {\n    styleTagParser: StyleTagParser\n    descendantList: number[]\n  },\n  parent?: TaroElement\n) {\n  return children\n    .filter(child => {\n      // 过滤注释和空文本节点\n      if (child.type === 'comment') {\n        return false\n      } else if (child.type === 'text') {\n        return child.content !== ''\n      }\n      return true\n    })\n    .map((child: Text | Element) => {\n      // 文本节点\n      if (child.type === 'text') {\n        let text = document.createTextNode(child.content)\n        if (isFunction(options.html!.transformText)) {\n          text = options.html!.transformText(text, child)\n        }\n        parent?.appendChild(text)\n        return text\n      }\n\n      const el: ParsedTaroElement = document.createElement(getTagName(child.tagName))\n      el.h5tagName = child.tagName\n\n      parent?.appendChild(el)\n\n      if (!options.html!.renderHTMLTag) {\n        el.className = `h5-${child.tagName}`\n      }\n\n      for (let i = 0; i < child.attributes.length; i++) {\n        const attr = child.attributes[i]\n        const [key, value] = splitEqual(attr)\n        if (key === 'class') {\n          el.className += ' ' + unquote(value)\n        } else if (key[0] === 'o' && key[1] === 'n') {\n          continue\n        } else {\n          el.setAttribute(key, value == null ? true : unquote(value))\n        }\n      }\n\n      const { styleTagParser, descendantList } = styleOptions\n      const list = descendantList.slice()\n      const style = styleTagParser.matchStyle(child.tagName, el, list)\n\n      el.setAttribute('style', style + el.style.cssText)\n      // console.log('style, ', style)\n\n      format(child.children, document, {\n        styleTagParser,\n        descendantList: list\n      }, el)\n\n      if (isFunction(options.html!.transformElement)) {\n        return options.html!.transformElement(el, child)\n      }\n\n      return el\n    })\n}\n\nexport function parser (html: string, document: TaroDocument) {\n  const styleTagParser = new StyleTagParser()\n  html = styleTagParser.extractStyle(html)\n\n  const tokens = new Scaner(html).scan()\n\n  const root: Element = { tagName: '', children: [], type: 'element', attributes: [] }\n\n  const state = { tokens, options, cursor: 0, stack: [root] }\n  parse(state)\n\n  return format(root.children, document, {\n    styleTagParser,\n    descendantList: Array(styleTagParser.styles.length).fill(0)\n  })\n}\n\nfunction parse (state: State) {\n  const { tokens, stack } = state\n  let { cursor } = state\n\n  const len = tokens.length\n\n  let nodes = stack[stack.length - 1].children\n\n  while (cursor < len) {\n    const token = tokens[cursor]\n    if (token.type !== 'tag-start') {\n      // comment or text\n      nodes.push(token as ChildNode)\n      cursor++\n      continue\n    }\n\n    const tagToken = tokens[++cursor]\n    cursor++\n    const tagName = tagToken.content!.toLowerCase()\n    if (token.close) {\n      let index = stack.length\n      let shouldRewind = false\n      while (--index > -1) {\n        if (stack[index].tagName === tagName) {\n          shouldRewind = true\n          break\n        }\n      }\n      while (cursor < len) {\n        const endToken = tokens[cursor]\n        if (endToken.type !== 'tag-end') break\n        cursor++\n      }\n      if (shouldRewind) {\n        stack.splice(index)\n        break\n      } else {\n        continue\n      }\n    }\n\n    const isClosingTag = options.html!.closingElements.has(tagName)\n    let shouldRewindToAutoClose = isClosingTag\n    if (shouldRewindToAutoClose) {\n      shouldRewindToAutoClose = !hasTerminalParent(tagName, stack)\n    }\n\n    if (shouldRewindToAutoClose) {\n      let currentIndex = stack.length - 1\n      while (currentIndex > 0) {\n        if (tagName === stack[currentIndex].tagName) {\n          stack.splice(currentIndex)\n          const previousIndex = currentIndex - 1\n          nodes = stack[previousIndex].children\n          break\n        }\n        currentIndex = currentIndex - 1\n      }\n    }\n\n    const attributes: string[] = []\n    let attrToken: Token\n    while (cursor < len) {\n      attrToken = tokens[cursor]\n      if (attrToken.type === 'tag-end') break\n      attributes.push(attrToken.content!)\n      cursor++\n    }\n\n    cursor++\n    const children: Element[] = []\n    const element: Element = {\n      type: 'element',\n      tagName: tagToken.content!,\n      attributes,\n      children\n    }\n    nodes.push(element)\n\n    const hasChildren = !(attrToken!.close || options.html!.voidElements.has(tagName))\n    if (hasChildren) {\n      stack.push({ tagName, children } as any)\n      const innerState: State = { tokens, cursor, stack }\n      parse(innerState)\n      cursor = innerState.cursor\n    }\n  }\n\n  state.cursor = cursor\n}\n","import { parser } from './parser'\nimport { options } from '../../options'\n\nimport type { TaroNode } from '../../dom/node'\nimport type { TaroDocument } from '../../dom/document'\n\noptions.html = {\n  skipElements: new Set(['style', 'script']),\n  voidElements: new Set([\n    '!doctype', 'area', 'base', 'br', 'col', 'command',\n    'embed', 'hr', 'img', 'input', 'keygen', 'link',\n    'meta', 'param', 'source', 'track', 'wbr'\n  ]),\n  closingElements: new Set([\n    'html', 'head', 'body', 'p', 'dt', 'dd', 'li', 'option',\n    'thead', 'th', 'tbody', 'tr', 'td', 'tfoot', 'colgroup'\n  ]),\n  renderHTMLTag: false\n}\n\nexport function setInnerHTML (element: TaroNode, html: string, getDoc: () => TaroDocument) {\n  while (element.firstChild) {\n    element.removeChild(element.firstChild)\n  }\n  const children = parser(html, getDoc())\n\n  for (let i = 0; i < children.length; i++) {\n    element.appendChild(children[i])\n  }\n}\n","import { inject, injectable } from 'inversify'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { ElementNames, InstanceNamedFactory } from '../interface'\nimport { setInnerHTML } from '../dom-external/inner-html/html'\nimport { cloneNode, insertAdjacentHTMLImpl, contains } from './node'\n\nimport type { Ctx, GetDoc } from '../interface'\nimport type { TaroDocument } from '../dom/document'\n\ndeclare const ENABLE_INNER_HTML: boolean\ndeclare const ENABLE_ADJACENT_HTML: boolean\ndeclare const ENABLE_CLONE_NODE: boolean\ndeclare const ENABLE_CONTAINS: boolean\n\n@injectable()\nexport class TaroNodeImpl {\n  public getDoc: GetDoc\n\n  constructor (// eslint-disable-next-line @typescript-eslint/indent\n    @inject(SERVICE_IDENTIFIER.TaroElementFactory) getElement: InstanceNamedFactory\n  ) {\n    this.getDoc = () => getElement<TaroDocument>(ElementNames.Document)()\n  }\n\n  public bind (ctx: Ctx) {\n    const getDoc = this.getDoc\n\n    if (ENABLE_INNER_HTML) {\n      bindInnerHTML(ctx, getDoc)\n\n      if (ENABLE_ADJACENT_HTML) {\n        ctx.insertAdjacentHTML = insertAdjacentHTMLImpl.bind(ctx, getDoc)\n      }\n    }\n\n    if (ENABLE_CLONE_NODE) {\n      ctx.cloneNode = cloneNode.bind(ctx, getDoc)\n    }\n\n    if (ENABLE_CONTAINS) {\n      ctx.contains = contains.bind(ctx)\n    }\n  }\n}\n\nfunction bindInnerHTML (ctx, getDoc) {\n  Object.defineProperty(ctx, 'innerHTML', {\n    configurable: true,\n    enumerable: true,\n    set (html: string) {\n      setInnerHTML.call(this, this, html, getDoc)\n    },\n    get (): string {\n      return ''\n    }\n  })\n}\n","import { injectable } from 'inversify'\nimport { getBoundingClientRectImpl, getTemplateContent } from './element'\n\nimport type { Ctx } from '../interface'\n\ndeclare const ENABLE_SIZE_APIS: boolean\ndeclare const ENABLE_TEMPLATE_CONTENT: boolean\n\n@injectable()\nexport class TaroElementImpl {\n  bind (ctx: Ctx) {\n    if (ENABLE_SIZE_APIS) {\n      ctx.getBoundingClientRect = getBoundingClientRectImpl.bind(ctx)\n    }\n\n    if (ENABLE_TEMPLATE_CONTENT) {\n      bindContent(ctx)\n    }\n  }\n}\n\nfunction bindContent (ctx: Ctx) {\n  Object.defineProperty(ctx, 'content', {\n    configurable: true,\n    enumerable: true,\n    get () {\n      return getTemplateContent(ctx)\n    }\n  })\n}\n","import { inject, injectable } from 'inversify'\nimport { controlledComponent, isUndefined } from '@tarojs/shared'\nimport { SID_TARO_TEXT_FACTORY } from '../constants/identifiers'\nimport { TaroElement } from '../dom/element'\nimport { NodeType } from '../dom/node_types'\nimport { eventSource } from '../dom/event-source'\nimport { ElementNames, InstanceFactory } from '../interface'\nimport {\n  ROOT_STR,\n  DOCUMENT_ELEMENT_NAME,\n  COMMENT\n} from '../constants'\n\nimport type { FormElement } from '../dom/form'\nimport type { TaroRootElement } from '../dom/root'\nimport type { TaroText } from '../dom/text'\n\n@injectable()\nexport class TaroDocument extends TaroElement {\n  private _getText: InstanceFactory<TaroText>\n\n  public constructor (// eslint-disable-next-line @typescript-eslint/indent\n    @inject(SID_TARO_TEXT_FACTORY) getText: InstanceFactory<TaroText>\n  ) {\n    super()\n    this._getText = getText\n    this.nodeType = NodeType.DOCUMENT_NODE\n    this.nodeName = DOCUMENT_ELEMENT_NAME\n  }\n\n  public createElement (type: string): TaroElement | TaroRootElement | FormElement {\n    const getElement = this._getElement\n\n    if (type === ROOT_STR) {\n      return getElement<TaroRootElement>(ElementNames.RootElement)()\n    }\n\n    if (controlledComponent.has(type)) {\n      return getElement<FormElement>(ElementNames.FormElement)(type)\n    }\n\n    return getElement<TaroElement>(ElementNames.Element)(type)\n  }\n\n  // an ugly fake createElementNS to deal with @vue/runtime-dom's\n  // support mounting app to svg container since vue@3.0.8\n  public createElementNS (_svgNS: string, type: string): TaroElement | TaroRootElement | FormElement {\n    return this.createElement(type)\n  }\n\n  public createTextNode (text: string): TaroText {\n    return this._getText(text)\n  }\n\n  public getElementById<T extends TaroElement> (id: string | undefined | null): T | null {\n    const el = eventSource.get(id)\n    return isUndefined(el) ? null : el as T\n  }\n\n  public querySelector<T extends TaroElement> (query: string): T | null {\n    // 为了 Vue3 的乞丐版实现\n    if (/^#/.test(query)) {\n      return this.getElementById<T>(query.slice(1))\n    }\n    return null\n  }\n\n  public querySelectorAll () {\n    // fake hack\n    return []\n  }\n\n  // @TODO: @PERF: 在 hydrate 移除掉空的 node\n  public createComment (): TaroText {\n    const textnode = this._getText('')\n    textnode.nodeName = COMMENT\n    return textnode\n  }\n}\n","/**\n * 支持冒泡的事件, 除 支付宝小程序外，其余的可冒泡事件都和微信保持一致\n * 详见 见 https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html\n */\nexport const BUBBLE_EVENTS = new Set([\n  'touchstart',\n  'touchmove',\n  'touchcancel',\n  'touchend',\n  'touchforcechange',\n  'tap',\n  'longpress',\n  'longtap',\n  'transitionend',\n  'animationstart',\n  'animationiteration',\n  'animationend'\n])\n","import { ContainerModule } from 'inversify'\nimport { BUBBLE_EVENTS } from '../constants/events'\nimport {\n  SID_GET_MINI_LIFECYCLE,\n  SID_GET_LIFECYCLE,\n  SID_GET_PATH_INDEX,\n  SID_GET_EVENT_CENTER,\n  SID_IS_BUBBLE_EVENTS,\n  SID_GET_SPECIAL_NODES\n} from '../constants/identifiers'\n\nimport type {\n  MiniLifecycle,\n  IsBubbleEvents,\n  GetEventCenter,\n  GetMiniLifecycle,\n  GetLifecycle,\n  GetPathIndex,\n  GetSpecialNodes\n} from '../interface'\n\nexport const defaultMiniLifecycle: MiniLifecycle = {\n  app: [\n    'onLaunch',\n    'onShow',\n    'onHide'\n  ],\n  page: [\n    'onLoad',\n    'onUnload',\n    'onReady',\n    'onShow',\n    'onHide',\n    [\n      'onPullDownRefresh',\n      'onReachBottom',\n      'onPageScroll',\n      'onResize',\n      'onTabItemTap',\n      'onTitleClick',\n      'onOptionMenuClick',\n      'onPopMenuClick',\n      'onPullIntercept',\n      'onAddToFavorites'\n    ]\n  ]\n}\n\nconst getMiniLifecycle: GetMiniLifecycle = function (defaultConfig) {\n  return defaultConfig\n}\n\nconst getLifecycle: GetLifecycle = function (instance, lifecycle) {\n  return instance[lifecycle]\n}\n\nconst getPathIndex: GetPathIndex = function (indexOfNode) {\n  return `[${indexOfNode}]`\n}\n\nconst getEventCenter: GetEventCenter = function (Events) {\n  return new Events()\n}\n\nconst isBubbleEvents = function (eventName) {\n  return BUBBLE_EVENTS.has(eventName)\n}\n\nconst getSpecialNodes = function () {\n  return ['view', 'text', 'image']\n}\n\nexport const DefaultHooksContainer = new ContainerModule(bind => {\n  function bindFunction<T> (sid: string, target) {\n    return bind<T>(sid).toFunction(target)\n  }\n  bindFunction<GetLifecycle>(SID_GET_MINI_LIFECYCLE, getMiniLifecycle)\n  bindFunction<GetLifecycle>(SID_GET_LIFECYCLE, getLifecycle)\n  bindFunction<GetPathIndex>(SID_GET_PATH_INDEX, getPathIndex)\n  bindFunction<GetEventCenter>(SID_GET_EVENT_CENTER, getEventCenter)\n  bindFunction<IsBubbleEvents>(SID_IS_BUBBLE_EVENTS, isBubbleEvents)\n  bindFunction<GetSpecialNodes>(SID_GET_SPECIAL_NODES, getSpecialNodes)\n})\n","import { inject, injectable, multiInject, optional } from 'inversify'\nimport {\n  SID_GET_MINI_LIFECYCLE,\n  SID_GET_LIFECYCLE,\n  SID_GET_PATH_INDEX,\n  SID_GET_EVENT_CENTER,\n  SID_IS_BUBBLE_EVENTS,\n  SID_GET_SPECIAL_NODES,\n  SID_ON_REMOVE_ATTRIBUTE,\n  SID_BATCHED_EVENT_UPDATES,\n  SID_MERGE_PAGE_INSTANCE,\n  SID_CREATE_PULLDOWN_COMPONENT,\n  SID_GET_DOM_NODE,\n  SID_MODIFY_HYDRATE_DATA,\n  SID_MODIFY_SET_ATTR_PAYLOAD,\n  SID_MODIFY_RM_ATTR_PAYLOAD,\n  SID_ON_ADD_EVENT,\n  SID_MODIFY_MP_EVENT,\n  SID_MODIFY_TARO_EVENT,\n  SID_INIT_NATIVE_API,\n  SID_PATCH_ELEMENT,\n  SID_MODIFY_PAGE_OBJECT,\n  SID_MODIFY_DISPATCH_EVENT\n\n} from './constants/identifiers'\nimport { defaultMiniLifecycle } from './container/default-hooks'\n\nimport type { TaroElement } from './dom/element'\nimport type { TaroEvent } from './dom/event'\nimport type {\n  IHooks,\n  OnRemoveAttribute,\n  GetMiniLifecycle,\n  GetLifecycle,\n  GetPathIndex,\n  GetEventCenter,\n  ModifyMpEvent,\n  ModifyTaroEvent,\n  ModifyDispatchEvent,\n  IsBubbleEvents,\n  GetSpecialNodes,\n  BatchedEventUpdates,\n  MergePageInstance,\n  CreatePullDownComponent,\n  GetDOMNode,\n  InitNativeApi,\n  ModifySetAttrPayload,\n  ModifyHydrateData,\n  ModifyRmAttrPayload,\n  MpEvent,\n  OnAddEvent,\n  PatchElement,\n  ModifyPageObject\n} from './interface'\n\n@injectable()\nexport class Hooks implements IHooks {\n  @inject(SID_GET_MINI_LIFECYCLE)\n  public getMiniLifecycle: GetMiniLifecycle\n\n  public getMiniLifecycleImpl () {\n    return this.getMiniLifecycle(defaultMiniLifecycle)\n  }\n\n  @inject(SID_GET_LIFECYCLE)\n  public getLifecycle: GetLifecycle\n\n  @inject(SID_GET_PATH_INDEX)\n  public getPathIndex: GetPathIndex\n\n  @inject(SID_GET_EVENT_CENTER)\n  public getEventCenter: GetEventCenter\n\n  @inject(SID_IS_BUBBLE_EVENTS)\n  public isBubbleEvents: IsBubbleEvents\n\n  @inject(SID_GET_SPECIAL_NODES)\n  public getSpecialNodes: GetSpecialNodes\n\n  @inject(SID_ON_REMOVE_ATTRIBUTE) @optional()\n  public onRemoveAttribute?: OnRemoveAttribute\n\n  @inject(SID_BATCHED_EVENT_UPDATES) @optional()\n  public batchedEventUpdates?: BatchedEventUpdates\n\n  @inject(SID_MERGE_PAGE_INSTANCE) @optional()\n  public mergePageInstance?: MergePageInstance\n\n  @inject(SID_MODIFY_PAGE_OBJECT) @optional()\n  public modifyPageObject?: ModifyPageObject\n\n  @inject(SID_CREATE_PULLDOWN_COMPONENT) @optional()\n  public createPullDownComponent?: CreatePullDownComponent\n\n  @inject(SID_GET_DOM_NODE) @optional()\n  public getDOMNode?: GetDOMNode\n\n  @inject(SID_MODIFY_HYDRATE_DATA) @optional()\n  public modifyHydrateData?: ModifyHydrateData\n\n  @inject(SID_MODIFY_SET_ATTR_PAYLOAD) @optional()\n  public modifySetAttrPayload?: ModifySetAttrPayload\n\n  @inject(SID_MODIFY_RM_ATTR_PAYLOAD) @optional()\n  public modifyRmAttrPayload?: ModifyRmAttrPayload\n\n  @inject(SID_ON_ADD_EVENT) @optional()\n  public onAddEvent?: OnAddEvent\n\n  @multiInject(SID_MODIFY_MP_EVENT) @optional()\n  public modifyMpEventImpls?: ModifyMpEvent[]\n\n  public modifyMpEvent (e: MpEvent) {\n    this.modifyMpEventImpls?.forEach(fn => {\n      try {\n        // 有些小程序的事件对象的某些属性只读\n        fn(e)\n      } catch (error) {\n        console.warn('[Taro modifyMpEvent hook Error]: ', error)\n      }\n    })\n  }\n\n  @multiInject(SID_MODIFY_TARO_EVENT) @optional()\n  public modifyTaroEventImpls?: ModifyTaroEvent[]\n\n  public modifyTaroEvent (e: TaroEvent, element: TaroElement) {\n    this.modifyTaroEventImpls?.forEach(fn => fn(e, element))\n  }\n\n  @multiInject(SID_MODIFY_DISPATCH_EVENT) @optional()\n  public modifyDispatchEventImpls?: ModifyDispatchEvent[]\n\n  public modifyDispatchEvent (e: TaroEvent, element: TaroElement) {\n    this.modifyDispatchEventImpls?.forEach(fn => fn(e, element))\n  }\n\n  @multiInject(SID_INIT_NATIVE_API) @optional()\n  public initNativeApiImpls?: InitNativeApi[]\n\n  public initNativeApi (taro: Record<string, any>) {\n    this.initNativeApiImpls?.forEach(fn => fn(taro))\n  }\n\n  @multiInject(SID_PATCH_ELEMENT) @optional()\n  public patchElementImpls?: PatchElement[]\n\n  public patchElement (element: TaroElement) {\n    this.patchElementImpls?.forEach(fn => fn(element))\n  }\n}\n","import { defaultReconciler, isArray } from '@tarojs/shared'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\n\nimport type { Container } from 'inversify'\n\nexport default function processPluginHooks (container: Container) {\n  const keys = Object.keys(defaultReconciler)\n  keys.forEach(key => {\n    if (key in SERVICE_IDENTIFIER) {\n      // is hooks\n      const identifier = SERVICE_IDENTIFIER[key]\n      const fn = defaultReconciler[key]\n\n      if (isArray(fn)) {\n        // is multi\n        fn.forEach(item => container.bind(identifier).toFunction(item))\n      } else {\n        if (container.isBound(identifier)) {\n          // 之前有绑定过，需要重新绑定以覆盖前者\n          container.rebind(identifier).toFunction(fn)\n        } else {\n          container.bind(identifier).toFunction(fn)\n        }\n      }\n    }\n  })\n}\n","import { Container, interfaces } from 'inversify'\nimport { TaroNodeImpl } from '../dom-external/node-impl'\nimport { TaroElementImpl } from '../dom-external/element-impl'\nimport { TaroElement } from '../dom/element'\nimport { TaroText } from '../dom/text'\nimport { TaroDocument } from '../dom/document'\nimport { TaroRootElement } from '../dom/root'\nimport { FormElement } from '../dom/form'\nimport { ElementNames, InstanceFactory, InstanceNamedFactory } from '../interface'\nimport { store } from './store'\nimport { Hooks } from '../hooks'\nimport { DefaultHooksContainer } from './default-hooks'\nimport processPluginHooks from './plugin-hooks'\nimport {\n  SID_TARO_ELEMENT,\n  SID_TARO_ELEMENT_FACTORY,\n  SID_TARO_TEXT,\n  SID_TARO_TEXT_FACTORY,\n  SID_TARO_NODE_IMPL,\n  SID_TARO_ELEMENT_IMPL,\n  SID_HOOKS\n} from '../constants/identifiers'\n\ninterface IbindOptions {\n  name?: string\n  single?: boolean\n}\n\nconst container = new Container()\n\nfunction bind<T> (sid: string, target, options: IbindOptions = {}) {\n  type Res = interfaces.BindingInWhenOnSyntax<T> | interfaces.BindingWhenOnSyntax<T> | interfaces.BindingOnSyntax<T>\n  let res: Res = container.bind<T>(sid).to(target)\n  if (options.single) {\n    res = (res as interfaces.BindingInWhenOnSyntax<T>).inSingletonScope()\n  }\n  if (options.name) {\n    res = (res as interfaces.BindingInWhenOnSyntax<T> | interfaces.BindingWhenOnSyntax<T>).whenTargetNamed(options.name)\n  }\n  return res\n}\n\nif (process.env.TARO_ENV !== 'h5') {\n  bind<TaroText>(SID_TARO_TEXT, TaroText)\n  bind<TaroElement>(SID_TARO_ELEMENT, TaroElement, { name: ElementNames.Element })\n  bind<TaroRootElement>(SID_TARO_ELEMENT, TaroRootElement, { name: ElementNames.RootElement })\n  bind<FormElement>(SID_TARO_ELEMENT, FormElement, { name: ElementNames.FormElement })\n  bind<TaroDocument>(SID_TARO_ELEMENT, TaroDocument, { name: ElementNames.Document, single: true })\n  bind<TaroNodeImpl>(SID_TARO_NODE_IMPL, TaroNodeImpl, { single: true })\n  bind<TaroElementImpl>(SID_TARO_ELEMENT_IMPL, TaroElementImpl, { single: true })\n\n  container.bind<InstanceNamedFactory>(SID_TARO_ELEMENT_FACTORY).toFactory<TaroElement>((context: interfaces.Context) => {\n    return (named: ElementNames) => (nodeName?: string) => {\n      const el = context.container.getNamed<TaroElement>(SID_TARO_ELEMENT, named)\n      if (nodeName) {\n        el.nodeName = nodeName\n      }\n      el.tagName = el.nodeName.toUpperCase()\n      return el\n    }\n  })\n  container.bind<InstanceFactory<TaroText>>(SID_TARO_TEXT_FACTORY).toFactory<TaroText>((context: interfaces.Context) => {\n    return (text: string) => {\n      const textNode = context.container.get<TaroText>(SID_TARO_TEXT)\n      textNode._value = text\n      return textNode\n    }\n  })\n}\n\nbind<Hooks>(SID_HOOKS, Hooks, { single: true })\ncontainer.load(DefaultHooksContainer)\nprocessPluginHooks(container)\n\nstore.container = container\n\nexport default container\n","import { createEvent } from '../dom/event'\nimport { doc } from '../env'\nimport ioc_container from '../container'\nimport SERVICE_IDENTIFIER from '../constants/identifiers'\nimport { ElementNames, InstanceNamedFactory } from '../interface'\nimport {\n  HTML,\n  HEAD,\n  BODY,\n  APP,\n  CONTAINER\n} from '../constants'\n\nimport type { TaroDocumentInstance } from '../interface'\n\nexport function createDocument () {\n  /**\n   * <document>\n   *   <html>\n   *     <head></head>\n   *     <body>\n   *       <container>\n   *         <app id=\"app\" />\n   *       </container>\n   *     </body>\n   *   </html>\n   * </document>\n   */\n  const getElement = ioc_container.get<InstanceNamedFactory>(SERVICE_IDENTIFIER.TaroElementFactory)\n  const doc = getElement(ElementNames.Document)() as TaroDocumentInstance\n  const documentCreateElement = doc.createElement.bind(doc)\n  const html = documentCreateElement(HTML)\n  const head = documentCreateElement(HEAD)\n  const body = documentCreateElement(BODY)\n  const app = documentCreateElement(APP)\n  app.id = APP\n  const container = documentCreateElement(CONTAINER) // 多包一层主要为了兼容 vue\n\n  doc.appendChild(html)\n  html.appendChild(head)\n  html.appendChild(body)\n  body.appendChild(container)\n  container.appendChild(app)\n\n  doc.documentElement = html\n  doc.head = head\n  doc.body = body\n  doc.createEvent = createEvent\n\n  return doc\n}\n\nexport const document = process.env.TARO_ENV === 'h5'\n  ? (doc as unknown) as TaroDocumentInstance\n  : createDocument()\n","// https://github.com/myrne/performance-now\nexport let now\n\n(function () {\n  let loadTime\n  if ((typeof performance !== 'undefined' && performance !== null) && performance.now) {\n    now = function () {\n      return performance.now()\n    }\n  } else if (Date.now) {\n    now = function () {\n      return Date.now() - loadTime\n    }\n    loadTime = Date.now()\n  } else {\n    now = function () {\n      return new Date().getTime() - loadTime\n    }\n    loadTime = new Date().getTime()\n  }\n})()\n\nlet lastTime = 0\n\n// https://gist.github.com/paulirish/1579671\n// https://gist.github.com/jalbam/5fe05443270fa6d8136238ec72accbc0\nconst raf = typeof requestAnimationFrame !== 'undefined' && requestAnimationFrame !== null ? requestAnimationFrame : function (callback) {\n  const _now = now()\n  const nextTime = Math.max(lastTime + 16, _now) // First time will execute it immediately but barely noticeable and performance is gained.\n  return setTimeout(function () { callback(lastTime = nextTime) }, nextTime - _now)\n}\n\nconst caf = typeof cancelAnimationFrame !== 'undefined' && cancelAnimationFrame !== null\n  ? cancelAnimationFrame\n  : function (seed) {\n    // fix https://github.com/NervJS/taro/issues/7749\n    clearTimeout(seed)\n  }\n\nexport {\n  raf,\n  caf\n}\n","import { win } from '../env'\n\nconst machine = 'Macintosh'\nconst arch = 'Intel Mac OS X 10_14_5'\nconst engine = 'AppleWebKit/534.36 (KHTML, like Gecko) NodeJS/v4.1.0 Chrome/76.0.3809.132 Safari/534.36'\n\nconst msg = '(' + machine + '; ' + arch + ') ' + engine\n\nexport const navigator = process.env.TARO_ENV === 'h5' ? win.navigator : {\n  appCodeName: 'Mozilla',\n  appName: 'Netscape',\n  appVersion: '5.0 ' + msg,\n  cookieEnabled: true,\n  mimeTypes: [],\n  onLine: true,\n  platform: 'MacIntel',\n  plugins: [],\n  product: 'Taro',\n  productSub: '20030107',\n  userAgent: 'Mozilla/5.0 ' + msg,\n  vendor: 'Joyent',\n  vendorSub: ''\n}\n","import type { TaroElement } from '../dom/element'\nimport type { Style } from '../dom/style'\n\nexport function getComputedStyle (element: TaroElement): Style {\n  return element.style\n}\n","import { noop } from '@tarojs/shared'\nimport { navigator } from './navigator'\nimport { document } from './document'\nimport { win } from '../env'\nimport { raf, caf } from './raf'\nimport { getComputedStyle } from './getComputedStyle'\nimport { DATE } from '../constants'\n\nexport const window: any = process.env.TARO_ENV === 'h5' ? win : {\n  navigator,\n  document\n}\n\nif (process.env.TARO_ENV && process.env.TARO_ENV !== 'h5') {\n  const globalProperties = [\n    ...Object.getOwnPropertyNames(global || win),\n    ...Object.getOwnPropertySymbols(global || win)\n  ]\n\n  globalProperties.forEach(property => {\n    if (property === 'atob') return\n    if (!Object.prototype.hasOwnProperty.call(window, property)) {\n      window[property] = global[property]\n    }\n  })\n\n  window.requestAnimationFrame = raf\n  window.cancelAnimationFrame = caf\n  window.getComputedStyle = getComputedStyle\n  window.addEventListener = noop\n  window.removeEventListener = noop\n  if (!(DATE in window)) {\n    window.Date = Date\n  }\n  window.setTimeout = function (...args: Parameters<typeof setTimeout>) {\n    return setTimeout(...args)\n  }\n  window.clearTimeout = function (...args: Parameters<typeof clearTimeout>) {\n    return clearTimeout(...args)\n  }\n\n  document.defaultView = window\n}\n","import { AppInstance, PageInstance } from './dsl/instance'\n\nexport interface Router {\n  params: Record<string, unknown>,\n  path: string,\n  onReady: string,\n  onHide: string,\n  onShow: string\n}\n\ninterface Current {\n  app: AppInstance | null,\n  router: Router | null,\n  page: PageInstance | null,\n  preloadData?: any\n}\n\nexport const Current: Current = {\n  app: null,\n  router: null,\n  page: null\n}\n\nexport const getCurrentInstance = () => Current\n","import container from '../container'\nimport { getHooks } from '../container/store'\nimport { SID_EVENT_CENTER } from '../constants/identifiers'\n\n/* eslint-disable no-dupe-class-members */\ntype Callback1<T1> = (arg1: T1) => any;\ntype Callback2<T1, T2> = (arg1: T1, arg2: T2) => any;\ntype Callback3<T1, T2, T3> = (arg1: T1, arg2: T2, arg3: T3) => any;\ntype Callback4<T1, T2, T3, T4> = (arg1: T1, arg2: T2, arg3: T3, arg4: T4) => any;\ntype Callback5<T1, T2, T3, T4, T5> = (arg1: T1, arg2: T2, arg3: T3,\n  arg4: T4, arg5: T5) => any;\ntype Callback6Rest<T1, T2, T3, T4, T5, T6> = (arg1: T1, arg2: T2, arg3: T3,\n  arg4: T4, arg5: T5, arg6: T6,\n  ...rest: any[]) => any;\n\nexport class Events {\n  private callbacks?: Record<string, unknown>\n  static eventSplitter = /\\s+/\n\n  constructor (opts?) {\n    this.callbacks = opts?.callbacks ?? {}\n  }\n\n  on<T>(event: string, callback: Callback1<T>, context): this\n  on<T1, T2>(event: string, callback: Callback2<T1, T2>, context): this\n  on<T1, T2, T3>(event: string, callback: Callback3<T1, T2, T3>, context): this\n  on<T1, T2, T3, T4>(event: string, callback: Callback4<T1, T2, T3, T4>, comtext): this\n  on<T1, T2, T3, T4, T5>(event: string, callback: Callback5<T1, T2, T3, T4, T5>, context): this\n  on<T1, T2, T3, T4, T5, T6>(event: string, callback: Callback6Rest<T1, T2, T3, T4, T5, T6>, context): this\n  on (eventName, callback, context): this {\n    let event, node, tail, list\n    if (!callback) {\n      return this\n    }\n    eventName = eventName.split(Events.eventSplitter)\n    this.callbacks ||= {}\n    const calls = this.callbacks\n    while ((event = eventName.shift())) {\n      list = calls[event]\n      node = list ? list.tail : {}\n      node.next = tail = {}\n      node.context = context\n      node.callback = callback\n      calls[event] = {\n        tail,\n        next: list ? list.next : node\n      }\n    }\n    return this\n  }\n\n  once (events, callback, context) {\n    const wrapper = (...args) => {\n      callback.apply(this, args)\n      this.off(events, wrapper, context)\n    }\n\n    this.on(events, wrapper, context)\n\n    return this\n  }\n\n  off (events, callback, context) {\n    let event, calls, node, tail, cb, ctx\n    if (!(calls = this.callbacks)) {\n      return this\n    }\n    if (!(events || callback || context)) {\n      delete this.callbacks\n      return this\n    }\n    events = events ? events.split(Events.eventSplitter) : Object.keys(calls)\n    while ((event = events.shift())) {\n      node = calls[event]\n      delete calls[event]\n      if (!node || !(callback || context)) {\n        continue\n      }\n      tail = node.tail\n      while ((node = node.next) !== tail) {\n        cb = node.callback\n        ctx = node.context\n        if ((callback && cb !== callback) || (context && ctx !== context)) {\n          this.on(event, cb, ctx)\n        }\n      }\n    }\n    return this\n  }\n\n  trigger(event: string)\n  trigger<T1>(event: string, arg: T1)\n  trigger<T1, T2>(event: string, arg1: T1, arg2: T2)\n  trigger<T1, T2, T3>(event: string, arg1: T1, arg2: T2, arg3: T3)\n  trigger<T1, T2, T3, T4>(event: string, arg1: T1, arg2: T2, arg3: T3, arg4: T4)\n  trigger<T1, T2, T3, T4, T5>(event: string, arg1: T1, arg2: T2, arg3: T3, arg4: T4, arg5: T5)\n  trigger<T1, T2, T3, T4, T5, T6>(event: string, arg1: T1, arg2: T2, arg3: T3, arg4: T4, arg5: T5,\n    arg6: T6, ...rest: any[])\n\n  trigger (events) {\n    let event, node, calls, tail\n    if (!(calls = this.callbacks)) {\n      return this\n    }\n    events = events.split(Events.eventSplitter)\n    const rest = [].slice.call(arguments, 1)\n    while ((event = events.shift())) {\n      if ((node = calls[event])) {\n        tail = node.tail\n        while ((node = node.next) !== tail) {\n          node.callback.apply(node.context || this, rest)\n        }\n      }\n    }\n    return this\n  }\n}\n\nexport type EventsType = typeof Events\n\nconst eventCenter = getHooks().getEventCenter(Events)\ncontainer.bind<Events>(SID_EVENT_CENTER).toConstantValue(eventCenter)\n\nexport { eventCenter }\n","/* eslint-disable dot-notation */\nimport { isFunction, EMPTY_OBJ, ensure, Shortcuts, isUndefined, isArray, isString } from '@tarojs/shared'\nimport { getHooks } from '../container/store'\nimport { eventHandler } from '../dom/event'\nimport { Current } from '../current'\nimport { document } from '../bom/document'\nimport { incrementId, customWrapperCache } from '../utils'\nimport { perf } from '../perf'\nimport { eventCenter } from '../emitter/emitter'\nimport { raf } from '../bom/raf'\nimport { PAGE_INIT, CUSTOM_WRAPPER, VIEW, ON_READY, ON_SHOW, ON_HIDE, ON_LOAD, OPTIONS, EXTERNAL_CLASSES, BEHAVIORS } from '../constants'\n\nimport type { PageConfig } from '@tarojs/taro'\nimport type { Instance, PageInstance, PageProps } from './instance'\nimport type { Func, MpInstance } from '../interface'\nimport type { TaroRootElement } from '../dom/root'\n\nconst instances = new Map<string, Instance>()\nconst pageId = incrementId()\n\nexport function injectPageInstance (inst: Instance<PageProps>, id: string) {\n  getHooks().mergePageInstance?.(instances.get(id), inst)\n  instances.set(id, inst)\n}\n\nexport function getPageInstance (id: string): Instance | undefined {\n  return instances.get(id)\n}\n\nexport function addLeadingSlash (path?: string): string {\n  if (path == null) {\n    return ''\n  }\n  return path.charAt(0) === '/' ? path : '/' + path\n}\n\nexport function safeExecute (path: string, lifecycle: string, ...args: unknown[]) {\n  const instance = instances.get(path)\n\n  if (instance == null) {\n    return\n  }\n\n  const func = getHooks().getLifecycle(instance, lifecycle as keyof PageInstance)\n\n  if (isArray(func)) {\n    const res = func.map(fn => fn.apply(instance, args))\n    return res[0]\n  }\n\n  if (!isFunction(func)) {\n    return\n  }\n\n  return func.apply(instance, args)\n}\n\nexport function stringify (obj?: Record<string, unknown>) {\n  if (obj == null) {\n    return ''\n  }\n  const path = Object.keys(obj).map((key) => {\n    return key + '=' + obj[key]\n  }).join('&')\n  return path === '' ? path : '?' + path\n}\n\nexport function getPath (id: string, options?: Record<string, unknown>): string {\n  const idx = id.indexOf('?')\n  return `${idx > -1 ? id.substring(0, idx) : id}${stringify(process.env.TARO_ENV === 'h5' ? { stamp: options?.stamp || '' } : options)}`\n}\n\nexport function getOnReadyEventKey (path: string) {\n  return path + '.' + ON_READY\n}\n\nexport function getOnShowEventKey (path: string) {\n  return path + '.' + ON_SHOW\n}\n\nexport function getOnHideEventKey (path: string) {\n  return path + '.' + ON_HIDE\n}\n\nexport function createPageConfig (component: any, pageName?: string, data?: Record<string, unknown>, pageConfig?: PageConfig) {\n  // 小程序 Page 构造器是一个傲娇小公主，不能把复杂的对象挂载到参数上\n  const id = pageName ?? `taro_page_${pageId()}`\n  const hooks = getHooks()\n  const [\n    ONLOAD,\n    ONUNLOAD,\n    ONREADY,\n    ONSHOW,\n    ONHIDE,\n    LIFECYCLES\n  ] = hooks.getMiniLifecycleImpl().page\n  let pageElement: TaroRootElement | null = null\n  let unmounting = false\n  let prepareMountList: (() => void)[] = []\n\n  function setCurrentRouter (page: MpInstance) {\n    const router = process.env.TARO_ENV === 'h5' ? page.$taroPath : page.route || page.__route__ || page.$taroPath\n    Current.router = {\n      params: page.$taroParams!,\n      path: addLeadingSlash(router),\n      onReady: getOnReadyEventKey(id),\n      onShow: getOnShowEventKey(id),\n      onHide: getOnHideEventKey(id)\n    }\n  }\n  let loadResolver: (...args: unknown[]) => void\n  let hasLoaded: Promise<void>\n  const config: PageInstance = {\n    [ONLOAD] (this: MpInstance, options: Record<string, unknown> = {}, cb?: Func) {\n      hasLoaded = new Promise(resolve => { loadResolver = resolve })\n\n      perf.start(PAGE_INIT)\n\n      Current.page = this as any\n      this.config = pageConfig || {}\n      options.$taroTimestamp = Date.now()\n\n      // this.$taroPath 是页面唯一标识，不可变，因此页面参数 options 也不可变\n      this.$taroPath = getPath(id, options)\n      const $taroPath = this.$taroPath\n      if (process.env.TARO_ENV === 'h5') {\n        config.path = this.$taroPath\n      }\n      // this.$taroParams 作为暴露给开发者的页面参数对象，可以被随意修改\n      if (this.$taroParams == null) {\n        this.$taroParams = Object.assign({}, options)\n      }\n\n      setCurrentRouter(this)\n\n      const mount = () => {\n        Current.app!.mount!(component, $taroPath, () => {\n          pageElement = document.getElementById<TaroRootElement>($taroPath)\n\n          ensure(pageElement !== null, '没有找到页面实例。')\n          safeExecute($taroPath, ON_LOAD, this.$taroParams)\n          loadResolver()\n          if (process.env.TARO_ENV !== 'h5') {\n            pageElement.ctx = this\n            pageElement.performUpdate(true, cb)\n          } else {\n            isFunction(cb) && cb()\n          }\n        })\n      }\n      if (unmounting) {\n        prepareMountList.push(mount)\n      } else {\n        mount()\n      }\n    },\n    [ONUNLOAD] () {\n      const $taroPath = this.$taroPath\n      unmounting = true\n      Current.app!.unmount!($taroPath, () => {\n        unmounting = false\n        instances.delete($taroPath)\n        if (pageElement) {\n          pageElement.ctx = null\n          pageElement = null\n        }\n        if (prepareMountList.length) {\n          prepareMountList.forEach(fn => fn())\n          prepareMountList = []\n        }\n      })\n    },\n    [ONREADY] () {\n      // 触发生命周期\n      safeExecute(this.$taroPath, ON_READY)\n      // 通过事件触发子组件的生命周期\n      raf(() => eventCenter.trigger(getOnReadyEventKey(id)))\n      this.onReady.called = true\n    },\n    [ONSHOW] (options = {}) {\n      hasLoaded.then(() => {\n        // 设置 Current 的 page 和 router\n        Current.page = this as any\n        setCurrentRouter(this)\n        // 触发生命周期\n        safeExecute(this.$taroPath, ON_SHOW, options)\n        // 通过事件触发子组件的生命周期\n        raf(() => eventCenter.trigger(getOnShowEventKey(id)))\n      })\n    },\n    [ONHIDE] () {\n      // 设置 Current 的 page 和 router\n      if (Current.page === this) {\n        Current.page = null\n        Current.router = null\n      }\n      // 触发生命周期\n      safeExecute(this.$taroPath, ON_HIDE)\n      // 通过事件触发子组件的生命周期\n      eventCenter.trigger(getOnHideEventKey(id))\n    }\n  }\n\n  LIFECYCLES.forEach((lifecycle) => {\n    config[lifecycle] = function () {\n      return safeExecute(this.$taroPath, lifecycle, ...arguments)\n    }\n  })\n\n  // onShareAppMessage 和 onShareTimeline 一样，会影响小程序右上方按钮的选项，因此不能默认注册。\n  if (component.onShareAppMessage ||\n      component.prototype?.onShareAppMessage ||\n      component.enableShareAppMessage) {\n    config.onShareAppMessage = function (options) {\n      const target = options?.target\n      if (target) {\n        const id = target.id\n        const element = document.getElementById(id)\n        if (element) {\n          target!.dataset = element.dataset\n        }\n      }\n      return safeExecute(this.$taroPath, 'onShareAppMessage', options)\n    }\n  }\n  if (component.onShareTimeline ||\n      component.prototype?.onShareTimeline ||\n      component.enableShareTimeline) {\n    config.onShareTimeline = function () {\n      return safeExecute(this.$taroPath, 'onShareTimeline')\n    }\n  }\n\n  config.eh = eventHandler\n\n  if (!isUndefined(data)) {\n    config.data = data\n  }\n\n  hooks.modifyPageObject?.(config)\n\n  return config\n}\n\nexport function createComponentConfig (component: React.ComponentClass, componentName?: string, data?: Record<string, unknown>) {\n  const id = componentName ?? `taro_component_${pageId()}`\n  let componentElement: TaroRootElement | null = null\n\n  const config: any = {\n    attached () {\n      perf.start(PAGE_INIT)\n      const path = getPath(id, { id: this.getPageId?.() || pageId() })\n      Current.app!.mount!(component, path, () => {\n        componentElement = document.getElementById<TaroRootElement>(path)\n        ensure(componentElement !== null, '没有找到组件实例。')\n        safeExecute(path, ON_LOAD)\n        if (process.env.TARO_ENV !== 'h5') {\n          componentElement.ctx = this\n          componentElement.performUpdate(true)\n        }\n      })\n    },\n    detached () {\n      const path = getPath(id, { id: this.getPageId() })\n      Current.app!.unmount!(path, () => {\n        instances.delete(path)\n        if (componentElement) {\n          componentElement.ctx = null\n        }\n      })\n    },\n    methods: {\n      eh: eventHandler\n    }\n  }\n\n  if (!isUndefined(data)) {\n    config.data = data\n  }\n\n  [OPTIONS, EXTERNAL_CLASSES, BEHAVIORS].forEach(key => {\n    config[key] = component[key] ?? EMPTY_OBJ\n  })\n\n  return config\n}\n\nexport function createRecursiveComponentConfig (componentName?: string) {\n  const isCustomWrapper = componentName === CUSTOM_WRAPPER\n  const lifeCycles = isCustomWrapper\n    ? {\n      attached () {\n        const componentId = this.data.i?.sid\n        if (isString(componentId)) {\n          customWrapperCache.set(componentId, this)\n        }\n      },\n      detached () {\n        const componentId = this.data.i?.sid\n        if (isString(componentId)) {\n          customWrapperCache.delete(componentId)\n        }\n      }\n    }\n    : EMPTY_OBJ\n\n  return {\n    properties: {\n      i: {\n        type: Object,\n        value: {\n          [Shortcuts.NodeName]: VIEW\n        }\n      },\n      l: {\n        type: String,\n        value: ''\n      }\n    },\n    options: {\n      addGlobalClass: true,\n      virtualHost: !isCustomWrapper\n    },\n    methods: {\n      eh: eventHandler\n    },\n    ...lifeCycles\n  }\n}\n","import { Current } from './current'\nimport { getPath } from './dsl/common'\nimport { TaroRootElement } from './dom/root'\nimport { document } from './bom/document'\n\nimport type { Func } from './interface'\n\nfunction removeLeadingSlash (path?: string) {\n  if (path == null) {\n    return ''\n  }\n  return path.charAt(0) === '/' ? path.slice(1) : path\n}\n\nexport const nextTick = (cb: Func, ctx?: Record<string, any>) => {\n  const router = Current.router\n  const timerFunc = () => {\n    setTimeout(function () {\n      ctx ? cb.call(ctx) : cb()\n    }, 1)\n  }\n\n  if (router !== null) {\n    let pageElement: TaroRootElement | null = null\n    const path = getPath(removeLeadingSlash(router.path), router.params)\n    pageElement = document.getElementById<TaroRootElement>(path)\n    if (pageElement?.pendingUpdate) {\n      if (process.env.TARO_ENV === 'h5') {\n        // eslint-disable-next-line dot-notation\n        pageElement.firstChild?.['componentOnReady']?.().then(() => {\n          timerFunc()\n        }) ?? timerFunc()\n      } else {\n        pageElement.enqueueUpdateCallback(cb, ctx)\n      }\n    } else {\n      timerFunc()\n    }\n  } else {\n    timerFunc()\n  }\n}\n","export function isString (o: unknown): o is string {\n  return typeof o === 'string'\n}\n\nexport function isUndefined (o: unknown): o is undefined {\n  return typeof o === 'undefined'\n}\n\nexport function isNull (o: unknown): o is null {\n  return o === null\n}\n\nexport function isObject<T> (o: unknown): o is T {\n  return o !== null && typeof o === 'object'\n}\n\nexport function isBoolean (o: unknown): o is boolean {\n  return o === true || o === false\n}\n\nexport function isFunction (o: unknown): o is (...args: any[]) => any {\n  return typeof o === 'function'\n}\n\nexport function isNumber (o: unknown): o is number {\n  return typeof o === 'number'\n}\n\nexport function isBooleanStringLiteral (o: unknown): o is string {\n  return o === 'true' || o === 'false'\n}\n\nexport const isArray = Array.isArray\n","import { internalComponents } from './components'\nimport { isArray } from './is'\n\nexport const EMPTY_OBJ: any = {}\n\nexport const EMPTY_ARR = []\n\nexport const noop = (..._: unknown[]) => {}\n\nexport const defaultReconciler = Object.create(null)\n\n/**\n * Boxed value.\n *\n * @typeparam T Value type.\n */\nexport interface Box<T> {\n  v: T;\n}\n\n/**\n * box creates a boxed value.\n *\n * @typeparam T Value type.\n * @param v Value.\n * @returns Boxed value.\n */\nexport const box = <T>(v: T) => ({ v })\n\n/**\n * box creates a boxed value.\n *\n * @typeparam T Value type.\n * @param b Boxed value.\n * @returns Value.\n */\nexport const unbox = <T>(b: Box<T>) => b.v\n\nexport function toDashed (s: string) {\n  return s.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase()\n}\n\nexport function toCamelCase (s: string) {\n  let camel = ''\n  let nextCap = false\n  for (let i = 0; i < s.length; i++) {\n    if (s[i] !== '-') {\n      camel += nextCap ? s[i].toUpperCase() : s[i]\n      nextCap = false\n    } else {\n      nextCap = true\n    }\n  }\n  return camel\n}\n\nexport const toKebabCase = function (string) {\n  return string.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase()\n}\n\nexport function capitalize (s: string) {\n  return s.charAt(0).toUpperCase() + s.slice(1)\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty\n\nexport const hasOwn = (\n  val: Record<any, any>,\n  key: string | symbol\n) => hasOwnProperty.call(val, key)\n\n/**\n * ensure takes a condition and throw a error if the condition fails,\n * like failure::ensure: https://docs.rs/failure/0.1.1/failure/macro.ensure.html\n * @param condition condition.\n * @param msg error message.\n */\nexport function ensure (condition: boolean, msg: string): asserts condition {\n  if (!condition) {\n    if (process.env.NODE_ENV !== 'production') {\n      const reportIssue = '\\n如有疑问，请提交 issue 至：https://github.com/nervjs/taro/issues'\n      throw new Error(msg + reportIssue)\n    } else {\n      throw new Error(msg)\n    }\n  }\n}\n\nexport function warn (condition: boolean, msg: string) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (condition) {\n      console.warn(`[taro warn] ${msg}`)\n    }\n  }\n}\n\nexport function queryToJson (str) {\n  const dec = decodeURIComponent\n  const qp = str.split('&')\n  const ret = {}\n  let name\n  let val\n  for (let i = 0, l = qp.length, item; i < l; ++i) {\n    item = qp[i]\n    if (item.length) {\n      const s = item.indexOf('=')\n      if (s < 0) {\n        name = dec(item)\n        val = ''\n      } else {\n        name = dec(item.slice(0, s))\n        val = dec(item.slice(s + 1))\n      }\n      if (typeof ret[name] === 'string') { // inline'd type check\n        ret[name] = [ret[name]]\n      }\n\n      if (Array.isArray(ret[name])) {\n        ret[name].push(val)\n      } else {\n        ret[name] = val\n      }\n    }\n  }\n  return ret // Object\n}\n\nlet _uniqueId = 1\nconst _loadTime = (new Date()).getTime().toString()\n\nexport function getUniqueKey () {\n  return _loadTime + (_uniqueId++)\n}\n\nconst cacheData = {}\n\nexport function cacheDataSet (key, val) {\n  cacheData[key] = val\n}\n\nexport function cacheDataGet (key, delelteAfterGet?) {\n  const temp = cacheData[key]\n  delelteAfterGet && delete cacheData[key]\n  return temp\n}\n\nexport function cacheDataHas (key) {\n  return key in cacheData\n}\n\nexport function mergeInternalComponents (components) {\n  Object.keys(components).forEach(name => {\n    if (name in internalComponents) {\n      Object.assign(internalComponents[name], components[name])\n    } else {\n      internalComponents[name] = components[name]\n    }\n  })\n}\n\nexport function mergeReconciler (hostConfig) {\n  Object.keys(hostConfig).forEach(key => {\n    const value = hostConfig[key]\n    const raw = defaultReconciler[key]\n\n    defaultReconciler[key] = !raw\n      ? value\n      : (\n        isArray(raw)\n          ? raw.concat(value)\n          : [raw, value]\n      )\n  })\n}\n\nexport function unsupport (api) {\n  return function () {\n    console.warn(`小程序暂不支持 ${api}`)\n  }\n}\n\nexport function setUniqueKeyToRoute (key: string, obj) {\n  const routerParamsPrivateKey = '__key_'\n  const useDataCacheApis = [\n    'navigateTo',\n    'redirectTo',\n    'reLaunch',\n    'switchTab'\n  ]\n\n  if (useDataCacheApis.indexOf(key) > -1) {\n    const url = obj.url = obj.url || ''\n    const hasMark = url.indexOf('?') > -1\n    const cacheKey = getUniqueKey()\n    obj.url += (hasMark ? '&' : '?') + `${routerParamsPrivateKey}=${cacheKey}`\n  }\n}\n\nexport function indent (str: string, size: number): string {\n  return str.split('\\n')\n    .map((line, index) => {\n      const indent = index === 0 ? '' : Array(size).fill(' ').join('')\n      return indent + line\n    })\n    .join('\\n')\n}\n","import { isString, isFunction } from './is'\nimport { unsupport, setUniqueKeyToRoute } from './utils'\n\ndeclare const getCurrentPages: () => any\ndeclare const getApp: () => any\ndeclare const requirePlugin: () => void\n\ntype IObject = Record<string, any>\n\ninterface IProcessApisIOptions {\n  noPromiseApis?: Set<string>\n  needPromiseApis?: Set<string>\n  handleSyncApis?: (key: string, global: IObject, args: any[]) => any\n  transformMeta?: (key: string, options: IObject) => { key: string, options: IObject },\n  modifyApis?: (apis: Set<string>) => void\n  modifyAsyncResult?: (key: string, res) => void\n  isOnlyPromisify?: boolean\n  [propName: string]: any\n}\n\nconst needPromiseApis = new Set<string>([\n  'addPhoneContact',\n  'authorize',\n  'canvasGetImageData',\n  'canvasPutImageData',\n  'canvasToTempFilePath',\n  'checkSession',\n  'chooseAddress',\n  'chooseImage',\n  'chooseInvoiceTitle',\n  'chooseLocation',\n  'chooseVideo',\n  'clearStorage',\n  'closeBLEConnection',\n  'closeBluetoothAdapter',\n  'closeSocket',\n  'compressImage',\n  'connectSocket',\n  'createBLEConnection',\n  'downloadFile',\n  'exitMiniProgram',\n  'getAvailableAudioSources',\n  'getBLEDeviceCharacteristics',\n  'getBLEDeviceServices',\n  'getBatteryInfo',\n  'getBeacons',\n  'getBluetoothAdapterState',\n  'getBluetoothDevices',\n  'getClipboardData',\n  'getConnectedBluetoothDevices',\n  'getConnectedWifi',\n  'getExtConfig',\n  'getFileInfo',\n  'getImageInfo',\n  'getLocation',\n  'getNetworkType',\n  'getSavedFileInfo',\n  'getSavedFileList',\n  'getScreenBrightness',\n  'getSetting',\n  'getStorage',\n  'getStorageInfo',\n  'getSystemInfo',\n  'getUserInfo',\n  'getWifiList',\n  'hideHomeButton',\n  'hideShareMenu',\n  'hideTabBar',\n  'hideTabBarRedDot',\n  'loadFontFace',\n  'login',\n  'makePhoneCall',\n  'navigateBack',\n  'navigateBackMiniProgram',\n  'navigateTo',\n  'navigateToBookshelf',\n  'navigateToMiniProgram',\n  'notifyBLECharacteristicValueChange',\n  'hideKeyboard',\n  'hideLoading',\n  'hideNavigationBarLoading',\n  'hideToast',\n  'openBluetoothAdapter',\n  'openDocument',\n  'openLocation',\n  'openSetting',\n  'pageScrollTo',\n  'previewImage',\n  'queryBookshelf',\n  'reLaunch',\n  'readBLECharacteristicValue',\n  'redirectTo',\n  'removeSavedFile',\n  'removeStorage',\n  'removeTabBarBadge',\n  'requestSubscribeMessage',\n  'saveFile',\n  'saveImageToPhotosAlbum',\n  'saveVideoToPhotosAlbum',\n  'scanCode',\n  'sendSocketMessage',\n  'setBackgroundColor',\n  'setBackgroundTextStyle',\n  'setClipboardData',\n  'setEnableDebug',\n  'setInnerAudioOption',\n  'setKeepScreenOn',\n  'setNavigationBarColor',\n  'setNavigationBarTitle',\n  'setScreenBrightness',\n  'setStorage',\n  'setTabBarBadge',\n  'setTabBarItem',\n  'setTabBarStyle',\n  'showActionSheet',\n  'showFavoriteGuide',\n  'showLoading',\n  'showModal',\n  'showShareMenu',\n  'showTabBar',\n  'showTabBarRedDot',\n  'showToast',\n  'startBeaconDiscovery',\n  'startBluetoothDevicesDiscovery',\n  'startDeviceMotionListening',\n  'startPullDownRefresh',\n  'stopBeaconDiscovery',\n  'stopBluetoothDevicesDiscovery',\n  'stopCompass',\n  'startCompass',\n  'startAccelerometer',\n  'stopAccelerometer',\n  'showNavigationBarLoading',\n  'stopDeviceMotionListening',\n  'stopPullDownRefresh',\n  'switchTab',\n  'uploadFile',\n  'vibrateLong',\n  'vibrateShort',\n  'writeBLECharacteristicValue'\n])\n\nfunction getCanIUseWebp (taro) {\n  return function () {\n    const res = taro.getSystemInfoSync?.()\n\n    if (!res) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('不支持 API canIUseWebp')\n      }\n      return false\n    }\n\n    const { platform } = res\n\n    const platformLower = platform.toLowerCase()\n    if (platformLower === 'android' || platformLower === 'devtools') {\n      return true\n    }\n    return false\n  }\n}\n\nfunction getNormalRequest (global) {\n  return function request (options) {\n    options = options\n      ? (\n        isString(options)\n          ? { url: options }\n          : options\n      )\n      : {}\n\n    const originSuccess = options.success\n    const originFail = options.fail\n    const originComplete = options.complete\n    let requestTask\n    const p: any = new Promise((resolve, reject) => {\n      options.success = res => {\n        originSuccess && originSuccess(res)\n        resolve(res)\n      }\n      options.fail = res => {\n        originFail && originFail(res)\n        reject(res)\n      }\n\n      options.complete = res => {\n        originComplete && originComplete(res)\n      }\n\n      requestTask = global.request(options)\n    })\n    p.abort = (cb) => {\n      cb && cb()\n      if (requestTask) {\n        requestTask.abort()\n      }\n      return p\n    }\n    return p\n  }\n}\n\nfunction processApis (taro, global, config: IProcessApisIOptions = {}) {\n  const patchNeedPromiseApis = config.needPromiseApis || []\n  const _needPromiseApis = new Set<string>([...patchNeedPromiseApis, ...needPromiseApis])\n  const preserved = [\n    'getEnv',\n    'interceptors',\n    'Current',\n    'getCurrentInstance',\n    'options',\n    'nextTick',\n    'eventCenter',\n    'Events',\n    'preload',\n    'webpackJsonp'\n  ]\n\n  const apis = new Set(\n    !config.isOnlyPromisify\n      ? Object.keys(global).filter(api => preserved.indexOf(api) === -1)\n      : patchNeedPromiseApis\n  )\n\n  if (config.modifyApis) {\n    config.modifyApis(apis)\n  }\n\n  apis.forEach(key => {\n    if (_needPromiseApis.has(key)) {\n      const originKey = key\n      taro[originKey] = (options: Record<string, any> | string = {}, ...args) => {\n        let key = originKey\n\n        // 第一个参数 options 为字符串，单独处理\n        if (typeof options === 'string') {\n          if (args.length) {\n            return global[key](options, ...args)\n          }\n          return global[key](options)\n        }\n\n        // 改变 key 或 option 字段，如需要把支付宝标准的字段对齐微信标准的字段\n        if (config.transformMeta) {\n          const transformResult = config.transformMeta(key, options)\n          key = transformResult.key\n          ; (options as Record<string, any>) = transformResult.options\n          // 新 key 可能不存在\n          if (!global.hasOwnProperty(key)) {\n            return unsupport(key)()\n          }\n        }\n\n        let task: any = null\n        const obj: Record<string, any> = Object.assign({}, options)\n\n        // 为页面跳转相关的 API 设置一个随机数作为路由参数。为了给 runtime 区分页面。\n        setUniqueKeyToRoute(key, options)\n\n        // Promise 化\n        const p: any = new Promise((resolve, reject) => {\n          obj.success = res => {\n            config.modifyAsyncResult?.(key, res)\n            options.success?.(res)\n            if (key === 'connectSocket') {\n              resolve(\n                Promise.resolve().then(() => task ? Object.assign(task, res) : res)\n              )\n            } else {\n              resolve(res)\n            }\n          }\n          obj.fail = res => {\n            options.fail?.(res)\n            reject(res)\n          }\n          obj.complete = res => {\n            options.complete?.(res)\n          }\n          if (args.length) {\n            task = global[key](obj, ...args)\n          } else {\n            task = global[key](obj)\n          }\n        })\n\n        // 给 promise 对象挂载属性\n        if (key === 'uploadFile' || key === 'downloadFile') {\n          p.progress = cb => {\n            task?.onProgressUpdate(cb)\n            return p\n          }\n          p.abort = cb => {\n            cb?.()\n            task?.abort()\n            return p\n          }\n        }\n        return p\n      }\n    } else {\n      let platformKey = key\n\n      // 改变 key 或 option 字段，如需要把支付宝标准的字段对齐微信标准的字段\n      if (config.transformMeta) {\n        platformKey = config.transformMeta(key, {}).key\n      }\n\n      // API 不存在\n      if (!global.hasOwnProperty(platformKey)) {\n        taro[key] = unsupport(key)\n        return\n      }\n      if (isFunction(global[key])) {\n        taro[key] = (...args) => {\n          if (config.handleSyncApis) {\n            return config.handleSyncApis(key, global, args)\n          } else {\n            return global[platformKey].apply(global, args)\n          }\n        }\n      } else {\n        taro[key] = global[platformKey]\n      }\n    }\n  })\n\n  !config.isOnlyPromisify && equipCommonApis(taro, global, config)\n}\n\n/**\n * 挂载常用 API\n * @param taro Taro 对象\n * @param global 小程序全局对象，如微信的 wx，支付宝的 my\n */\nfunction equipCommonApis (taro, global, apis: Record<string, any> = {}) {\n  taro.canIUseWebp = getCanIUseWebp(taro)\n  taro.getCurrentPages = getCurrentPages || unsupport('getCurrentPages')\n  taro.getApp = getApp || unsupport('getApp')\n  taro.env = global.env || {}\n\n  try {\n    taro.requirePlugin = requirePlugin || unsupport('requirePlugin')\n  } catch (error) {\n    taro.requirePlugin = unsupport('requirePlugin')\n  }\n\n  // request & interceptors\n  const request = apis.request || getNormalRequest(global)\n  function taroInterceptor (chain) {\n    return request(chain.requestParams)\n  }\n  const link = new taro.Link(taroInterceptor)\n  taro.request = link.request.bind(link)\n  taro.addInterceptor = link.addInterceptor.bind(link)\n  taro.cleanInterceptors = link.cleanInterceptors.bind(link)\n  taro.miniGlobal = taro.options.miniGlobal = global\n}\n\nexport {\n  processApis\n}\n","const { container, SERVICE_IDENTIFIER } = require('@tarojs/runtime')\nconst taro = require('@tarojs/api').default\n\nconst hooks = container.get(SERVICE_IDENTIFIER.Hooks)\nif (typeof hooks.initNativeApi === 'function') {\n  hooks.initNativeApi(taro)\n}\n\nmodule.exports = taro\nmodule.exports.default = module.exports\n"],"sourceRoot":""}